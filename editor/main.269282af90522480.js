var oU=Object.defineProperty,iU=Object.defineProperties,rU=Object.getOwnPropertyDescriptors,m2=Object.getOwnPropertySymbols,sU=Object.prototype.hasOwnProperty,aU=Object.prototype.propertyIsEnumerable,b2=(S,R,V)=>R in S?oU(S,R,{enumerable:!0,configurable:!0,writable:!0,value:V}):S[R]=V,He=(S,R)=>{for(var V in R||(R={}))sU.call(R,V)&&b2(S,V,R[V]);if(m2)for(var V of m2(R))aU.call(R,V)&&b2(S,V,R[V]);return S},wl=(S,R)=>iU(S,rU(R));(self.webpackChunkeditor=self.webpackChunkeditor||[]).push([[179],{170:(S,R,V)=>{S=V.nmd(S);var x=V(926).default;(function(D){const M=D.en=D.en||{};M.dictionary=Object.assign(M.dictionary||{},{"%0 of %1":"%0 of %1",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Orange:"Orange",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),self,S.exports=(()=>(()=>{"use strict";var D={3062:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content blockquote {\n\t/* See #12 */\n\toverflow: hidden;\n\n\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\n\tpadding-right: 1.5em;\n\tpadding-left: 1.5em;\n\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-style: italic;\n\tborder-left: solid 5px hsl(0, 0%, 80%);\n}\n\n.ck-content[dir="rtl"] blockquote {\n\tborder-left: 0;\n\tborder-right: solid 5px hsl(0, 0%, 80%);\n}\n'],sourceRoot:""}]);const Q=A},903:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: inline;\n\t\tposition: relative;\n\t\tpointer-events: none;\n\n\t\t& span {\n\t\t\tposition: absolute;\n\t\t\twidth: 0;\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\t& > .ck-widget__selection-handle {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t& > .ck-widget__type-around {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-clipboard-drop-target-dot-width: 12px;\n\t--ck-clipboard-drop-target-dot-height: 8px;\n\t--ck-clipboard-drop-target-color: var(--ck-color-focus-border)\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\t& span {\n\t\t\tbottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tbackground: var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-left: -1px;\n\n\t\t\t/* The triangle above the marker */\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);\n\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tborder-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;\n\t\t\t\tborder-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t// Horizontal drop target (between blocks).\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 0;\n\t\tmargin: 0;\n\t\ttext-align: initial;\n\n\t\t& .ck-clipboard-drop-target__line {\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\theight: 0;\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-top: -1px;\n\n\t\t\t&::before {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\t*/\n\n\t/*\n\t * Styles of the widget that it a drop target.\n\t */\n\t& .ck-widget.ck-clipboard-drop-target-range {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\tzoom: 0.6;\n\t\toutline: none !important;\n\t}\n}\n'],sourceRoot:""}]);const Q=A},3143:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor {\n\t/* All the elements within `.ck-editor` are positioned relatively to it.\n\t If any element needs to be positioned with respect to the <body>, etc.,\n\t it must land outside of the `.ck-editor` in DOM. */\n\tposition: relative;\n\n\t& .ck-editor__top .ck-sticky-panel .ck-toolbar {\n\t\t/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */\n\t\tz-index: var(--ck-z-modal);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n.ck.ck-editor__top {\n\t& .ck-sticky-panel {\n\t\t& .ck-toolbar {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\n\t\t\tborder-bottom-width: 0;\n\t\t}\n\n\t\t& .ck-sticky-panel__content_sticky .ck-toolbar {\n\t\t\tborder-bottom-width: 1px;\n\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Note: Use ck-editor__main to make sure these styles don\'t apply to other editor types */\n.ck.ck-editor__main > .ck-editor__editable {\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */\n\tbackground: var(--ck-color-base-background);\n\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&:not(.ck-focused) {\n\t\tborder-color: var(--ck-color-base-border);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Q=A},4717:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder,\n.ck .ck-placeholder {\n\tposition: relative;\n\n\t&::before {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tcontent: attr(data-placeholder);\n\n\t\t/* See ckeditor/ckeditor5#469. */\n\t\tpointer-events: none;\n\t}\n}\n\n/* See ckeditor/ckeditor5#1987. */\n.ck.ck-read-only .ck-placeholder {\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n\n/*\n * Rules for the `ck-placeholder` are loaded before the rules for `ck-reset_all` in the base CKEditor 5 DLL build.\n * This fix overwrites the incorrectly set `position: static` from `ck-reset_all`.\n * See https://github.com/ckeditor/ckeditor5/issues/11418.\n */\n.ck.ck-reset_all .ck-placeholder {\n\tposition: relative;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder, .ck .ck-placeholder {\n\t&::before {\n\t\tcursor: text;\n\t\tcolor: var(--ck-color-engine-placeholder-text);\n\t}\n}\n"],sourceRoot:""}]);const Q=A},9315:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Elements marked by the Renderer as hidden should be invisible in the editor. */\n.ck.ck-editor__editable span[data-ck-unsafe-element] {\n\tdisplay: none;\n}\n"],sourceRoot:""}]);const Q=A},8733:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-heading_heading1 {\n\tfont-size: 20px;\n}\n\n.ck.ck-heading_heading2 {\n\tfont-size: 17px;\n}\n\n.ck.ck-heading_heading3 {\n\tfont-size: 14px;\n}\n\n.ck[class*="ck-heading_heading"] {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Resize dropdown's button label. */\n.ck.ck-dropdown.ck-heading-dropdown {\n\t& .ck-dropdown__button .ck-button__label {\n\t\twidth: 8em;\n\t}\n\n\t& .ck-dropdown__panel .ck-list__item {\n\t\tmin-width: 18em;\n\t}\n}\n"],sourceRoot:""}]);const Q=A},3508:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content {\n\t& .image {\n\t\tdisplay: table;\n\t\tclear: both;\n\t\ttext-align: center;\n\n\t\t/* Make sure there is some space between the content and the image. Center image by default. */\n\t\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\t \tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\t\tmargin: 0.9em auto;\n\n\t\t/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */\n\t\tmin-width: 50px;\n\n\t\t& img {\n\t\t\t/* Prevent unnecessary margins caused by line-height (see #44). */\n\t\t\tdisplay: block;\n\n\t\t\t/* Center the image if its width is smaller than the content\'s width. */\n\t\t\tmargin: 0 auto;\n\n\t\t\t/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */\n\t\t\tmax-width: 100%;\n\n\t\t\t/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */\n\t\t\tmin-width: 100%\n\t\t}\n\t}\n\n\t& .image-inline {\n\t\t/*\n\t\t * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).\n\t\t * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.\n\t\t * This strange behavior does not happen with inline-flex.\n\t\t */\n\t\tdisplay: inline-flex;\n\n\t\t/* While being resized, don\'t allow the image to exceed the width of the editing root. */\n\t\tmax-width: 100%;\n\n\t\t/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */\n\t\talign-items: flex-start;\n\n\t\t/* When the picture is present it must act as a flex container to let the img resize properly */\n\t\t& picture {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t/* When the picture is present, it must act like a resizable img. */\n\t\t& picture,\n\t\t& img {\n\t\t\t/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */\n\t\t\tflex-grow: 1;\n\t\t\tflex-shrink: 1;\n\n\t\t\t/* Prevents overflowing the editing root boundaries when an inline image is very wide. */\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Inhertit the content styles padding of the <figcaption> in case the integration overrides `text-align: center`\n\t * of `.image` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native\n\t * caret does, and not at the edge of <figcaption>.\n\t */\n\t& .image > figcaption.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the image caption placeholder doesn\'t overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\n\t/*\n\t * Make sure the selected inline image always stays on top of its siblings.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t */\n\t& .image.ck-widget_selected {\n\t\tz-index: 1;\n\t}\n\n\t& .image-inline.ck-widget_selected {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the native browser selection style is not displayed.\n\t\t * Inline image widgets have their own styles for the selected state and\n\t\t * leaving this up to the browser is asking for a visual collision.\n\t\t */\n\t\t& ::selection {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t/* The inline image nested in the table should have its original size if not resized.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline img {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Q=A},2640:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-image-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .image > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: bottom;\n\tword-break: break-word;\n\tcolor: var(--ck-color-image-caption-text);\n\tbackground-color: var(--ck-color-image-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {\n\tanimation: ck-image-caption-highlight .6s ease-out;\n}\n\n@keyframes ck-image-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-image-caption-highligted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-image-caption-background);\n\t}\n}\n"],sourceRoot:""}]);const Q=A},5083:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-image-style-spacing: 1.5em;\n\t--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);\n}\n\n.ck-content {\n\t/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback\n\tconfirming successful application of the style if image width exceeds the editor's size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9342 */\n\t& .image-style-block-align-left,\n\t& .image-style-block-align-right {\n\t\tmax-width: calc(100% - var(--ck-image-style-spacing));\n\t}\n\n\t/* Allows displaying multiple floating images in the same line.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */\n\t& .image-style-align-left,\n\t& .image-style-align-right {\n\t\tclear: none;\n\t}\n\n\t& .image-style-side {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t\tmax-width: 50%;\n\t}\n\n\t& .image-style-align-left {\n\t\tfloat: left;\n\t\tmargin-right: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-align-center {\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\n\t& .image-style-align-right {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-block-align-right {\n\t\tmargin-right: 0;\n\t\tmargin-left: auto;\n\t}\n\n\t& .image-style-block-align-left {\n\t\tmargin-left: 0;\n\t\tmargin-right: auto;\n\t}\n\n\t/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */\n\t& p + .image-style-align-left,\n\t& p + .image-style-align-right,\n\t& p + .image-style-side {\n\t\tmargin-top: 0;\n\t}\n\n\t& .image-inline {\n\t\t&.image-style-align-left,\n\t\t&.image-style-align-right {\n\t\t\tmargin-top: var(--ck-inline-image-style-spacing);\n\t\t\tmargin-bottom: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-left {\n\t\t\tmargin-right: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-right {\n\t\t\tmargin-left: var(--ck-inline-image-style-spacing);\n\t\t}\n\t}\n}\n\n.ck.ck-splitbutton {\n\t/* The button should display as a regular drop-down if the action button\n\tis forced to fire the same action as the arrow button. */\n\t&.ck-splitbutton_flatten {\n\t\t&:hover,\n\t\t&.ck-splitbutton_open {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-background);\n\n\t\t\t\t&::after {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-splitbutton_open:hover {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-hover-background);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const Q=A},4036:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-image-upload-complete-icon {\n\tdisplay: block;\n\tposition: absolute;\n\n\t/*\n\t * Smaller images should have the icon closer to the border.\n\t * Match the icon position with the linked image indicator brought by the link image feature.\n\t */\n\ttop: min(var(--ck-spacing-medium), 6%);\n\tright: min(var(--ck-spacing-medium), 6%);\n\tborder-radius: 50%;\n\tz-index: 1;\n\n\t&::after {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-upload-icon: hsl(0, 0%, 100%);\n\t--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);\n\n\t/* Match the icon size with the linked image indicator brought by the link image feature. */\n\t--ck-image-upload-icon-size: 20;\n\t--ck-image-upload-icon-width: 2px;\n\t--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck-image-upload-complete-icon {\n\topacity: 0;\n\tbackground: var(--ck-color-image-upload-icon-background);\n\tanimation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;\n\tanimation-fill-mode: forwards, forwards;\n\tanimation-duration: 500ms, 500ms;\n\n\t/* To make animation scalable. */\n\tfont-size: calc(1px * var(--ck-image-upload-icon-size));\n\n\t/* Hide completed upload icon after 3 seconds. */\n\tanimation-delay: 0ms, 3000ms;\n\n\t/*\n\t * Use CSS math to simulate container queries.\n\t * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t */\n\toverflow: hidden;\n\twidth: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\theight: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\n\t/* This is check icon element made from border-width mixed with animations. */\n\t&::after {\n\t\t/* Because of border transformation we need to "hard code" left position. */\n\t\tleft: 25%;\n\n\t\ttop: 50%;\n\t\topacity: 0;\n\t\theight: 0;\n\t\twidth: 0;\n\n\t\ttransform: scaleX(-1) rotate(135deg);\n\t\ttransform-origin: left top;\n\t\tborder-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\t\tborder-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\n\t\tanimation-name: ck-upload-complete-icon-check;\n\t\tanimation-duration: 500ms;\n\t\tanimation-delay: 500ms;\n\t\tanimation-fill-mode: forwards;\n\n\t\t/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */\n\t\tbox-sizing: border-box;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-show {\n\tfrom {\n\t\topacity: 0;\n\t}\n\n\tto {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-hide {\n\tfrom {\n\t\topacity: 1;\n\t}\n\n\tto {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-check {\n\t0% {\n\t\topacity: 1;\n\t\twidth: 0;\n\t\theight: 0;\n\t}\n\t33% {\n\t\twidth: 0.3em;\n\t\theight: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t\twidth: 0.3em;\n\t\theight: 0.45em;\n\t}\n}\n'],sourceRoot:""}]);const Q=A},3773:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-upload-placeholder-loader {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttop: 0;\n\tleft: 0;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: relative;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);\n\t--ck-upload-placeholder-loader-size: 32px;\n\t--ck-upload-placeholder-image-aspect-ratio: 2.8;\n}\n\n.ck .ck-image-upload-placeholder {\n\t/* We need to control the full width of the SVG gray background. */\n\twidth: 100%;\n\tmargin: 0;\n\n\t&.image-inline {\n\t\twidth: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );\n\t}\n\n\t& img {\n\t\t/*\n\t\t * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.\n\t\t * There's nothing special about this number except that it should make the image placeholder look like\n\t\t * a real image during this short period after the upload started and before the image was read from the\n\t\t * file system (and a rich preview was loaded).\n\t\t */\n\t\taspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);\n\t}\n}\n\n.ck .ck-upload-placeholder-loader {\n\twidth: 100%;\n\theight: 100%;\n\n\t&::before {\n\t\twidth: var(--ck-upload-placeholder-loader-size);\n\t\theight: var(--ck-upload-placeholder-loader-size);\n\t\tborder-radius: 50%;\n\t\tborder-top: 3px solid var(--ck-color-upload-placeholder-loader);\n\t\tborder-right: 2px solid transparent;\n\t\tanimation: ck-upload-placeholder-loader 1s linear infinite;\n\t}\n}\n\n@keyframes ck-upload-placeholder-loader {\n\tto {\n\t\ttransform: rotate( 360deg );\n\t}\n}\n"],sourceRoot:""}]);const Q=A},3689:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\tposition: relative;\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\t/* Showing animation. */\n\t\t&.ck-appear {\n\t\t\tanimation: fadeIn 700ms;\n\t\t}\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\theight: 2px;\n\t\twidth: 0;\n\t\tbackground: var(--ck-color-upload-bar-background);\n\t\ttransition: width 100ms;\n\t}\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto   { opacity: 1; }\n}\n"],sourceRoot:""}]);const Q=A},1905:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-text-alternative-form {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Q=A},9773:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n\n\t/* Give linked inline images some outline to let the user know they are also part of the link. */\n\t& span.image-inline {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\n\t}\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot:""}]);const Q=A},2347:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCKA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDvDD,oCC2DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CD1ED",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Q=A},7754:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{border:0;border-radius:0;border-top:1px solid var(--ck-color-base-border);margin:0;padding:var(--ck-spacing-standard);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SA+CD,CA5CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,QAAS,CADT,eAAgB,CAEhB,gDAAiD,CAHjD,QAAS,CADT,kCAAmC,CAKnC,SAaD,CAnBA,4GAaE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAWD,CATC,wEACC,QAAS,CACT,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n\n\t/*\n\t * Whether the form is in the responsive mode or not, if there are decorator buttons\n\t * keep the top margin of action buttons medium.\n\t */\n\t& .ck-button {\n\t\t&.ck-button-save,\n\t\t&.ck-button-cancel {\n\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\tborder-radius: 0;\n\t\tborder: 0;\n\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\twidth: 50%;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tborder: 0;\n\t\t\tpadding: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Q=A},4652:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .media {\n\t/* Don\'t allow floated content overlap the media.\n\thttps://github.com/ckeditor/ckeditor5-media-embed/issues/53 */\n\tclear: both;\n\n\t/* Make sure there is some space between the content and the media. */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em 0;\n\n\t/* Make sure media is not overriden with Bootstrap default `flex` value.\n\tSee: https://github.com/ckeditor/ckeditor5/issues/1373. */\n\tdisplay: block;\n\n\t/* Give the media some minimal width in the content to prevent them\n\tfrom being "squashed" in tight spaces, e.g. in table cells (#44) */\n\tmin-width: 15em;\n}\n'],sourceRoot:""}]);const Q=A},7442:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{opacity:1;visibility:visible}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAQC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAoBD,CCpBA,kFACC,aAqBD,CAHC,oBAnBD,kFAoBE,YAEF,CADC,CDlBA,sEAIC,cAAe,CAEf,iBAUD,CCoBD,wFAEC,SAAU,CADV,kBAED,CD3BE,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CElDA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css";\n\n.ck-media__wrapper {\n\t& .ck-media__placeholder {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\t& .ck-media__placeholder__url {\n\t\t\t@mixin ck-tooltip_enabled;\n\n\t\t\t/* Otherwise the URL will overflow when the content is very narrow. */\n\t\t\tmax-width: 100%;\n\n\t\t\tposition: relative;\n\n\t\t\t&:hover {\n\t\t\t\t@mixin ck-tooltip_visible;\n\t\t\t}\n\n\t\t\t& .ck-media__placeholder__url__text {\n\t\t\t\toverflow: hidden;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"],\n\t&[data-oembed-url*="google.com/maps"],\n\t&[data-oembed-url*="goo.gl/maps"],\n\t&[data-oembed-url*="maps.google.com"],\n\t&[data-oembed-url*="maps.app.goo.gl"],\n\t&[data-oembed-url*="facebook.com"],\n\t&[data-oembed-url*="instagram.com"] {\n\t\t& .ck-media__placeholder__icon * {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/* Disable all mouse interaction as long as the editor is not read\u2013only.\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */\n.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {\n\tpointer-events: none;\n}\n\n/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */\n.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {\n\tpointer-events: none;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n@define-mixin ck-tooltip_enabled {\n\t& .ck-tooltip {\n\t\tdisplay: block;\n\n\t\t/*\n\t\t * Don't display tooltips in devices which don't support :hover.\n\t\t * In fact, it's all about iOS, which forces user to click UI elements twice to execute\n\t\t * the primary action, when tooltips are enabled.\n\t\t *\n\t\t * Q: OK, but why not the following query?\n\t\t *\n\t\t *   @media (hover) {\n\t\t *       display: block;\n\t\t *   }\n\t\t *\n\t\t * A: Because FF does not support it and it would completely disable tooltips\n\t\t * in that browser.\n\t\t *\n\t\t * More in https://github.com/ckeditor/ckeditor5/issues/920.\n\t\t */\n\t\t@media (hover:none) {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n@define-mixin ck-tooltip_disabled {\n\t& .ck-tooltip {\n\t\tdisplay: none;\n\t}\n}\n\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n@define-mixin ck-tooltip_visible {\n\t& .ck-tooltip {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-media-embed-placeholder-icon-size: 3em;\n\n\t--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);\n\t--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);\n}\n\n.ck-media__wrapper {\n\tmargin: 0 auto;\n\n\t& .ck-media__placeholder {\n\t\tpadding: calc( 3 * var(--ck-spacing-standard) );\n\t\tbackground: var(--ck-color-base-foreground);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tmin-width: var(--ck-media-embed-placeholder-icon-size);\n\t\t\theight: var(--ck-media-embed-placeholder-icon-size);\n\t\t\tmargin-bottom: var(--ck-spacing-large);\n\t\t\tbackground-position: center;\n\t\t\tbackground-size: cover;\n\n\t\t\t& .ck-icon {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text);\n\t\t\twhite-space: nowrap;\n\t\t\ttext-align: center;\n\t\t\tfont-style: italic;\n\t\t\ttext-overflow: ellipsis;\n\n\t\t\t&:hover {\n\t\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text-hover);\n\t\t\t\tcursor: pointer;\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="open.spotify.com"] {\n\t\tmax-width: 300px;\n\t\tmax-height: 380px;\n\t}\n\n\t&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {\n\t\tbackground-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);\n\t}\n\n\t&[data-oembed-url*="facebook.com"] .ck-media__placeholder {\n\t\tbackground: hsl(220, 46%, 48%);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(220, 100%, 90%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="instagram.com"] .ck-media__placeholder {\n\t\tbackground: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);\n\t\t}\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(302, 100%, 94%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {\n\t\t/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */\n\t\tbackground: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(201, 100%, 86%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Q=A},9292:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-media-form {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Q=A},1613:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);width:var(--ck-insert-table-dropdown-box-width)}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,qCACC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAHlB,iDAAkD,CAClD,iDAAkD,CAFlD,+CAUD,CAJC,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-insert-table-dropdown__grid {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-insert-table-dropdown-padding: 10px;\n\t--ck-insert-table-dropdown-box-height: 11px;\n\t--ck-insert-table-dropdown-box-width: 12px;\n\t--ck-insert-table-dropdown-box-margin: 1px;\n}\n\n.ck .ck-insert-table-dropdown__grid {\n\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\n\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\n\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\n}\n\n.ck .ck-insert-table-dropdown__label {\n\ttext-align: center;\n}\n\n.ck .ck-insert-table-dropdown-grid-box {\n\twidth: var(--ck-insert-table-dropdown-box-width);\n\theight: var(--ck-insert-table-dropdown-box-height);\n\tmargin: var(--ck-insert-table-dropdown-box-margin);\n\tborder: 1px solid var(--ck-color-base-border);\n\tborder-radius: 1px;\n\n\t&.ck-on {\n\t\tborder-color: var(--ck-color-focus-border);\n\t\tbackground: var(--ck-color-focus-outer-shadow);\n\t}\n}\n\n"],sourceRoot:""}]);const Q=A},6306:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .table {\n\t/* Give the table widget some air and center it horizontally */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em auto;\n\tdisplay: table;\n\n\t& table {\n\t\t/* The table cells should have slight borders */\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\n\t\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\n\t\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\t/* The outer border of the table should be slightly darker than the inner lines.\n\t\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\n\t\tborder: 1px double hsl(0, 0%, 70%);\n\n\t\t& td,\n\t\t& th {\n\t\t\tmin-width: 2em;\n\t\t\tpadding: .4em;\n\n\t\t\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it\'s not necessary here.\n\t\t\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\n\t\t\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\n\t\t\tborder: 1px solid hsl(0, 0%, 75%);\n\t\t}\n\n\t\t& th {\n\t\t\tfont-weight: bold;\n\t\t\tbackground: hsla(0, 0%, 0%, 5%);\n\t\t}\n\t}\n}\n\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\nwhen content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\n.ck-content[dir="rtl"] .table th {\n\ttext-align: right;\n}\n\n.ck-content[dir="ltr"] .table th {\n\ttext-align: left;\n}\n\n.ck-editor__editable .ck-table-bogus-paragraph {\n\t/*\n\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\n\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\n\t */\n\tdisplay: inline-block;\n\n\t/*\n\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\n\t */\n\twidth: 100%;\n}\n'],sourceRoot:""}]);const Q=A},3881:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,":root{--ck-color-table-focused-cell-background:rgba(158,207,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-table-focused-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck-widget.table {\n\t& td,\n\t& th {\n\t\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\n\t\t&.ck-editor__nested-editable:focus {\n\t\t\t/* A very slight background to highlight the focused cell */\n\t\t\tbackground: var(--ck-color-table-focused-cell-background);\n\n\t\t\t/* Fixes the problem where surrounding cells cover the focused cell's border.\n\t\t\tIt does not fix the problem in all places but the UX is improved.\n\t\t\tSee https://github.com/ckeditor/ckeditor5-table/issues/29. */\n\t\t\tborder-style: none;\n\t\t\toutline: 1px solid var(--ck-color-focus-border);\n\t\t\toutline-offset: -1px; /* progressive enhancement - no IE support */\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const Q=A},6945:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck.ck-editor__editable .table table {\n\t& td.ck-editor__editable_selected,\n\t& th.ck-editor__editable_selected {\n\t\tposition: relative;\n\t\tcaret-color: transparent;\n\t\toutline: unset;\n\t\tbox-shadow: unset;\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\n\t\t&:after {\n\t\t\tcontent: '';\n\t\t\tpointer-events: none;\n\t\t\tbackground-color: var(--ck-table-selected-cell-background);\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t& ::selection,\n\t\t&:focus {\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t/*\n\t\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\n\t\t */\n\t\t& .ck-widget {\n\t\t\toutline: unset;\n\n\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const Q=A},4906:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{opacity:1;visibility:visible}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BCCC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6BD,CE/BC,qDACC,aAqBD,CAHC,oBAnBD,qDAoBE,YAEF,CADC,CFvBF,6BAOC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBA4BD,CAvBC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEkBA,iEAEC,SAAU,CADV,kBAED,CAbA,yFACC,YACD,CC7BD,6BCAC,oDD0ID,CCvIE,6EACC,0DACD,CAEA,+EACC,2DAA4C,CAC5C,uEACD,CAID,qDACC,6DACD,CDhBD,6BEDC,eF2ID,CA1IA,wIEGE,qCFuIF,CA1IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAqID,CA3GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDiIA,CC9HC,yFACC,qDACD,CAEA,2FACC,sDAA4C,CAC5C,kEACD,CAID,iEACC,wDACD,CDmHA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC7IC,mDDkJD,CC/IE,2FACC,yDACD,CAEA,6FACC,0DAA4C,CAC5C,sEACD,CAID,mEACC,4DACD,CD6HD,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n@import "../tooltip/mixins/_tooltip.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\t@mixin ck-tooltip_enabled;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: left;\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n\n\t&:hover {\n\t\t@mixin ck-tooltip_visible;\n\t}\n\n\t/* Get rid of the native focus outline around the tooltip when focused (but not :hover). */\n\t&:focus:not(:hover) {\n\t\t@mixin ck-tooltip_disabled;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n@define-mixin ck-tooltip_enabled {\n\t& .ck-tooltip {\n\t\tdisplay: block;\n\n\t\t/*\n\t\t * Don't display tooltips in devices which don't support :hover.\n\t\t * In fact, it's all about iOS, which forces user to click UI elements twice to execute\n\t\t * the primary action, when tooltips are enabled.\n\t\t *\n\t\t * Q: OK, but why not the following query?\n\t\t *\n\t\t *   @media (hover) {\n\t\t *       display: block;\n\t\t *   }\n\t\t *\n\t\t * A: Because FF does not support it and it would completely disable tooltips\n\t\t * in that browser.\n\t\t *\n\t\t * More in https://github.com/ckeditor/ckeditor5/issues/920.\n\t\t */\n\t\t@media (hover:none) {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n@define-mixin ck-tooltip_disabled {\n\t& .ck-tooltip {\n\t\tdisplay: none;\n\t}\n}\n\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n@define-mixin ck-tooltip_visible {\n\t& .ck-tooltip {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-button-colors --ck-color-button-default;\n\t@mixin ck-rounded-corners;\n\n\twhite-space: nowrap;\n\tcursor: default;\n\tvertical-align: middle;\n\tpadding: var(--ck-spacing-tiny);\n\ttext-align: center;\n\n\t/* A very important piece of styling. Go to variable declaration to learn more. */\n\tmin-width: var(--ck-ui-component-min-height);\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Normalize the height of the line. Removing this will break consistent height\n\tamong text and text-less buttons (with icons). */\n\tline-height: 1;\n\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t/* Avoid flickering when the foucs border shows up. */\n\tborder: 1px solid transparent;\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\n\t-webkit-appearance: none;\n\n\t&:active,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t/* Allow icon coloring using the text "color" property. */\n\t& .ck-button__icon {\n\t\t& use,\n\t\t& use * {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n\n\t& .ck-button__label {\n\t\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: inherit;\n\t\tcursor: inherit;\n\n\t\t/* Must be consistent with .ck-icon\'s vertical align. Otherwise, buttons with and\n\t\twithout labels (but with icons) have different sizes in Chrome */\n\t\tvertical-align: middle;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& .ck-button__keystroke {\n\t\tcolor: inherit;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t}\n\n\t\tfont-weight: bold;\n\t\topacity: .7;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t&.ck-disabled {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t/* The disabled button should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t\t& .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t& .ck-button__keystroke {\n\t\t\topacity: .3;\n\t\t}\n\t}\n\n\t&.ck-button_with-text {\n\t\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-button_with-keystroke {\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t/* A style of the button which is currently on, e.g. its feature is active. */\n\t&.ck-on {\n\t\t@mixin ck-button-colors --ck-color-button-on;\n\t}\n\n\t&.ck-button-save {\n\t\tcolor: var(--ck-color-button-save);\n\t}\n\n\t&.ck-button-cancel {\n\t\tcolor: var(--ck-color-button-cancel);\n\t}\n}\n\n/* A style of the button which handles the primary action. */\n.ck.ck-button-action,\na.ck.ck-button-action {\n\t@mixin ck-button-colors --ck-color-button-action;\n\n\tcolor: var(--ck-color-button-action-text);\n}\n\n.ck.ck-button-bold,\na.ck.ck-button-bold {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $background - Background color of the button.\n * @param {String} $border - Border color of the button.\n */\n@define-mixin ck-button-colors $prefix {\n\tbackground: var($(prefix)-background);\n\n\t&:not(.ck-disabled) {\n\t\t&:hover {\n\t\t\tbackground: var($(prefix)-hover-background);\n\t\t}\n\n\t\t&:active {\n\t\t\tbackground: var($(prefix)-active-background);\n\t\t\tbox-shadow: inset 0 2px 2px var($(prefix)-active-shadow);\n\t\t}\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t&.ck-disabled {\n\t\tbackground: var($(prefix)-disabled-background);\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const Q=A},5332:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - var(--ck-switch-button-toggle-spacing)*2)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);transition:background .4s ease;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);margin:var(--ck-switch-button-toggle-spacing);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,mDAAoD,CACpD,qCAAsC,CACtC,gKAKD,CAGC,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDC3BA,eDoEA,CAzCA,yICvBC,qCDgED,CAzCA,2DAKE,gBAoCF,CAzCA,2DAUE,iBA+BF,CAzCA,iDAiBC,uDAAwD,CAHxD,8BAAiC,CAEjC,0CAyBD,CAtBC,2EC9CD,eD2DC,CAbA,6LC1CA,qCAAsC,CD4CpC,8CAWF,CAbA,2EASC,yDAA0D,CAD1D,gDAAiD,CAFjD,6CAA8C,CAM9C,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,+DACD,CAIF,6DExEA,kCF0EA,CAEA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__toggle {\n\t\tdisplay: block;\n\n\t\t& .ck-button__toggle__inner {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\nof the component, floating\u2013point numbers have been used which, for the default font size\n(see: --ck-font-size-base), will generate simple integers. */\n:root {\n\t/* 34px at 13px font-size */\n\t--ck-switch-button-toggle-width: 2.6153846154em;\n\t/* 14px at 13px font-size */\n\t--ck-switch-button-toggle-inner-size: 1.0769230769em;\n\t--ck-switch-button-toggle-spacing: 1px;\n\t--ck-switch-button-translation: calc(\n\t\tvar(--ck-switch-button-toggle-width) -\n\t\tvar(--ck-switch-button-toggle-inner-size) -\n\t\t2 * var(--ck-switch-button-toggle-spacing)\n\t);\n}\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__label {\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-right: calc(2 * var(--ck-spacing-large));\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-left: calc(2 * var(--ck-spacing-large));\n\t\t}\n\t}\n\n\t& .ck-button__toggle {\n\t\t@mixin ck-rounded-corners;\n\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Make sure the toggle is always to the right as far as possible. */\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Make sure the toggle is always to the left as far as possible. */\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t/* Gently animate the background color of the toggle switch */\n\t\ttransition: background 400ms ease;\n\n\t\twidth: var(--ck-switch-button-toggle-width);\n\t\tbackground: var(--ck-color-switch-button-off-background);\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: calc(.5 * var(--ck-border-radius));\n\t\t\t}\n\n\t\t\t/* Leave some tiny bit of space around the inner part of the switch */\n\t\t\tmargin: var(--ck-switch-button-toggle-spacing);\n\t\t\twidth: var(--ck-switch-button-toggle-inner-size);\n\t\t\theight: var(--ck-switch-button-toggle-inner-size);\n\t\t\tbackground: var(--ck-color-switch-button-inner-background);\n\n\t\t\t/* Gently animate the inner part of the toggle switch */\n\t\t\ttransition: all 300ms ease;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-off-hover-background);\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\tbox-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-button__toggle {\n\t\t@mixin ck-disabled;\n\t}\n\n\t&.ck-on .ck-button__toggle {\n\t\tbackground: var(--ck-color-switch-button-on-background);\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-on-hover-background);\n\t\t}\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t/*\n\t\t\t * Move the toggle switch to the right. It will be animated.\n\t\t\t */\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\ttransform: translateX( var( --ck-switch-button-translation ) );\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const Q=A},6781:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,qCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-color-grid {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-grid-tile-size: 24px;\n\n\t/* Not using global colors here because these may change but some colors in a pallette\n\t * require special treatment. For instance, this ensures no matter what the UI text color is,\n\t * the check icon will look good on the black color tile. */\n\t--ck-color-color-grid-check-icon: hsl(0, 0%, 0%);\n}\n\n.ck.ck-color-grid {\n\tgrid-gap: 5px;\n\tpadding: 8px;\n}\n\n.ck.ck-color-grid__tile {\n\twidth: var(--ck-color-grid-tile-size);\n\theight: var(--ck-color-grid-tile-size);\n\tmin-width: var(--ck-color-grid-tile-size);\n\tmin-height: var(--ck-color-grid-tile-size);\n\tpadding: 0;\n\ttransition: .2s ease box-shadow;\n\tborder: 0;\n\n\t&.ck-disabled {\n\t\tcursor: unset;\n\t\ttransition: unset;\n\t}\n\n\t&.ck-color-table__color-tile_bordered {\n\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\tdisplay: none;\n\t\tcolor: var(--ck-color-color-grid-check-icon);\n\t}\n\n\t&.ck-on {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\n\n\t\t& .ck.ck-icon {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t&.ck-on,\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\t/* Disable the default .ck-button\'s border ring. */\n\t\tborder: 0;\n\t}\n\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t}\n}\n\n.ck.ck-color-grid__label {\n\tpadding: 0 var(--ck-spacing-standard);\n}\n'],sourceRoot:""}]);const Q=A},5485:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBAqFD,CAnFC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UAOD,CCUA,iEACC,YACD,CDVA,oCAGC,kCAAmC,CAEnC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CEhGA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import \"../tooltip/mixins/_tooltip.css\";\n\n:root {\n\t--ck-dropdown-max-width: 75vw;\n}\n\n.ck.ck-dropdown {\n\tdisplay: inline-block;\n\tposition: relative;\n\n\t& .ck-dropdown__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n\n\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\n\t& .ck-button.ck-dropdown__button {\n\t\twidth: 100%;\n\n\t\t/* Disable main button's tooltip when the dropdown is open. Otherwise the panel may\n\t\tpartially cover the tooltip */\n\t\t&.ck-on {\n\t\t\t@mixin ck-tooltip_disabled;\n\t\t}\n\t}\n\n\t& .ck-dropdown__panel {\n\t\t/* This is to get rid of flickering when the tooltip is shown under the panel,\n\t\twhich looks like the panel moves vertically a pixel down and up. */\n\t\t-webkit-backface-visibility: hidden;\n\n\t\tdisplay: none;\n\t\tz-index: var(--ck-z-modal);\n\t\tmax-width: var(--ck-dropdown-max-width);\n\n\t\tposition: absolute;\n\n\t\t&.ck-dropdown__panel-visible {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_n,\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_nme {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-dropdown__panel_se,\n\t\t&.ck-dropdown__panel_sw,\n\t\t&.ck-dropdown__panel_smw,\n\t\t&.ck-dropdown__panel_sme,\n\t\t&.ck-dropdown__panel_s {\n\t\t\t/*\n\t\t\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\n\t\t\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\n\t\t\t */\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_se {\n\t\t\tleft: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\tright: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_s,\n\t\t&.ck-dropdown__panel_n {\n\t\t\t/* Positioning panels relative to the center of the button */\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_smw {\n\t\t\t/* Positioning panels relative to the middle-west of the button */\n\t\t\tleft: 75%;\n\t\t\ttransform: translateX(-75%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nme,\n\t\t&.ck-dropdown__panel_sme {\n\t\t\t/* Positioning panels relative to the middle-east of the button */\n\t\t\tleft: 25%;\n\t\t\ttransform: translateX(-25%);\n\t\t}\n\t}\n}\n\n/*\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\n * See https://github.com/ckeditor/ckeditor5/issues/7874\n */\n.ck.ck-toolbar .ck-dropdown__panel {\n\tz-index: calc( var(--ck-z-modal) + 1 );\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n@define-mixin ck-tooltip_enabled {\n\t& .ck-tooltip {\n\t\tdisplay: block;\n\n\t\t/*\n\t\t * Don't display tooltips in devices which don't support :hover.\n\t\t * In fact, it's all about iOS, which forces user to click UI elements twice to execute\n\t\t * the primary action, when tooltips are enabled.\n\t\t *\n\t\t * Q: OK, but why not the following query?\n\t\t *\n\t\t *   @media (hover) {\n\t\t *       display: block;\n\t\t *   }\n\t\t *\n\t\t * A: Because FF does not support it and it would completely disable tooltips\n\t\t * in that browser.\n\t\t *\n\t\t * More in https://github.com/ckeditor/ckeditor5/issues/920.\n\t\t */\n\t\t@media (hover:none) {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n@define-mixin ck-tooltip_disabled {\n\t& .ck-tooltip {\n\t\tdisplay: none;\n\t}\n}\n\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n@define-mixin ck-tooltip_visible {\n\t& .ck-tooltip {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-dropdown {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-dropdown__arrow {\n\t\twidth: var(--ck-dropdown-arrow-size);\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-dropdown__arrow {\n\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-dropdown__arrow {\n\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-dropdown__arrow {\n\t\t@mixin ck-disabled;\n\t}\n\n\t& .ck-button.ck-dropdown__button {\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t/* #23 */\n\t\t& .ck-button__label {\n\t\t\twidth: 7em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t\t&.ck-disabled .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t&.ck-dropdown__button_label-width_auto .ck-button__label {\n\t\t\twidth: auto;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/8699 */\n\t\t&.ck-off:active,\n\t\t&.ck-on:active {\n\t\t\tbox-shadow: none;\n\t\t\t\n\t\t\t&:focus {\n\t\t\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-dropdown__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\n\t/* Make sure the panel is at least as wide as the drop-down\'s button. */\n\tmin-width: 100%;\n\n\t/* Disabled corner border radius to be consistent with the .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-dropdown__panel_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Q=A},3949:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-dropdown .ck-dropdown__panel .ck-list {\n\t/* Disabled radius of top-left border to be consistent with .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t/* Make sure the button belonging to the first/last child of the list goes well with the\n\tborder radius of the entire panel. */\n\t& .ck-list__item {\n\t\t&:first-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:last-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Q=A},7686:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,mBAEC,iBAUD,CARC,iDACC,qCACD,CC0BA,8DACC,YACD,CClCD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CASA,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCC7EA,eDuFA,CAVA,qHCzEC,qCDmFD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../tooltip/mixins/_tooltip.css";\n\n.ck.ck-splitbutton {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-splitbutton__action:focus {\n\t\tz-index: calc(var(--ck-z-default) + 1);\n\t}\n\n\t/* Disable tooltips for the buttons when the button is "open" */\n\t&.ck-splitbutton_open > .ck-button {\n\t\t@mixin ck-tooltip_disabled;\n\t}\n}\n\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n@define-mixin ck-tooltip_enabled {\n\t& .ck-tooltip {\n\t\tdisplay: block;\n\n\t\t/*\n\t\t * Don't display tooltips in devices which don't support :hover.\n\t\t * In fact, it's all about iOS, which forces user to click UI elements twice to execute\n\t\t * the primary action, when tooltips are enabled.\n\t\t *\n\t\t * Q: OK, but why not the following query?\n\t\t *\n\t\t *   @media (hover) {\n\t\t *       display: block;\n\t\t *   }\n\t\t *\n\t\t * A: Because FF does not support it and it would completely disable tooltips\n\t\t * in that browser.\n\t\t *\n\t\t * More in https://github.com/ckeditor/ckeditor5/issues/920.\n\t\t */\n\t\t@media (hover:none) {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n@define-mixin ck-tooltip_disabled {\n\t& .ck-tooltip {\n\t\tdisplay: none;\n\t}\n}\n\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n@define-mixin ck-tooltip_visible {\n\t& .ck-tooltip {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\n\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\n}\n\n.ck.ck-splitbutton {\n\t/*\n\t * Note: ck-rounded and ck-dir mixins don\'t go together (because they both use @nest).\n\t */\n\t&:hover > .ck-splitbutton__action,\n\t&.ck-splitbutton_open > .ck-splitbutton__action {\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the action button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the action button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\t}\n\n\t& > .ck-splitbutton__arrow {\n\t\t/* It\'s a text-less button and since the icon is positioned absolutely in such situation,\n\t\tit must get some arbitrary min-width. */\n\t\tmin-width: unset;\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the arrow button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the arrow button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\t\t}\n\t}\n\n\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\n\tas a whole. The background of both buttons should stand out and there should be a visual\n\tseparation between both buttons. */\n\t&.ck-splitbutton_open,\n\t&:hover {\n\t\t/* When the split button hovered as a whole, not as individual buttons. */\n\t\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\n\t\t\tbackground: var(--ck-color-split-button-hover-background);\n\t\t}\n\n\t\t/* Splitbutton separator needs to be set with the ::after pseudoselector\n\t\tto display properly the borders on focus */\n\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\tcontent: \'\';\n\t\t\tposition: absolute;\n\t\t\twidth: 1px;\n\t\t\theight: 100%;\n\t\t\tbackground-color: var(--ck-color-split-button-hover-border);\n\t\t}\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tleft: -1px;\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tright: -1px;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Don\'t round the bottom left and right corners of the buttons when "open"\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-splitbutton_open {\n\t\t@mixin ck-rounded-corners {\n\t\t\t& > .ck-splitbutton__action {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t& > .ck-splitbutton__arrow {\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Q=A},7339:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-dropdown-max-width: 60vw;\n}\n\n.ck.ck-toolbar-dropdown > .ck-dropdown__panel {\n\t/* https://github.com/ckeditor/ckeditor5/issues/5586 */\n\twidth: max-content;\n\tmax-width: var(--ck-toolbar-dropdown-max-width);\n\n\t& .ck-button {\n\t\t&:focus {\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown .ck-toolbar {\n\tborder: 0;\n}\n"],sourceRoot:""}]);const Q=A},9688:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_focus.css";\n@import "../../mixins/_button.css";\n\n:root {\n\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\n}\n\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\n\t@mixin ck-rounded-corners;\n\n\t&.ck-focused {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t}\n}\n\n.ck.ck-editor__editable_inline {\n\toverflow: auto;\n\tpadding: 0 var(--ck-spacing-standard);\n\tborder: 1px solid transparent;\n\n\t&[dir="ltr"] {\n\t\ttext-align: left;\n\t}\n\n\t&[dir="rtl"] {\n\t\ttext-align: right;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\n\t& > *:first-child {\n\t\tmargin-top: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\n\t& > *:last-child {\n\t\t/*\n\t\t * This value should match with the default margins of the block elements (like .media or .image)\n\t\t * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).\n\t\t */\n\t\tmargin-bottom: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\n\t&.ck-blurred ::selection {\n\t\tbackground: var(--ck-color-editable-blur-selection);\n\t}\n}\n\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\n\t&::after {\n\t\tborder-bottom-color: var(--ck-color-base-foreground);\n\t}\n}\n\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\n\t&::after {\n\t\tborder-top-color: var(--ck-color-base-foreground);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Q=A},8847:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-form-header-height: 38px;\n}\n\n.ck.ck-form__header {\n\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\n\theight: var(--ck-form-header-height);\n\tline-height: var(--ck-form-header-height);\n\tborder-bottom: 1px solid var(--ck-color-base-border);\n\n\t& .ck-form__header__label {\n\t\tfont-weight: bold;\n\t}\n}\n"],sourceRoot:""}]);const Q=A},6574:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAY1B,qBAcD,CAZC,0BARA,aAAc,CAGd,cAgBA,CAJC,yBAEC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\n\tfont-size: .8333350694em;\n\n\tcolor: inherit;\n\n\t/* Inherit cursor style (#5). */\n\tcursor: inherit;\n\n\t/* This will prevent blurry icons on Firefox. See #340. */\n\twill-change: transform;\n\n\t& * {\n\t\t/* Inherit cursor style (#5). */\n\t\tcursor: inherit;\n\n\t\t/* Allows dynamic coloring of the icons. */\n\t\tcolor: inherit;\n\n\t\t&:not([fill]) {\n\t\t\t/* Needed by FF. */\n\t\t\tfill: currentColor;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Q=A},4879:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-input-width: 18em;\n\n\t/* Backward compatibility. */\n\t--ck-input-text-width: var(--ck-input-width);\n}\n\n.ck.ck-input {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-input-background);\n\tborder: 1px solid var(--ck-color-input-border);\n\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\n\tmin-width: var(--ck-input-width);\n\n\t/* This is important to stay of the same height as surrounding buttons */\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .1s ease-in-out, border .1s ease-in-out;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t&[readonly] {\n\t\tborder: 1px solid var(--ck-color-input-disabled-border);\n\t\tbackground: var(--ck-color-input-disabled-background);\n\t\tcolor: var(--ck-color-input-disabled-text);\n\n\t\t&:focus {\n\t\t\t/* The read-only input should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\tborder-color: var(--ck-color-input-error-border);\n\t\tanimation: ck-input-shake .3s ease both;\n\n\t\t&:focus {\n\t\t\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);\n\t\t}\n\t}\n}\n\n@keyframes ck-input-shake {\n\t20% {\n\t\ttransform: translateX(-2px);\n\t}\n\n\t40% {\n\t\ttransform: translateX(2px);\n\t}\n\n\t60% {\n\t\ttransform: translateX(-1px);\n\t}\n\n\t80% {\n\t\ttransform: translateX(1px);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Q=A},3662:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tdisplay: block;\n}\n\n.ck.ck-voice-label {\n\tdisplay: none;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tfont-weight: bold;\n}\n"],sourceRoot:""}]);const Q=A},2577:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-spacing-medium),calc(var(--ck-font-size-base)*.6)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-spacing-medium)*-1),calc(var(--ck-font-size-base)*.6)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,yEACD,CAEA,0BCHC,eD4GD,CAzGA,2FCCE,qCDwGF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,wFAYF,CAfA,oUAOE,iGAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-labeled-field-view {\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n\n\t& .ck.ck-label {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);\n\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);\n\t--ck-color-labeled-field-label-background: var(--ck-color-base-background);\n}\n\n.ck.ck-labeled-field-view {\n\t@mixin ck-rounded-corners;\n\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\twidth: 100%;\n\n\t\t& > .ck.ck-label {\n\t\t\ttop: 0px;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: 0px;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: 0px;\n\t\t\t}\n\n\t\t\tpointer-events: none;\n\t\t\ttransform-origin: 0 0;\n\n\t\t\t/* By default, display the label scaled down above the field. */\n\t\t\ttransform: translate(var(--ck-spacing-medium), -6px) scale(.75);\n\n\t\t\tbackground: var(--ck-color-labeled-field-label-background);\n\t\t\tpadding: 0 calc(.5 * var(--ck-font-size-tiny));\n\t\t\tline-height: initial;\n\t\t\tfont-weight: normal;\n\n\t\t\t/* Prevent overflow when the label is longer than the input */\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\n\t\t\tmax-width: 100%;\n\n\t\t\ttransition:\n\t\t\t\ttransform var(--ck-labeled-field-view-transition),\n\t\t\t\tpadding var(--ck-labeled-field-view-transition),\n\t\t\t\tbackground var(--ck-labeled-field-view-transition);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\t& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\n\t\t& .ck-input:not([readonly]) + .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t& .ck-labeled-field-view__status {\n\t\tfont-size: var(--ck-font-size-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\n\t\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\n\t\tThe status could be very long. */\n\t\twhite-space: normal;\n\n\t\t&.ck-labeled-field-view__status_error {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t/* Disabled fields and fields that have no focus should fade out. */\n\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\tcolor: var(--ck-color-input-disabled-text);\n\t}\n\n\t/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t@mixin ck-dir ltr {\n\t\t\ttransform: translate(var(--ck-spacing-medium), calc(0.6 * var(--ck-font-size-base))) scale(1);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttransform: translate(calc(-1 * var(--ck-spacing-medium)), calc(0.6 * var(--ck-font-size-base))) scale(1);\n\t\t}\n\n\t\t/* Compensate for the default translate position. */\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));\n\n\t\tbackground: transparent;\n\t\tpadding: 0;\n\t}\n\n\t/*------ DropdownView integration ----------------------------------------------------------------------------------- */\n\n\t/* Make sure dropdown\' background color in any of dropdown\'s state does not collide with labeled field. */\n\t& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {\n\t\tbackground: transparent;\n\t}\n\n\t/* When the dropdown is "empty", the labeled field label replaces its label. */\n\t&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {\n\t\topacity: 0;\n\t}\n\n\t/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Q=A},1046:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,2DACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-list {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .ck-list__item,\n\t& .ck-list__separator {\n\t\tdisplay: block;\n\t}\n\n\t/* Make sure that whatever child of the list item gets focus, it remains on the\n\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\n\tadjacent list items. */\n\t& .ck-list__item > *:focus {\n\t\tposition: relative;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-list {\n\t@mixin ck-rounded-corners;\n\n\tlist-style-type: none;\n\tbackground: var(--ck-color-list-background);\n}\n\n.ck.ck-list__item {\n\tcursor: default;\n\tmin-width: 12em;\n\n\t& .ck-button {\n\t\tmin-height: unset;\n\t\twidth: 100%;\n\t\ttext-align: left;\n\t\tborder-radius: 0;\n\n\t\t/* List items should have the same height. Use absolute units to make sure it is so\n\t\t   because e.g. different heading styles may have different height\n\t\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\tpadding:\n\t\t\tcalc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))\n\t\t\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\n\t\t& .ck-button__label {\n\t\t\t/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\t\tline-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-button-on-background);\n\t\t\tcolor: var(--ck-color-list-button-on-text);\n\n\t\t\t&:active {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-on-background-focus);\n\t\t\t}\n\n\t\t\t&:focus:not(.ck-disabled) {\n\t\t\t\tborder-color: var(--ck-color-base-background);\n\t\t\t}\n\t\t}\n\n\t\t&:hover:not(.ck-disabled) {\n\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t}\n\t}\n\n\t/* It\'s unnecessary to change the background/text of a switch toggle; it has different ways\n\tof conveying its state (like the switcher) */\n\t& .ck-switchbutton {\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-background);\n\t\t\tcolor: inherit;\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-list__separator {\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--ck-color-base-border);\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Q=A},8793:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow))}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCJC,eD4ID,CAxIA,iFCAE,qCDwIF,CAxIA,qBAMC,2CAA4C,CAC5C,6CAA8C,CEb9C,oCAA8B,CFU9B,eAoID,CA9HE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EACD,CAEA,2CACC,iFAAkF,CAClF,yCACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDACD,CAEA,2CACC,iFAAkF,CAClF,4CACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Make sure the balloon arrow does not float over its children. */\n\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\n}\n\n.ck.ck-balloon-panel {\n\tdisplay: none;\n\tposition: absolute;\n\n\tz-index: var(--ck-z-modal);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_visible {\n\t\tdisplay: block;\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-arrow-offset: 2px;\n\t--ck-balloon-arrow-height: 10px;\n\t--ck-balloon-arrow-half-width: 8px;\n\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\n}\n\n.ck.ck-balloon-panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\n\t\t\tmargin-top: var(--ck-balloon-arrow-offset);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: var(--ck-color-panel-border) transparent transparent;\n\t\t\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\n\t\t\tmargin-bottom: var(--ck-balloon-arrow-offset);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_n {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_ne {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_s {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_se {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_smw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nmw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Q=A},4650:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\n */\n.ck .ck-balloon-rotator__content .ck-toolbar {\n\tjustify-content: center;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tbackground: var(--ck-color-toolbar-background);\n\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\n\tpadding: 0 var(--ck-spacing-small);\n\n\t/* Let's keep similar appearance to `ck-toolbar`. */\n\t& > * {\n\t\tmargin-right: var(--ck-spacing-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t/* Gives counter more breath than buttons. */\n\t& .ck-balloon-rotator__counter {\n\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t/* We need to use smaller margin because of previous button's right margin. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n.ck .ck-balloon-rotator__content {\n\n\t/* Disable default annotation shadow inside rotator with fake panels. */\n\t& .ck.ck-annotation-wrapper {\n\t\tbox-shadow: none;\n\t}\n}\n"],sourceRoot:""}]);const Q=A},7676:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-fake-panel {\n\tposition: absolute;\n\n\t/* Fake panels should be placed under main balloon content. */\n\tz-index: calc(var(--ck-z-modal) - 1);\n}\n\n.ck .ck-fake-panel div {\n\tposition: absolute;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tz-index: 2;\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tz-index: 1;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-fake-panel-offset-horizontal: 6px;\n\t--ck-balloon-fake-panel-offset-vertical: 6px;\n}\n\n/* Let\'s use `.ck-balloon-panel` appearance. See: balloonpanel.css. */\n.ck .ck-fake-panel div {\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\tborder-radius: var(--ck-border-radius);\n\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\n\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\n}\n.ck .ck-fake-panel div:nth-child( 3 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\n}\n\n/* If balloon is positioned above element, we need to move fake panel to the top. */\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\n\t--ck-balloon-fake-panel-offset-vertical: -6px;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Q=A},5868:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\tz-index: var(--ck-z-modal); /* #315 */\n\t\tposition: fixed;\n\t\ttop: 0;\n\t}\n\n\t& .ck-sticky-panel__content_sticky_bottom-limit {\n\t\ttop: auto;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\t@mixin ck-drop-shadow;\n\n\t\tborder-width: 0 1px 1px;\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Q=A},6764:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,'.ck-vertical-form .ck-button:after{bottom:var(--ck-spacing-small);content:"";position:absolute;right:-1px;top:var(--ck-spacing-small);width:0;z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:var(--ck-spacing-small);content:"";position:absolute;right:-1px;top:var(--ck-spacing-small);width:0;z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border:0;border-radius:0;border-top:1px solid var(--ck-color-base-border);margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAOA,mCAMC,8BAA+B,CAL/B,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,2BAA4B,CAH5B,OAAQ,CAKR,SACD,CCTC,oCDaC,wCAMC,8BAA+B,CAL/B,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,2BAA4B,CAH5B,OAAQ,CAKR,SACD,CCnBD,CCAD,qDACC,kDACD,CAEA,uBACC,+BAkED,CAhEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA6CF,CA3CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAID,iGAMC,QAAS,CADT,eAAgB,CAEhB,gDAAiD,CAJjD,kCAAmC,CADnC,kCAkBD,CApBA,0OAcE,aAMF,CAGC,yMACC,kDACD,CDpEF",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck-vertical-form .ck-button::after {\n\tcontent: "";\n\twidth: 0;\n\tposition: absolute;\n\tright: -1px;\n\ttop: var(--ck-spacing-small);\n\tbottom: var(--ck-spacing-small);\n\tz-index: 1;\n}\n\n.ck.ck-responsive-form {\n\t@mixin ck-media-phone {\n\t\t& .ck-button::after {\n\t\t\tcontent: "";\n\t\t\twidth: 0;\n\t\t\tposition: absolute;\n\t\t\tright: -1px;\n\t\t\ttop: var(--ck-spacing-small);\n\t\t\tbottom: var(--ck-spacing-small);\n\t\t\tz-index: 1;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\n\tborder-right: 1px solid var(--ck-color-base-border);\n}\n\n.ck.ck-responsive-form {\n\tpadding: var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& > :not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& > :not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tpadding: 0;\n\t\twidth: calc(.8 * var(--ck-input-width));\n\n\t\t& .ck-labeled-field-view {\n\t\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\n\n\t\t\t& .ck-input-text {\n\t\t\t\tmin-width: 0;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t/* Let the long error messages wrap in the narrow form. */\n\t\t\t& .ck-labeled-field-view__error {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\t\t}\n\n\t\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\n\t\t& > .ck-button:nth-last-child(1),\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\tpadding: var(--ck-spacing-standard);\n\t\t\tmargin-top: var(--ck-spacing-large);\n\n\t\t\tborder-radius: 0;\n\t\t\tborder: 0;\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\t&::after {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Q=A},9695:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-block-toolbar-button {\n\tposition: absolute;\n\tz-index: var(--ck-z-default);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-block-toolbar-button: var(--ck-color-text);\n\t--ck-block-toolbar-button-size: var(--ck-font-size-normal);\n}\n\n.ck.ck-block-toolbar-button {\n\tcolor: var(--ck-color-block-toolbar-button);\n\tfont-size: var(--ck-block-toolbar-size);\n}\n"],sourceRoot:""}]);const Q=A},5542:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border:0;border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eD0FD,CA7FA,qECOE,qCDsFF,CA7FA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAyFD,CAtFC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAgBD,CAbC,0DAWC,QAAS,CAHT,eAAgB,CAHhB,QAAS,CAHT,UAUD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAvFF,qCA2FE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\n\t& > .ck-toolbar__items {\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\talign-items: center;\n\t\tflex-grow: 1;\n\n\t}\n\n\t& .ck.ck-toolbar__separator {\n\t\tdisplay: inline-block;\n\n\t\t/*\n\t\t * A leading or trailing separator makes no sense (separates from nothing on one side).\n\t\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\n\t\t * moved to another toolbar in the dropdown.\n\t\t */\n\t\t&:first-child,\n\t\t&:last-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\tflex-basis: 100%;\n\t}\n\n\t&.ck-toolbar_grouping > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t&.ck-toolbar_vertical > .ck-toolbar__items {\n\t\tflex-direction: column;\n\t}\n\n\t&.ck-toolbar_floating > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t& > .ck-dropdown__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-toolbar-background);\n\tpadding: 0 var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\n\t& .ck.ck-toolbar__separator {\n\t\talign-self: stretch;\n\t\twidth: 1px;\n\t\tmin-width: 1px;\n\t\tbackground: var(--ck-color-toolbar-border);\n\n\t\t/*\n\t\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\n\t\t */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\theight: 0;\n\t}\n\n\t& > .ck-toolbar__items {\n\t\t& > *:not(.ck-toolbar__line-break) {\n\t\t\t/* (#11) Separate toolbar items. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/* Don\'t display a separator after an empty items container, for instance,\n\t\twhen all items were grouped */\n\t\t&:empty + .ck.ck-toolbar__separator {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t&.ck-toolbar_vertical {\n\t\t/* Items in a vertical toolbar span the entire width. */\n\t\tpadding: 0;\n\n\t\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\n\t\t& > .ck-toolbar__items > .ck {\n\t\t\t/* Items in a vertical toolbar should span the horizontal space. */\n\t\t\twidth: 100%;\n\n\t\t\t/* Items in a vertical toolbar should have no margin. */\n\t\t\tmargin: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\n\t\t\tborder-radius: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so any border is pointless. */\n\t\t\tborder: 0;\n\t\t}\n\t}\n\n\t&.ck-toolbar_compact {\n\t\t/* No spacing around items. */\n\t\tpadding: 0;\n\n\t\t& > .ck-toolbar__items > * {\n\t\t\t/* Compact toolbar items have no spacing between them. */\n\t\t\tmargin: 0;\n\n\t\t\t/* "Middle" children should have no rounded corners. */\n\t\t\t&:not(:first-child):not(:last-child) {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/*\n\t\t * Dropdown button has asymmetric padding to fit the arrow.\n\t\t * This button has no arrow so let\'s revert that padding back to normal.\n\t\t */\n\t\t& > .ck.ck-button.ck-dropdown__button {\n\t\t\tpadding-left: var(--ck-spacing-tiny);\n\t\t}\n\t}\n\n\t@nest .ck-toolbar-container & {\n\t\tborder: 0;\n\t}\n}\n\n/* stylelint-disable */\n\n/*\n * Styles for RTL toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="rtl"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="rtl"] {\n\t& > .ck-toolbar__items > .ck {\n\t\tmargin-right: 0;\n\t}\n\n\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\n\t\t/* (#11) Separate toolbar items. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-left: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n/*\n * Styles for LTR toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="ltr"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="ltr"] {\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n}\n\n/* stylelint-enable */\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Q=A},3332:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,'.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{-webkit-backface-visibility:hidden;pointer-events:none;position:absolute}.ck.ck-tooltip{display:none;opacity:0;visibility:hidden;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";height:0;width:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{background:var(--ck-color-tooltip-background);color:var(--ck-color-tooltip-text);font-size:.9em;left:-50%;line-height:1.5;padding:var(--ck-spacing-small) var(--ck-spacing-medium);position:relative}.ck.ck-tooltip .ck-tooltip__text:after{border-style:solid;left:50%;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip.ck-tooltip_s,.ck.ck-tooltip.ck-tooltip_se,.ck.ck-tooltip.ck-tooltip_sw{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{border-color:transparent transparent var(--ck-color-tooltip-background) transparent;border-width:0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size);top:calc(var(--ck-tooltip-arrow-size)*-1 + 1px);transform:translateX(-50%)}.ck.ck-tooltip.ck-tooltip_sw{left:auto;right:50%}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text{left:auto;right:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{left:auto;right:0}.ck.ck-tooltip.ck-tooltip_se{left:50%;right:auto}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text{left:calc(var(--ck-tooltip-arrow-size)*-2);right:auto}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after{left:0;right:auto;transform:translateX(50%)}.ck.ck-tooltip.ck-tooltip_n{top:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{border-color:var(--ck-color-tooltip-background) transparent transparent transparent;border-width:var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0 var(--ck-tooltip-arrow-size);bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateX(-50%)}.ck.ck-tooltip.ck-tooltip_e{left:calc(100% + var(--ck-tooltip-arrow-size));top:50%}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text:after{border-color:transparent var(--ck-color-tooltip-background) transparent transparent;border-width:var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0;left:calc(var(--ck-tooltip-arrow-size)*-1);top:calc(50% - var(--ck-tooltip-arrow-size)*1)}.ck.ck-tooltip.ck-tooltip_w{left:auto;right:calc(100% + var(--ck-tooltip-arrow-size));top:50%}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text:after{border-color:transparent transparent transparent var(--ck-color-tooltip-background);border-width:var(--ck-tooltip-arrow-size) 0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size);left:100%;top:calc(50% - var(--ck-tooltip-arrow-size)*1)}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,sDASC,kCAAmC,CAJnC,mBAAoB,CAHpB,iBAQD,CAEA,eAIC,YAAa,CADb,SAAU,CADV,iBAAkB,CAGlB,yBAWD,CATC,iCACC,oBAOD,CALC,uCACC,UAAW,CAEX,QAAS,CADT,OAED,CCxBF,MACC,2BACD,CAEA,eACC,QAAS,CAMT,KAAM,CAON,sCAwKD,CAtKC,iCChBA,eDqCA,CArBA,yGCZC,qCDiCD,CArBA,iCAOC,6CAA8C,CAF9C,kCAAmC,CAFnC,cAAe,CAMf,SAAU,CALV,eAAgB,CAEhB,wDAAyD,CAEzD,iBAaD,CAVC,uCAOC,kBAAmB,CACnB,QAAS,CAFT,sCAGD,CAYD,sFAGC,4CAA+C,CAC/C,0BASD,CAPC,8JAIC,mFAAoF,CACpF,qGAAsG,CAHtG,+CAAkD,CAClD,0BAGD,CAaD,6BAEC,SAAU,CADV,SAYD,CATC,+CACC,SAAU,CACV,2CACD,CAEA,qDACC,SAAU,CACV,OACD,CAYD,6BACC,QAAS,CACT,UAYD,CAVC,+CAEC,0CAA8C,CAD9C,UAED,CAEA,qDAEC,MAAO,CADP,UAAW,CAEX,yBACD,CAYD,4BACC,yCAA4C,CAC5C,2BAQD,CANC,oDAGC,mFAAoF,CACpF,qGAAsG,CAHtG,4CAA+C,CAC/C,0BAGD,CAUD,4BACC,8CAA+C,CAC/C,OAaD,CAXC,8CACC,MAAO,CACP,0BAQD,CANC,oDAGC,mFAAoF,CACpF,qGAAsG,CAHtG,0CAA6C,CAC7C,8CAGD,CAWF,4BAEC,SAAU,CADV,+CAAgD,CAEhD,OAaD,CAXC,8CACC,MAAO,CACP,0BAQD,CANC,oDAGC,mFAAoF,CACpF,qGAAsG,CAHtG,SAAU,CACV,8CAGD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-tooltip,\n.ck.ck-tooltip .ck-tooltip__text::after {\n\tposition: absolute;\n\n\t/* Without this, hovering the tooltip could keep it visible. */\n\tpointer-events: none;\n\n\t/* This is to get rid of flickering when transitioning opacity in Chrome.\n\tIt\'s weird but it works. */\n\t-webkit-backface-visibility: hidden;\n}\n\n.ck.ck-tooltip {\n\t/* Tooltip is hidden by default. */\n\tvisibility: hidden;\n\topacity: 0;\n\tdisplay: none;\n\tz-index: var(--ck-z-modal);\n\n\t& .ck-tooltip__text {\n\t\tdisplay: inline-block;\n\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-tooltip-arrow-size: 5px;\n}\n\n.ck.ck-tooltip {\n\tleft: 50%;\n\n\t/*\n\t * Prevent blurry tooltips in LoDPI environments.\n\t * See https://github.com/ckeditor/ckeditor5/issues/1802.\n\t */\n\ttop: 0;\n\n\t/*\n\t * For the transition to work, the tooltip must be controlled\n\t * using visibility+opacity. A delay prevents a "tooltip avalanche"\n\t * i.e. when scanning the toolbar with mouse cursor.\n\t */\n\ttransition: opacity .2s ease-in-out .2s;\n\n\t& .ck-tooltip__text {\n\t\t@mixin ck-rounded-corners;\n\n\t\tfont-size: .9em;\n\t\tline-height: 1.5;\n\t\tcolor: var(--ck-color-tooltip-text);\n\t\tpadding: var(--ck-spacing-small) var(--ck-spacing-medium);\n\t\tbackground: var(--ck-color-tooltip-background);\n\t\tposition: relative;\n\t\tleft: -50%;\n\n\t\t&::after {\n\t\t\t/*\n\t\t\t * For the transition to work, the tooltip must be controlled\n\t\t\t * using visibility+opacity. A delay prevents a "tooltip avalanche"\n\t\t\t * i.e. when scanning the toolbar with mouse cursor.\n\t\t\t */\n\t\t\ttransition: opacity .2s ease-in-out .2s;\n\t\t\tborder-style: solid;\n\t\t\tleft: 50%;\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip south of the element.\n\t *\n\t *       [element]\n\t *           ^\n\t *     +-----------+\n\t *     |  Tooltip  |\n\t *     +-----------+\n\t */\n\t&.ck-tooltip_s,\n\t&.ck-tooltip_sw,\n\t&.ck-tooltip_se {\n\t\tbottom: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\ttransform: translateY( 100% );\n\n\t\t& .ck-tooltip__text::after {\n\t\t\t/* 1px addresses gliches in rendering causing gap between the triangle and the text */\n\t\t\ttop: calc(-1 * var(--ck-tooltip-arrow-size) + 1px);\n\t\t\ttransform: translateX( -50% );\n\t\t\tborder-color: transparent transparent var(--ck-color-tooltip-background) transparent;\n\t\t\tborder-width: 0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size);\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip south-west of the element.\n\t *\n\t *        [element]\n\t *            ^\n\t *  +-----------+\n\t *  |  Tooltip  |\n\t *  +-----------+\n\t */\n\n\t&.ck-tooltip_sw {\n\t\tright: 50%;\n\t\tleft: auto;\n\n\t\t& .ck-tooltip__text {\n\t\t\tleft: auto;\n\t\t\tright: calc( -2 * var(--ck-tooltip-arrow-size));\n\t\t}\n\n\t\t& .ck-tooltip__text::after {\n\t\t\tleft: auto;\n\t\t\tright: 0;\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip south-east of the element.\n\t *\n\t *  [element]\n\t *      ^\n\t *    +-----------+\n\t *    |  Tooltip  |\n\t *    +-----------+\n\t */\n\t&.ck-tooltip_se {\n\t\tleft: 50%;\n\t\tright: auto;\n\n\t\t& .ck-tooltip__text {\n\t\t\tright: auto;\n\t\t\tleft: calc( -2 * var(--ck-tooltip-arrow-size));\n\t\t}\n\n\t\t& .ck-tooltip__text::after {\n\t\t\tright: auto;\n\t\t\tleft: 0;\n\t\t\ttransform: translateX( 50% );\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip north of the element.\n\t *\n\t *     +-----------+\n\t *     |  Tooltip  |\n\t *     +-----------+\n\t *           V\n\t *       [element]\n\t */\n\t&.ck-tooltip_n {\n\t\ttop: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\ttransform: translateY( -100% );\n\n\t\t& .ck-tooltip__text::after {\n\t\t\tbottom: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\t\ttransform: translateX( -50% );\n\t\t\tborder-color: var(--ck-color-tooltip-background) transparent transparent transparent;\n\t\t\tborder-width: var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0 var(--ck-tooltip-arrow-size);\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip east of the element.\n\t *\n\t *                +----------+\n\t *    [element] < |   east   |\n\t *                +----------+\n\t */\n\t&.ck-tooltip_e {\n\t\tleft: calc(100% + var(--ck-tooltip-arrow-size));\n\t\ttop: 50%;\n\n\t\t& .ck-tooltip__text {\n\t\t\tleft: 0;\n\t\t\ttransform: translateY( -50% );\n\n\t\t\t&::after {\n\t\t\t\tleft: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\t\t\ttop: calc(50% - 1 * var(--ck-tooltip-arrow-size));\n\t\t\t\tborder-color: transparent var(--ck-color-tooltip-background) transparent transparent;\n\t\t\t\tborder-width: var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip west of the element.\n\t *\n\t *    +----------+\n\t *    |   west   | > [element]\n\t *    +----------+\n\t */\n\t&.ck-tooltip_w {\n\t\tright: calc(100% + var(--ck-tooltip-arrow-size));\n\t\tleft: auto;\n\t\ttop: 50%;\n\n\t\t& .ck-tooltip__text {\n\t\t\tleft: 0;\n\t\t\ttransform: translateY( -50% );\n\n\t\t\t&::after {\n\t\t\t\tleft: 100%;\n\t\t\t\ttop: calc(50% - 1 * var(--ck-tooltip-arrow-size));\n\t\t\t\tborder-color: transparent transparent transparent var(--ck-color-tooltip-background);\n\t\t\t\tborder-width: var(--ck-tooltip-arrow-size) 0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size);\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Q=A},4793:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAgD,CAChD,8BAAmD,CACnD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAmD,CACnD,oCAAuD,CACvD,6BAAkD,CAIlD,+CAAwD,CACxD,qEAA+E,CAC/E,qCAAwD,CACxD,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAA+D,CAC/D,mDAAgE,CAChE,+CAA6D,CAC7D,yDAA8D,CAE9D,uCAAuD,CACvD,6CAA4D,CAC5D,8CAA4D,CAC5D,0CAAyD,CACzD,gDAA8D,CAE9D,+DAAsE,CACtE,iDAAkE,CAClE,kDAAkE,CAClE,8CAA+D,CAC/D,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA4D,CAC5D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAmE,CACnE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,+BAAiD,CACjD,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,wCAAwD,CACxD,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,gEAAuE,CACvE,4EAAiF,CACjF,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CCpGhE,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJoGD,CI9FA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\tbox-sizing: border-box;\n\twidth: auto;\n\theight: auto;\n\tposition: static;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-modal: calc( var(--ck-z-default) + 999 );\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class that disables all transitions of the element and its children.\n */\n.ck-transitions-disabled,\n.ck-transitions-disabled * {\n\ttransition: none !important;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-base-foreground: \t\t\t\t\t\t\t\thsl(0, 0%, 98%);\n\t--ck-color-base-background: \t\t\t\t\t\t\t\thsl(0, 0%, 100%);\n\t--ck-color-base-border: \t\t\t\t\t\t\t\t\thsl(0, 0%, 77%);\n\t--ck-color-base-action: \t\t\t\t\t\t\t\t\thsl(104, 44%, 48%);\n\t--ck-color-base-focus: \t\t\t\t\t\t\t\t\t\thsl(209, 92%, 70%);\n\t--ck-color-base-text: \t\t\t\t\t\t\t\t\t\thsl(0, 0%, 20%);\n\t--ck-color-base-active: \t\t\t\t\t\t\t\t\thsl(208, 88%, 52%);\n\t--ck-color-base-active-focus:\t\t\t\t\t\t\t\thsl(208, 88%, 47%);\n\t--ck-color-base-error:\t\t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------ */\n\n\t--ck-color-focus-border-coordinates: \t\t\t\t\t\t208, 79%, 51%;\n\t--ck-color-focus-border: \t\t\t\t\t\t\t\t\thsl(var(--ck-color-focus-border-coordinates));\n\t--ck-color-focus-outer-shadow:\t\t\t\t\t\t\t\thsl(207, 89%, 86%);\n\t--ck-color-focus-disabled-shadow:\t\t\t\t\t\t\thsla(209, 90%, 72%,.3);\n\t--ck-color-focus-error-shadow:\t\t\t\t\t\t\t\thsla(9,100%,56%,.3);\n\t--ck-color-text: \t\t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-shadow-drop: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.15);\n\t--ck-color-shadow-drop-active:\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.2);\n\t--ck-color-shadow-inner: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Buttons ------------------------------------------------------------------------------- */\n\n\t--ck-color-button-default-background: \t\t\t\t\t\ttransparent;\n\t--ck-color-button-default-hover-background: \t\t\t\thsl(0, 0%, 90%);\n\t--ck-color-button-default-active-background: \t\t\t\thsl(0, 0%, 85%);\n\t--ck-color-button-default-active-shadow: \t\t\t\t\thsl(0, 0%, 75%);\n\t--ck-color-button-default-disabled-background: \t\t\t\ttransparent;\n\n\t--ck-color-button-on-background: \t\t\t\t\t\t\thsl(0, 0%, 87%);\n\t--ck-color-button-on-hover-background: \t\t\t\t\t\thsl(0, 0%, 77%);\n\t--ck-color-button-on-active-background: \t\t\t\t\thsl(0, 0%, 73%);\n\t--ck-color-button-on-active-shadow: \t\t\t\t\t\thsl(0, 0%, 63%);\n\t--ck-color-button-on-disabled-background: \t\t\t\t\thsl(0, 0%, 87%);\n\n\t--ck-color-button-action-background: \t\t\t\t\t\tvar(--ck-color-base-action);\n\t--ck-color-button-action-hover-background: \t\t\t\t\thsl(104, 44%, 43%);\n\t--ck-color-button-action-active-background: \t\t\t\thsl(104, 44%, 41%);\n\t--ck-color-button-action-active-shadow: \t\t\t\t\thsl(104, 44%, 36%);\n\t--ck-color-button-action-disabled-background: \t\t\t\thsl(104, 44%, 58%);\n\t--ck-color-button-action-text: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t--ck-color-button-save: \t\t\t\t\t\t\t\t\thsl(120, 100%, 27%);\n\t--ck-color-button-cancel: \t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t--ck-color-switch-button-off-background:\t\t\t\t\thsl(0, 0%, 69%);\n\t--ck-color-switch-button-off-hover-background:\t\t\t\thsl(0, 0%, 64%);\n\t--ck-color-switch-button-on-background:\t\t\t\t\t\tvar(--ck-color-button-action-background);\n\t--ck-color-switch-button-on-hover-background:\t\t\t\thsl(104, 44%, 43%);\n\t--ck-color-switch-button-inner-background:\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-switch-button-inner-shadow:\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Dropdown ------------------------------------------------------------------------------ */\n\n\t--ck-color-dropdown-panel-background: \t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-dropdown-panel-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Input --------------------------------------------------------------------------------- */\n\n\t--ck-color-input-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-input-border: \t\t\t\t\t\t\t\t\thsl(0, 0%, 78%);\n\t--ck-color-input-error-border:\t\t\t\t\t\t\t\tvar(--ck-color-base-error);\n\t--ck-color-input-text: \t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-input-disabled-background: \t\t\t\t\t\thsl(0, 0%, 95%);\n\t--ck-color-input-disabled-border: \t\t\t\t\t\t\thsl(0, 0%, 78%);\n\t--ck-color-input-disabled-text: \t\t\t\t\t\t\thsl(0, 0%, 46%);\n\n\t/* -- List ---------------------------------------------------------------------------------- */\n\n\t--ck-color-list-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-list-button-hover-background: \t\t\t\t\tvar(--ck-color-button-default-hover-background);\n\t--ck-color-list-button-on-background: \t\t\t\t\t\tvar(--ck-color-base-active);\n\t--ck-color-list-button-on-background-focus: \t\t\t\tvar(--ck-color-base-active-focus);\n\t--ck-color-list-button-on-text:\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Panel --------------------------------------------------------------------------------- */\n\n\t--ck-color-panel-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-panel-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Toolbar ------------------------------------------------------------------------------- */\n\n\t--ck-color-toolbar-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-foreground);\n\t--ck-color-toolbar-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Tooltip ------------------------------------------------------------------------------- */\n\n\t--ck-color-tooltip-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-tooltip-text: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Engine -------------------------------------------------------------------------------- */\n\n\t--ck-color-engine-placeholder-text: \t\t\t\t\t\thsl(0, 0%, 44%);\n\n\t/* -- Upload -------------------------------------------------------------------------------- */\n\n\t--ck-color-upload-bar-background:\t\t \t\t\t\t\thsl(209, 92%, 70%);\n\n\t/* -- Link -------------------------------------------------------------------------------- */\n\n\t--ck-color-link-default:\t\t\t\t\t\t\t\t\thsl(240, 100%, 47%);\n\t--ck-color-link-selected-background:\t\t\t\t\t\thsla(201, 100%, 56%, 0.1);\n\t--ck-color-link-fake-selection:\t\t\t\t\t\t\t\thsla(201, 100%, 56%, 0.3);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * An opacity value of disabled UI item.\n\t */\n\t--ck-disabled-opacity: .5;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * The geometry of the of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\n\n\t/**\n\t * A visual style of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when disabled).\n\t */\n\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when has errors).\n\t */\n\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\n\n\t/**\n\t * A visual style of focused element's border or outline.\n\t */\n\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-font-size-base: 13px;\n\t--ck-line-height-base: 1.84615;\n\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\n\t--ck-font-size-tiny: 0.7em;\n\t--ck-font-size-small: 0.75em;\n\t--ck-font-size-normal: 1em;\n\t--ck-font-size-big: 1.4em;\n\t--ck-font-size-large: 1.8em;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* This is super-important. This is **manually** adjusted so a button without an icon\n\tis never smaller than a button with icon, additionally making sure that text-less buttons\n\tare perfect squares. The value is also shared by other components which should stay "in-line"\n\twith buttons. */\n\t--ck-ui-component-min-height: 2.3em;\n}\n\n/**\n * Resets an element, ignoring its children.\n */\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* Do not include inheritable rules here. */\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: transparent;\n\ttext-decoration: none;\n\tvertical-align: middle;\n\ttransition: none;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\n\tword-wrap: break-word;\n}\n\n/**\n * Resets an element AND its children.\n */\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* These are rule inherited by all children elements. */\n\tborder-collapse: collapse;\n\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\n\tcolor: var(--ck-color-text);\n\ttext-align: left;\n\twhite-space: nowrap;\n\tcursor: auto;\n\tfloat: none;\n}\n\n.ck-reset_all {\n\t& .ck-rtl *:not(.ck-reset_all-excluded *) {\n\t\ttext-align: right;\n\t}\n\n\t& iframe:not(.ck-reset_all-excluded *) {\n\t\t/* For IE */\n\t\tvertical-align: inherit;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *) {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *),\n\t& input[type="text"]:not(.ck-reset_all-excluded *),\n\t& input[type="password"]:not(.ck-reset_all-excluded *) {\n\t\tcursor: text;\n\t}\n\n\t& textarea[disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="text"][disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {\n\t\tcursor: default;\n\t}\n\n\t& fieldset:not(.ck-reset_all-excluded *) {\n\t\tpadding: 10px;\n\t\tborder: 2px groove hsl(255, 7%, 88%);\n\t}\n\n\t& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {\n\t\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\n\t\tpadding: 0;\n\t\tborder: 0\n\t}\n}\n\n/**\n * Default UI rules for RTL languages.\n */\n.ck[dir="rtl"],\n.ck[dir="rtl"] .ck {\n\ttext-align: right;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Default border-radius value.\n */\n:root{\n\t--ck-border-radius: 2px;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * A visual style of element's inner shadow (i.e. input).\n\t */\n\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\n\n\t/**\n\t * A visual style of element's drop shadow (i.e. panel).\n\t */\n\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\n\n\t/**\n\t * A visual style of element's active shadow (i.e. comment or suggestion).\n\t */\n\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-spacing-unit: \t\t\t\t\t\t0.6em;\n\t--ck-spacing-large: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 1.5);\n\t--ck-spacing-standard: \t\t\t\t\tvar(--ck-spacing-unit);\n\t--ck-spacing-medium: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.8);\n\t--ck-spacing-small: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.5);\n\t--ck-spacing-tiny: \t\t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.3);\n\t--ck-spacing-extra-tiny: \t\t\t\tcalc(var(--ck-spacing-unit) * 0.16);\n}\n"],sourceRoot:""}]);const Q=A},3488:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-resizer: var(--ck-color-focus-border);\n\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\n\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\n\n\t--ck-resizer-border-radius: var(--ck-border-radius);\n\t--ck-resizer-tooltip-offset: 10px;\n\t--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);\n}\n\n.ck .ck-widget {\n\t/* This is neccessary for type around UI to be positioned properly. */\n\tposition: relative;\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n\n\t& .ck-widget__selection-handle {\n\t\tposition: absolute;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the icon in not a subject to font-size or line-height to avoid\n\t\t\tunnecessary spacing around it. */\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n\n\t/* Show the selection handle when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n}\n\n.ck .ck-size-view {\n\tbackground: var(--ck-color-resizer-tooltip-background);\n\tcolor: var(--ck-color-resizer-tooltip-text);\n\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\n\tborder-radius: var(--ck-resizer-border-radius);\n\tfont-size: var(--ck-font-size-tiny);\n\tdisplay: block;\n\tpadding: 0 var(--ck-spacing-small);\n\theight: var(--ck-resizer-tooltip-height);\n\tline-height: var(--ck-resizer-tooltip-height);\n\n\t&.ck-orientation-top-left,\n\t&.ck-orientation-top-right,\n\t&.ck-orientation-bottom-right,\n\t&.ck-orientation-bottom-left,\n\t&.ck-orientation-above-center {\n\t\tposition: absolute;\n\t}\n\n\t&.ck-orientation-top-left {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-top-right {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-right {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-left {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t/* Class applied if the widget is too small to contain the size label */\n\t&.ck-orientation-above-center {\n\t\ttop: calc(var(--ck-resizer-tooltip-height) * -1);\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n\n:root {\n\t--ck-widget-outline-thickness: 3px;\n\t--ck-widget-handler-icon-size: 16px;\n\t--ck-widget-handler-animation-duration: 200ms;\n\t--ck-widget-handler-animation-curve: ease;\n\n\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\n\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\n\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\n\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\n}\n\n.ck .ck-widget {\n\toutline-width: var(--ck-widget-outline-thickness);\n\toutline-style: solid;\n\toutline-color: transparent;\n\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\n\t}\n\n\t&:hover {\n\t\toutline-color: var(--ck-color-widget-hover-border);\n\t}\n}\n\n.ck .ck-editor__nested-editable {\n\tborder: 1px solid transparent;\n\n\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\n\tThese styles show a different border for a blink of an eye, so `:focus` need to have same styles applied. */\n\t&.ck-editor__nested-editable_focused,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\n\t\tbackground-color: var(--ck-color-widget-editable-focus-background);\n\t}\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t& .ck-widget__selection-handle {\n\t\tpadding: 4px;\n\t\tbox-sizing: border-box;\n\n\t\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\n\t\tbackground-color: transparent;\n\t\topacity: 0;\n\n\t\t/* Transition:\n\t\t   * background-color for the .ck-widget_selected state change,\n\t\t   * visibility for hiding the handler,\n\t\t   * opacity for the proper look of the icon when the handler disappears. */\n\t\ttransition:\n\t\t\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t/* Make only top corners round. */\n\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\n\t\t/* Place the drag handler outside the widget wrapper. */\n\t\ttransform: translateY(-100%);\n\t\tleft: calc(0px - var(--ck-widget-outline-thickness));\n\t\ttop: 0;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\n\t\t\twidth: var(--ck-widget-handler-icon-size);\n\t\t\theight: var(--ck-widget-handler-icon-size);\n\t\t\tcolor: var(--ck-color-widget-drag-handler-icon-color);\n\n\t\t\t/* The "selected" part of the icon is invisible by default */\n\t\t\t& .ck-icon__selected-indicator {\n\t\t\t\topacity: 0;\n\n\t\t\t\t/* Note: The animation is longer on purpose. Simply feels better. */\n\t\t\t\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\n\t\t\t}\n\t\t}\n\n\t\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\n\t\t&:hover .ck-icon .ck-icon__selected-indicator {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\topacity: 1;\n\t\tbackground-color: var(--ck-color-widget-hover-border);\n\t}\n\n\t/* Show the selection handler when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\t& > .ck-widget__selection-handle {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--ck-color-focus-border);\n\n\t\t\t/* When the widget is selected, notify the user using the proper look of the icon. */\n\t\t\t& .ck-icon .ck-icon__selected-indicator {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* In a RTL environment, align the selection handler to the right side of the widget */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\n\tleft: auto;\n\tright: calc(0px - var(--ck-widget-outline-thickness));\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\n.ck.ck-editor__editable.ck-read-only .ck-widget {\n\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\n\ttransition: none;\n\n\t&:not(.ck-widget_selected) {\n\t\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\n\t\t *\n\t\t * Leave the unit because this custom property is used in calc() by other features.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\n\t\t */\n\t\t--ck-widget-outline-thickness: 0px;\n\t}\n\n\t&.ck-widget_with-selection-handle {\n\t\t& .ck-widget__selection-handle,\n\t\t& .ck-widget__selection-handle:hover {\n\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t}\n\t}\n}\n\n/* Style the widget when it\'s selected but the editable it belongs to lost focus. */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck.ck-editor__editable.ck-blurred .ck-widget {\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline-color: var(--ck-color-widget-blurred-border);\n\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t& > .ck-widget__selection-handle,\n\t\t\t& > .ck-widget__selection-handle:hover {\n\t\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\n\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\n\tIn fact, anything with overflow: hidden.\n\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\n\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Q=A},8506:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget_with-resizer {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n}\n\n.ck .ck-widget__resizer {\n\tdisplay: none;\n\tposition: absolute;\n\n\t/* The wrapper itself should not interfere with the pointer device, only the handles should. */\n\tpointer-events: none;\n\n\tleft: 0;\n\ttop: 0;\n}\n\n.ck-focused .ck-widget_with-resizer.ck-widget_selected {\n\t& > .ck-widget__resizer {\n\t\tdisplay: block;\n\t}\n}\n\n.ck .ck-widget__resizer__handle {\n\tposition: absolute;\n\n\t/* Resizers are the only UI elements that should interfere with a pointer device. */\n\tpointer-events: all;\n\n\t&.ck-widget__resizer__handle-top-left,\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tcursor: nwse-resize;\n\t}\n\n\t&.ck-widget__resizer__handle-top-right,\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tcursor: nesw-resize;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-resizer-size: 10px;\n\n\t/* Set the resizer with a 50% offset. */\n\t--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);\n\t--ck-resizer-border-width: 1px;\n}\n\n.ck .ck-widget__resizer {\n\toutline: 1px solid var(--ck-color-resizer);\n}\n\n.ck .ck-widget__resizer__handle {\n\twidth: var(--ck-resizer-size);\n\theight: var(--ck-resizer-size);\n\tbackground: var(--ck-color-focus-border);\n\tborder: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);\n\tborder-radius: var(--ck-resizer-border-radius);\n\n\t&.ck-widget__resizer__handle-top-left {\n\t\ttop: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-top-right {\n\t\ttop: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n}\n"],sourceRoot:""}]);const Q=A},4921:(B,I,E)=>{E.d(I,{Z:()=>Q});var U=E(1799),L=E.n(U),z=E(2609),A=E.n(z)()(L());A.push([B.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\toverflow: hidden;\n\t\tz-index: var(--ck-z-default);\n\n\t\t& svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tz-index: calc(var(--ck-z-default) + 2);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_before {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tleft: min(10%, 30px);\n\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_after {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tright: min(10%, 30px);\n\n\t\t\ttransform: translateY(50%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t/*\n\t * When the widget is hovered the "fake caret" would normally be narrower than the\n\t * extra outline displayed around the widget. Let\'s extend the "fake caret" to match\n\t * the full width of the widget.\n\t */\n\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\n\t\tright: calc( -1 * var(--ck-widget-outline-thickness) );\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n}\n\n/*\n * Integration with the read-only mode of the editor.\n */\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the restricted editing mode (feature) of the editor.\n */\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\n */\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\n\tdisplay: none;\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-widget-type-around-button-size: 20px;\n\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\n\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\n\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\n\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\n\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\n\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\n}\n\n@define-mixin ck-widget-type-around-button-visible {\n\topacity: 1;\n\tpointer-events: auto;\n}\n\n@define-mixin ck-widget-type-around-button-hidden {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\twidth: var(--ck-widget-type-around-button-size);\n\t\theight: var(--ck-widget-type-around-button-size);\n\t\tbackground: var(--ck-color-widget-type-around-button);\n\t\tborder-radius: 100px;\n\t\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t@mixin ck-widget-type-around-button-hidden;\n\n\t\t& svg {\n\t\t\twidth: 10px;\n\t\t\theight: 8px;\n\t\t\ttransform: translate(-50%,-50%);\n\t\t\ttransition: transform .5s ease;\n\t\t\tmargin-top: 1px;\n\n\t\t\t& * {\n\t\t\t\tstroke-dasharray: 10;\n\t\t\t\tstroke-dashoffset: 0;\n\n\t\t\t\tfill: none;\n\t\t\t\tstroke: var(--ck-color-widget-type-around-button-icon);\n\t\t\t\tstroke-width: 1.5px;\n\t\t\t\tstroke-linecap: round;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t}\n\n\t\t\t& line {\n\t\t\t\tstroke-dasharray: 7;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t/*\n\t\t\t * Display the "sonar" around the button when hovered.\n\t\t\t */\n\t\t\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\n\n\t\t\t/*\n\t\t\t * Animate active button\'s icon.\n\t\t\t */\n\t\t\t& svg {\n\t\t\t\t& polyline {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-dash 2s linear;\n\t\t\t\t}\n\n\t\t\t\t& line {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Show type around buttons when the widget gets selected or being hovered.\n\t */\n\t&.ck-widget_selected,\n\t&:hover {\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-visible;\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\n\t * and still can be hovered).\n\t */\n\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\tbackground: var(--ck-color-widget-type-around-button-hover);\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\tbackground: var(--ck-color-widget-type-around-button-active);\n\n\t\t&::after {\n\t\t\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\tborder-radius: 100px;\n\t\t\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the "before" button when the widget has a selection handle. Because some space\n\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\n\t */\n\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\n\t\tmargin-left: 20px;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& .ck-widget__type-around__fake-caret {\n\t\tpointer-events: none;\n\t\theight: 1px;\n\t\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\n\n\t\t/*\n\t\t * The semi-transparent-outline+background combo improves the contrast\n\t\t * when the background underneath the fake caret is dark.\n\t\t */\n\t\toutline: solid 1px hsla(0, 0%, 100%, .5);\n\t\tbackground: var(--ck-color-base-text);\n\t}\n\n\t/*\n\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t * Despite the widget being physically selected in the model, its outline should disappear.\n\t */\n\t&.ck-widget_selected {\n\t\t&.ck-widget_type-around_show-fake-caret_before,\n\t\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t\toutline-color: transparent;\n\t\t}\n\t}\n\n\t&.ck-widget_type-around_show-fake-caret_before,\n\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t/*\n\t\t * When the "fake caret" is visible we simulate that the widget is not selected\n\t\t * (despite being physically selected), so the outline color should be for the\n\t\t * unselected widget.\n\t\t */\n\t\t&.ck-widget_selected:hover {\n\t\t\toutline-color: var(--ck-color-widget-hover-border);\n\t\t}\n\n\t\t/*\n\t\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\n\t\t */\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\n\t\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\n\t\t */\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t&.ck-widget_selected,\n\t\t\t&.ck-widget_selected:hover {\n\t\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\t\topacity: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\n\t\t * hide the resize UI because it creates too much noise. It can be visible when the user\n\t\t * hovers the widget, though.\n\t\t */\n\t\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\n\t\t\topacity: 0\n\t\t}\n\t}\n}\n\n/*\n * Styles for the "before" button when the widget has a selection handle in an RTL environment.\n * The selection handler is aligned to the right side of the widget so there is no need to create\n * additional space for it next to the "before" button.\n */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {\n\tmargin-left: 0;\n\tmargin-right: 20px;\n}\n\n/*\n * Hide type around buttons when the widget is selected as a child of a selected\n * nested editable (e.g. mulit-cell table selection).\n *\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\n */\n.ck-editor__nested-editable.ck-editor__editable_selected {\n\t& .ck-widget {\n\t\t&.ck-widget_selected,\n\t\t&:hover {\n\t\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/*\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\n */\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\n\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\n\n\t& svg * {\n\t\tstroke: hsl(0,0%,60%);\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-dash {\n\t0% {\n\t\tstroke-dashoffset: 10;\n\t}\n\t20%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-tip-dash {\n\t0%, 20% {\n\t\tstroke-dashoffset: 7;\n\t}\n\t40%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-button-sonar {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n\t50% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n}\n\n@keyframes ck-widget-type-around-fake-caret-pulse {\n\t0% {\n\t\topacity: 1;\n\t}\n\t49% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n\t99% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'],sourceRoot:""}]);const Q=A},2609:B=>{B.exports=function(I){var E=[];return E.toString=function(){return this.map(function(U){var L=I(U);return U[2]?"@media ".concat(U[2]," {").concat(L,"}"):L}).join("")},E.i=function(U,L,z){"string"==typeof U&&(U=[[null,U,""]]);var A={};if(z)for(var Q=0;Q<this.length;Q++){var J=this[Q][0];null!=J&&(A[J]=!0)}for(var ve=0;ve<U.length;ve++){var we=[].concat(U[ve]);z&&A[we[0]]||(L&&(we[2]=we[2]?"".concat(L," and ").concat(we[2]):L),E.push(we))}},E}},1799:B=>{function E(U,L){(null==L||L>U.length)&&(L=U.length);for(var z=0,A=new Array(L);z<L;z++)A[z]=U[z];return A}B.exports=function(U){var L=function I(U,L){return function(z){if(Array.isArray(z))return z}(U)||function(z,A){var Q=z&&("undefined"!=typeof Symbol&&z[Symbol.iterator]||z["@@iterator"]);if(null!=Q){var J,ve,we=[],te=!0,ye=!1;try{for(Q=Q.call(z);!(te=(J=Q.next()).done)&&(we.push(J.value),!A||we.length!==A);te=!0);}catch(ke){ye=!0,ve=ke}finally{try{te||null==Q.return||Q.return()}finally{if(ye)throw ve}}return we}}(U,L)||function(z,A){if(z){if("string"==typeof z)return E(z,A);var Q=Object.prototype.toString.call(z).slice(8,-1);if("Object"===Q&&z.constructor&&(Q=z.constructor.name),"Map"===Q||"Set"===Q)return Array.from(z);if("Arguments"===Q||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return E(z,A)}}(U,L)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(U,4),z=L[1],A=L[3];if(!A)return z;if("function"==typeof btoa){var Q=btoa(unescape(encodeURIComponent(JSON.stringify(A)))),J="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(Q),ve="/*# ".concat(J," */"),we=A.sources.map(function(te){return"/*# sourceURL=".concat(A.sourceRoot||"").concat(te," */")});return[z].concat(we).concat([ve]).join("\n")}return[z].join("\n")}},6062:(B,I,E)=>{var U,ne,z=(ne={},function(se){if(void 0===ne[se]){var pe=document.querySelector(se);if(window.HTMLIFrameElement&&pe instanceof window.HTMLIFrameElement)try{pe=pe.contentDocument.head}catch(me){pe=null}ne[se]=pe}return ne[se]}),A=[];function Q(ne){for(var se=-1,pe=0;pe<A.length;pe++)if(A[pe].identifier===ne){se=pe;break}return se}function J(ne,se){for(var pe={},me=[],Se=0;Se<ne.length;Se++){var De=ne[Se],Re=se.base?De[0]+se.base:De[0],Ee=pe[Re]||0,Pe="".concat(Re," ").concat(Ee);pe[Re]=Ee+1;var Ve=Q(Pe),Be={css:De[1],media:De[2],sourceMap:De[3]};-1!==Ve?(A[Ve].references++,A[Ve].updater(Be)):A.push({identifier:Pe,updater:_e(Be,se),references:1}),me.push(Pe)}return me}function ve(ne){var se=document.createElement("style"),pe=ne.attributes||{};if(void 0===pe.nonce){var me=E.nc;me&&(pe.nonce=me)}if(Object.keys(pe).forEach(function(De){se.setAttribute(De,pe[De])}),"function"==typeof ne.insert)ne.insert(se);else{var Se=z(ne.insert||"head");if(!Se)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Se.appendChild(se)}return se}var we,te=(we=[],function(ne,se){return we[ne]=se,we.filter(Boolean).join("\n")});function ye(ne,se,pe,me){var Se=pe?"":me.media?"@media ".concat(me.media," {").concat(me.css,"}"):me.css;if(ne.styleSheet)ne.styleSheet.cssText=te(se,Se);else{var De=document.createTextNode(Se),Re=ne.childNodes;Re[se]&&ne.removeChild(Re[se]),Re.length?ne.insertBefore(De,Re[se]):ne.appendChild(De)}}function ke(ne,se,pe){var me=pe.css,Se=pe.media,De=pe.sourceMap;if(Se?ne.setAttribute("media",Se):ne.removeAttribute("media"),De&&"undefined"!=typeof btoa&&(me+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(De))))," */")),ne.styleSheet)ne.styleSheet.cssText=me;else{for(;ne.firstChild;)ne.removeChild(ne.firstChild);ne.appendChild(document.createTextNode(me))}}var ue=null,ge=0;function _e(ne,se){var pe,me,Se;if(se.singleton){var De=ge++;pe=ue||(ue=ve(se)),me=ye.bind(null,pe,De,!1),Se=ye.bind(null,pe,De,!0)}else pe=ve(se),me=ke.bind(null,pe,se),Se=function(){!function(Re){if(null===Re.parentNode)return!1;Re.parentNode.removeChild(Re)}(pe)};return me(ne),function(Re){if(Re){if(Re.css===ne.css&&Re.media===ne.media&&Re.sourceMap===ne.sourceMap)return;me(ne=Re)}else Se()}}B.exports=function(ne,se){(se=se||{}).singleton||"boolean"==typeof se.singleton||(se.singleton=(void 0===U&&(U=Boolean(window&&document&&document.all&&!window.atob)),U));var pe=J(ne=ne||[],se);return function(me){if(me=me||[],"[object Array]"===Object.prototype.toString.call(me)){for(var Se=0;Se<pe.length;Se++){var De=Q(pe[Se]);A[De].references--}for(var Re=J(me,se),Ee=0;Ee<pe.length;Ee++){var Pe=Q(pe[Ee]);0===A[Pe].references&&(A[Pe].updater(),A.splice(Pe,1))}pe=Re}}}}},M={};function P(B){var I=M[B];if(void 0!==I)return I.exports;var E=M[B]={id:B,exports:{}};return D[B](E,E.exports,P),E.exports}P.n=B=>{var I=B&&B.__esModule?()=>B.default:()=>B;return P.d(I,{a:I}),I},P.d=(B,I)=>{for(var E in I)P.o(I,E)&&!P.o(B,E)&&Object.defineProperty(B,E,{enumerable:!0,get:I[E]})},P.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(B){if("object"==typeof window)return window}}(),P.o=(B,I)=>Object.prototype.hasOwnProperty.call(B,I),P.nc=void 0;var O={};return(()=>{P.d(O,{default:()=>el});class I{constructor(e,i){this.source=e,this.name=i,this.path=[],this.stop=function l(){l.called=!0},this.off=function l(){l.called=!0}}}const E=new Array(256).fill("").map((l,e)=>("0"+e.toString(16)).slice(-2));function U(){const l=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0;return"e"+E[l>>0&255]+E[l>>8&255]+E[l>>16&255]+E[l>>24&255]+E[e>>0&255]+E[e>>8&255]+E[e>>16&255]+E[e>>24&255]+E[i>>0&255]+E[i>>8&255]+E[i>>16&255]+E[i>>24&255]+E[s>>0&255]+E[s>>8&255]+E[s>>16&255]+E[s>>24&255]}const L={get(l="normal"){return"number"!=typeof l?this[l]||this.normal:l},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function z(l,e){const i=L.get(e.priority);for(let s=0;s<l.length;s++)if(L.get(l[s].priority)<i)return void l.splice(s,0,e);l.push(e)}class A extends Error{constructor(e,i,s){super(function(c,u){const h=new WeakSet;return c+(u?` ${JSON.stringify(u,(k,v)=>{if("object"==typeof v&&null!==v){if(h.has(v))return`[object ${v.constructor.name}]`;h.add(v)}return v})}`:"")+ve(c)}(e,s)),this.name="CKEditorError",this.context=i,this.data=s}is(e){return"CKEditorError"===e}static rethrowUnexpectedError(e,i){if(e.is&&e.is("CKEditorError"))throw e;const s=new A(e.message,i);throw s.stack=e.stack,s}}function Q(l,e){console.warn(...we(l,e))}function J(l,e){console.error(...we(l,e))}function ve(l){return`\nRead more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-${l}`}function we(l,e){const i=ve(l);return e?[l,e,i]:[l,i]}const ye="object"==typeof window?window:P.g;if(ye.CKEDITOR_VERSION)throw new A("ckeditor-duplicated-modules",null);ye.CKEDITOR_VERSION="35.0.1";const ke=Symbol("listeningTo"),ue=Symbol("emitterId"),ge=Symbol("delegations"),_e={on(l,e,i={}){this.listenTo(this,l,e,i)},once(l,e,i){let s=!1;this.listenTo(this,l,(c,...u)=>{s||(s=!0,c.off(),e.call(this,c,...u))},i)},off(l,e){this.stopListening(this,l,e)},listenTo(l,e,i,s={}){let c,u;this[ke]||(this[ke]={});const h=this[ke];pe(l)||se(l);const g=pe(l);var w,k,v,y;(c=h[g])||(c=h[g]={emitter:l,callbacks:{}}),(u=c.callbacks[e])||(u=c.callbacks[e]=[]),u.push(i),k=e,v=i,y=s,(w=l)._addEventListener?w._addEventListener(k,v,y):this._addEventListener.call(w,k,v,y)},stopListening(l,e,i){const s=this[ke];let c=l&&pe(l);const u=s&&c?s[c]:void 0,h=u&&e?u.callbacks[e]:void 0;if(!(!s||l&&!u||e&&!h))if(i)Ee(this,l,e,i),-1!==h.indexOf(i)&&(1===h.length?delete u.callbacks[e]:Ee(this,l,e,i));else if(h){for(;i=h.pop();)Ee(this,l,e,i);delete u.callbacks[e]}else if(u){for(e in u.callbacks)this.stopListening(l,e);delete s[c]}else{for(c in s)this.stopListening(s[c].emitter);delete this[ke]}},fire(l,...e){try{const i=l instanceof I?l:new I(this,l),s=i.name;let c=De(this,s);if(i.path.push(this),c){const h=[i,...e];c=Array.from(c);for(let g=0;g<c.length&&(c[g].callback.apply(this,h),i.off.called&&(delete i.off.called,this._removeEventListener(s,c[g].callback)),!i.stop.called);g++);}const u=this[ge];if(u){const h=u.get(s),g=u.get("*");h&&Re(h,i,e),g&&Re(g,i,e)}return i.return}catch(i){A.rethrowUnexpectedError(i,this)}},delegate(...l){return{to:(e,i)=>{this[ge]||(this[ge]=new Map),l.forEach(s=>{const c=this[ge].get(s);c?c.set(e,i):this[ge].set(s,new Map([[e,i]]))})}}},stopDelegating(l,e){if(this[ge])if(l)if(e){const i=this[ge].get(l);i&&i.delete(e)}else this[ge].delete(l);else this[ge].clear()},_addEventListener(l,e,i){!function(u,h){const g=me(u);if(g[h])return;let m=h,w=null;const k=[];for(;""!==m&&!g[m];)g[m]={callbacks:[],childEvents:[]},k.push(g[m]),w&&g[m].childEvents.push(w),w=m,m=m.substr(0,m.lastIndexOf(":"));if(""!==m){for(const v of k)v.callbacks=g[m].callbacks.slice();g[m].childEvents.push(w)}}(this,l);const s=Se(this,l),c={callback:e,priority:L.get(i.priority)};for(const u of s)z(u,c)},_removeEventListener(l,e){const i=Se(this,l);for(const s of i)for(let c=0;c<s.length;c++)s[c].callback==e&&(s.splice(c,1),c--)}},ne=_e;function se(l,e){l[ue]||(l[ue]=e||U())}function pe(l){return l[ue]}function me(l){return l._events||Object.defineProperty(l,"_events",{value:{}}),l._events}function Se(l,e){const i=me(l)[e];if(!i)return[];let s=[i.callbacks];for(let c=0;c<i.childEvents.length;c++){const u=Se(l,i.childEvents[c]);s=s.concat(u)}return s}function De(l,e){let i;return l._events&&(i=l._events[e])&&i.callbacks.length?i.callbacks:e.indexOf(":")>-1?De(l,e.substr(0,e.lastIndexOf(":"))):null}function Re(l,e,i){for(let[s,c]of l){c?"function"==typeof c&&(c=c(e.name)):c=e.name;const u=new I(e.source,c);u.path=[...e.path],s.fire(u,...i)}}function Ee(l,e,i,s){e._removeEventListener?e._removeEventListener(i,s):l._removeEventListener.call(e,i,s)}const Pe=function(l){var e=typeof l;return null!=l&&("object"==e||"function"==e)},Ve=Symbol("observableProperties"),Be=Symbol("boundObservables"),St=Symbol("boundProperties"),Yt=Symbol("decoratedMethods"),Fn=Symbol("decoratedOriginal"),hn=He({set(l,e){if(Pe(l))return void Object.keys(l).forEach(s=>{this.set(s,l[s])},this);yn(this);const i=this[Ve];if(l in this&&!i.has(l))throw new A("observable-set-cannot-override",this);Object.defineProperty(this,l,{enumerable:!0,configurable:!0,get:()=>i.get(l),set(s){const c=i.get(l);let u=this.fire("set:"+l,l,s,c);void 0===u&&(u=s),c===u&&i.has(l)||(i.set(l,u),this.fire("change:"+l,l,u,c))}}),this[l]=e},bind(...l){if(!l.length||!an(l))throw new A("observable-bind-wrong-properties",this);if(new Set(l).size!==l.length)throw new A("observable-bind-duplicate-properties",this);yn(this);const e=this[St];l.forEach(s=>{if(e.has(s))throw new A("observable-bind-rebind",this)});const i=new Map;return l.forEach(s=>{const c={property:s,to:[]};e.set(s,c),i.set(s,c)}),{to:Vr,toMany:ot,_observable:this,_bindProperties:l,_to:[],_bindings:i}},unbind(...l){if(!this[Ve])return;const e=this[St],i=this[Be];if(l.length){if(!an(l))throw new A("observable-unbind-wrong-properties",this);l.forEach(s=>{const c=e.get(s);c&&(c.to.forEach(([u,h])=>{const g=i.get(u),m=g[h];m.delete(c),m.size||delete g[h],Object.keys(g).length||(i.delete(u),this.stopListening(u,"change"))}),e.delete(s))})}else i.forEach((s,c)=>{this.stopListening(c,"change")}),i.clear(),e.clear()},decorate(l){yn(this);const e=this[l];if(!e)throw new A("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:l});this.on(l,(i,s)=>{i.return=e.apply(this,s)}),this[l]=function(...i){return this.fire(l,i)},this[l][Fn]=e,this[Yt]||(this[Yt]=[]),this[Yt].push(l)}},ne);hn.stopListening=function(l,e,i){if(!l&&this[Yt]){for(const s of this[Yt])this[s]=this[s][Fn];delete this[Yt]}ne.stopListening.call(this,l,e,i)};const je=hn;function yn(l){l[Ve]||(Object.defineProperty(l,Ve,{value:new Map}),Object.defineProperty(l,Be,{value:new Map}),Object.defineProperty(l,St,{value:new Map}))}function Vr(...l){const e=function(...u){if(!u.length)throw new A("observable-bind-to-parse-error",null);const h={to:[]};let g;return"function"==typeof u[u.length-1]&&(h.callback=u.pop()),u.forEach(m=>{if("string"==typeof m)g.properties.push(m);else{if("object"!=typeof m)throw new A("observable-bind-to-parse-error",null);g={observable:m,properties:[]},h.to.push(g)}}),h}(...l),i=Array.from(this._bindings.keys()),s=i.length;if(!e.callback&&e.to.length>1)throw new A("observable-bind-to-no-callback",this);if(s>1&&e.callback)throw new A("observable-bind-to-extra-callback",this);var c;e.to.forEach(u=>{if(u.properties.length&&u.properties.length!==s)throw new A("observable-bind-to-properties-length",this);u.properties.length||(u.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(i[0]).callback=e.callback),c=this._observable,this._to.forEach(u=>{const h=c[Be];let g;h.get(u.observable)||c.listenTo(u.observable,"change",(m,w)=>{g=h.get(u.observable)[w],g&&g.forEach(k=>{ni(c,k.property)})})}),function(u){let h;u._bindings.forEach((g,m)=>{u._to.forEach(w=>{h=w.properties[g.callback?0:u._bindProperties.indexOf(m)],g.to.push([w.observable,h]),function(k,v,y,F){const G=k[Be],$=G.get(y),K=$||{};K[F]||(K[F]=new Set),K[F].add(v),$||G.set(y,K)}(u._observable,g,w.observable,h)})})}(this),this._bindProperties.forEach(u=>{ni(this._observable,u)})}function ot(l,e,i){if(this._bindings.size>1)throw new A("observable-bind-to-many-not-one-binding",this);this.to(...function(s,c){const u=s.map(h=>[h,c]);return Array.prototype.concat.apply([],u)}(l,e),i)}function an(l){return l.every(e=>"string"==typeof e)}function ni(l,e){const i=l[St].get(e);let s;i.callback?s=i.callback.apply(l,i.to.map(c=>c[0][c[1]])):(s=i.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(l,e)?l[e]=s:l.set(e,s)}function Ae(l,...e){e.forEach(i=>{const s=Object.getOwnPropertyNames(i),c=Object.getOwnPropertySymbols(i);s.concat(c).forEach(u=>{if(u in l.prototype)return;const h=Object.getOwnPropertyDescriptor(i,u);h.enumerable=!1,Object.defineProperty(l.prototype,u,h)})})}class be{constructor(e){this.editor=e,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",av,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",av),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function av(l){l.return=!1,l.stop()}Ae(be,je);class st{constructor(e){this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this.affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",i=>{this.isEnabled||i.stop()},{priority:"high"}),this.listenTo(e,"change:isReadOnly",(i,s,c)=>{c&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",cv,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",cv),this.refresh())}execute(){}destroy(){this.stopListening()}}function cv(l){l.return=!1,l.stop()}Ae(st,je);class lv extends st{constructor(e){super(e),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const i=this._getFirstEnabledCommand();return!!i&&i.execute(e)}registerChildCommand(e,i={priority:"normal"}){z(this._childCommandsDefinitions,{command:e,priority:i.priority}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:i})=>i.isEnabled);return e&&e.command}}const dv="object"==typeof global&&global&&global.Object===Object&&global;var HD="object"==typeof self&&self&&self.Object===Object&&self;const Yn=dv||HD||Function("return this")(),zi=Yn.Symbol;var ku=Object.prototype,GD=ku.hasOwnProperty,Tp=ku.toString,La=zi?zi.toStringTag:void 0,WD=Object.prototype.toString,fr=zi?zi.toStringTag:void 0;const gr=function(l){return null==l?void 0===l?"[object Undefined]":"[object Null]":fr&&fr in Object(l)?function(l){var e=GD.call(l,La),i=l[La];try{l[La]=void 0;var s=!0}catch(u){}var c=Tp.call(l);return s&&(e?l[La]=i:delete l[La]),c}(l):function(l){return WD.call(l)}(l)},uv=function(l,e){return function(i){return l(e(i))}},_u=uv(Object.getPrototypeOf,Object),oi=function(l){return null!=l&&"object"==typeof l};var fv=Function.prototype.toString,ZD=Object.prototype.hasOwnProperty,KD=fv.call(Object);const Lo=function(l){if(!oi(l)||"[object Object]"!=gr(l))return!1;var e=_u(l);if(null===e)return!0;var i=ZD.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&fv.call(i)==KD},Ss=function(l,e){return l===e||l!=l&&e!=e},ja=function(l,e){for(var i=l.length;i--;)if(Ss(l[i][0],e))return i;return-1};var Pp=Array.prototype.splice;function Ur(l){var e=-1,i=null==l?0:l.length;for(this.clear();++e<i;){var s=l[e];this.set(s[0],s[1])}}Ur.prototype.clear=function(){this.__data__=[],this.size=0},Ur.prototype.delete=function(l){var e=this.__data__,i=ja(e,l);return!(i<0||(i==e.length-1?e.pop():Pp.call(e,i,1),--this.size,0))},Ur.prototype.get=function(l){var e=this.__data__,i=ja(e,l);return i<0?void 0:e[i][1]},Ur.prototype.has=function(l){return ja(this.__data__,l)>-1},Ur.prototype.set=function(l,e){var i=this.__data__,s=ja(i,l);return s<0?(++this.size,i.push([l,e])):i[s][1]=e,this};const za=Ur,Hr=function(l){if(!Pe(l))return!1;var e=gr(l);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},kl=Yn["__core-js_shared__"];var l,Fp=(l=/[^.]+$/.exec(kl&&kl.keys&&kl.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",Vi=Function.prototype.toString;const Gr=function(l){if(null!=l){try{return Vi.call(l)}catch(e){}try{return l+""}catch(e){}}return""};var An=/^\[object .+?Constructor\]$/,_v=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ri=function(l,e){var i=function(l,e){return null==l?void 0:l[e]}(l,e);return function(l){return!(!Pe(l)||function(l){return!!Fp&&Fp in l}(l))&&(Hr(l)?_v:An).test(Gr(l))}(i)?i:void 0},Ua=ri(Yn,"Map"),Ts=ri(Object,"create");var Cv=Object.prototype.hasOwnProperty,Av=Object.prototype.hasOwnProperty;function Ns(l){var e=-1,i=null==l?0:l.length;for(this.clear();++e<i;){var s=l[e];this.set(s[0],s[1])}}Ns.prototype.clear=function(){this.__data__=Ts?Ts(null):{},this.size=0},Ns.prototype.delete=function(l){var e=this.has(l)&&delete this.__data__[l];return this.size-=e?1:0,e},Ns.prototype.get=function(l){var e=this.__data__;if(Ts){var i=e[l];return"__lodash_hash_undefined__"===i?void 0:i}return Cv.call(e,l)?e[l]:void 0},Ns.prototype.has=function(l){var e=this.__data__;return Ts?void 0!==e[l]:Av.call(e,l)},Ns.prototype.set=function(l,e){var i=this.__data__;return this.size+=this.has(l)?0:1,i[l]=Ts&&void 0===e?"__lodash_hash_undefined__":e,this};const Dn=Ns,Ps=function(l,e){var i=l.__data__;return function(l){var e=typeof l;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==l:null===l}(e)?i["string"==typeof e?"string":"hash"]:i.map};function Os(l){var e=-1,i=null==l?0:l.length;for(this.clear();++e<i;){var s=l[e];this.set(s[0],s[1])}}Os.prototype.clear=function(){this.size=0,this.__data__={hash:new Dn,map:new(Ua||za),string:new Dn}},Os.prototype.delete=function(l){var e=Ps(this,l).delete(l);return this.size-=e?1:0,e},Os.prototype.get=function(l){return Ps(this,l).get(l)},Os.prototype.has=function(l){return Ps(this,l).has(l)},Os.prototype.set=function(l,e){var i=Ps(this,l),s=i.size;return i.set(l,e),this.size+=i.size==s?0:1,this};const vt=Os;function $r(l){var e=this.__data__=new za(l);this.size=e.size}$r.prototype.clear=function(){this.__data__=new za,this.size=0},$r.prototype.delete=function(l){var e=this.__data__,i=e.delete(l);return this.size=e.size,i},$r.prototype.get=function(l){return this.__data__.get(l)},$r.prototype.has=function(l){return this.__data__.has(l)},$r.prototype.set=function(l,e){var i=this.__data__;if(i instanceof za){var s=i.__data__;if(!Ua||s.length<199)return s.push([l,e]),this.size=++i.size,this;i=this.__data__=new vt(s)}return i.set(l,e),this.size=i.size,this};const _l=$r,Rs=function(){try{var l=ri(Object,"defineProperty");return l({},"",{}),l}catch(e){}}(),qe=function(l,e,i){"__proto__"==e&&Rs?Rs(l,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):l[e]=i};var Nn=Object.prototype.hasOwnProperty;const Au=function(l,e,i){var s=l[e];Nn.call(l,e)&&Ss(s,i)&&(void 0!==i||e in l)||qe(l,e,i)},Ha=function(l,e,i,s){var c=!i;i||(i={});for(var u=-1,h=e.length;++u<h;){var g=e[u],m=s?s(i[g],l[g],g,i,l):void 0;void 0===m&&(m=l[g]),c?qe(i,g,m):Au(i,g,m)}return i},Ga=function(l){return oi(l)&&"[object Arguments]"==gr(l)};var co=Object.prototype,XD=co.hasOwnProperty,Mv=co.propertyIsEnumerable;const Vp=Ga(function(){return arguments}())?Ga:function(l){return oi(l)&&XD.call(l,"callee")&&!Mv.call(l,"callee")},Jt=Array.isArray;var Iv=R&&!R.nodeType&&R,Sv=Iv&&S&&!S.nodeType&&S,Tv=Sv&&Sv.exports===Iv?Yn.Buffer:void 0;const $a=(Tv?Tv.isBuffer:void 0)||function(){return!1};var tE=/^(?:0|[1-9]\d*)$/;const Du=function(l,e){var i=typeof l;return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&tE.test(l))&&l>-1&&l%1==0&&l<e},Nv=function(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=9007199254740991};var dt={};dt["[object Float32Array]"]=dt["[object Float64Array]"]=dt["[object Int8Array]"]=dt["[object Int16Array]"]=dt["[object Int32Array]"]=dt["[object Uint8Array]"]=dt["[object Uint8ClampedArray]"]=dt["[object Uint16Array]"]=dt["[object Uint32Array]"]=!0,dt["[object Arguments]"]=dt["[object Array]"]=dt["[object ArrayBuffer]"]=dt["[object Boolean]"]=dt["[object DataView]"]=dt["[object Date]"]=dt["[object Error]"]=dt["[object Function]"]=dt["[object Map]"]=dt["[object Number]"]=dt["[object Object]"]=dt["[object RegExp]"]=dt["[object Set]"]=dt["[object String]"]=dt["[object WeakMap]"]=!1;const Up=function(l){return function(e){return l(e)}};var Pv=R&&!R.nodeType&&R,vl=Pv&&S&&!S.nodeType&&S,Ge=vl&&vl.exports===Pv&&dv.process;const Wa=function(){try{return vl&&vl.require&&vl.require("util").types||Ge&&Ge.binding&&Ge.binding("util")}catch(e){}}();var Jn=Wa&&Wa.isTypedArray;const qa=Jn?Up(Jn):function(l){return oi(l)&&Nv(l.length)&&!!dt[gr(l)]};var Hp=Object.prototype.hasOwnProperty;const Gp=function(l,e){var i=Jt(l),s=!i&&Vp(l),c=!i&&!s&&$a(l),u=!i&&!s&&!c&&qa(l),h=i||s||c||u,g=h?function(l,e){for(var i=-1,s=Array(l);++i<l;)s[i]=e(i);return s}(l.length,String):[],m=g.length;for(var w in l)!e&&!Hp.call(l,w)||h&&("length"==w||c&&("offset"==w||"parent"==w)||u&&("buffer"==w||"byteLength"==w||"byteOffset"==w)||Du(w,m))||g.push(w);return g};var Ov=Object.prototype;const Cl=function(l){var e=l&&l.constructor;return l===("function"==typeof e&&e.prototype||Ov)},yl=uv(Object.keys,Object);var Eu=Object.prototype.hasOwnProperty;const Al=function(l){return null!=l&&Nv(l.length)&&!Hr(l)},$e=function(l){return Al(l)?Gp(l):function(l){if(!Cl(l))return yl(l);var e=[];for(var i in Object(l))Eu.call(l,i)&&"constructor"!=i&&e.push(i);return e}(l)};var pr=Object.prototype.hasOwnProperty;const Qa=function(l){return Al(l)?Gp(l,!0):function(l){if(!Pe(l))return function(l){var e=[];if(null!=l)for(var i in Object(l))e.push(i);return e}(l);var e=Cl(l),i=[];for(var s in l)("constructor"!=s||!e&&pr.call(l,s))&&i.push(s);return i}(l)};var jo=R&&!R.nodeType&&R,Bv=jo&&S&&!S.nodeType&&S,Fv=Bv&&Bv.exports===jo?Yn.Buffer:void 0,si=Fv?Fv.allocUnsafe:void 0;const qp=function(l,e){if(e)return l.slice();var i=l.length,s=si?si(i):new l.constructor(i);return l.copy(s),s},Qp=function(l,e){var i=-1,s=l.length;for(e||(e=Array(s));++i<s;)e[i]=l[i];return e},jv=function(){return[]};var Tt=Object.prototype.propertyIsEnumerable,zv=Object.getOwnPropertySymbols;const Zp=zv?function(l){return null==l?[]:(l=Object(l),function(l,e){for(var i=-1,s=null==l?0:l.length,c=0,u=[];++i<s;){var h=l[i];e(h)&&(u[c++]=h)}return u}(zv(l),function(e){return Tt.call(l,e)}))}:jv,Nt=function(l,e){for(var i=-1,s=e.length,c=l.length;++i<s;)l[c+i]=e[i];return l},Za=Object.getOwnPropertySymbols?function(l){for(var e=[];l;)Nt(e,Zp(l)),l=_u(l);return e}:jv,Dl=function(l,e,i){var s=e(l);return Jt(l)?s:Nt(s,i(l))},El=function(l){return Dl(l,$e,Zp)},Hi=function(l){return Dl(l,Qa,Za)},Wr=ri(Yn,"DataView"),Iu=ri(Yn,"Promise"),zo=ri(Yn,"Set"),Su=ri(Yn,"WeakMap");var Tu="[object Map]",Nu="[object Promise]",Pu="[object Set]",lo="[object WeakMap]",Kp="[object DataView]",Yp=Gr(Wr),Ue=Gr(Ua),uo=Gr(Iu),Ln=Gr(zo),br=Gr(Su),Do=gr;(Wr&&Do(new Wr(new ArrayBuffer(1)))!=Kp||Ua&&Do(new Ua)!=Tu||Iu&&Do(Iu.resolve())!=Nu||zo&&Do(new zo)!=Pu||Su&&Do(new Su)!=lo)&&(Do=function(l){var e=gr(l),i="[object Object]"==e?l.constructor:void 0,s=i?Gr(i):"";if(s)switch(s){case Yp:return Kp;case Ue:return Tu;case uo:return Nu;case Ln:return Pu;case br:return lo}return e});const jn=Do;var xl=Object.prototype.hasOwnProperty;const wr=Yn.Uint8Array,Fs=function(l){var e=new l.constructor(l.byteLength);return new wr(e).set(new wr(l)),e};var zn=/\w*$/,Eo=zi?zi.prototype:void 0,xe=Eo?Eo.valueOf:void 0;const Ut=function(l,e){var i=e?Fs(l.buffer):l.buffer;return new l.constructor(i,l.byteOffset,l.length)};var kr=Object.create;const En=function(){function l(){}return function(e){if(!Pe(e))return{};if(kr)return kr(e);l.prototype=e;var i=new l;return l.prototype=void 0,i}}(),_r=function(l){return"function"!=typeof l.constructor||Cl(l)?{}:En(_u(l))};var Ls=Wa&&Wa.isMap;const js=Ls?Up(Ls):function(l){return oi(l)&&"[object Map]"==jn(l)};var Ka=Wa&&Wa.isSet;const zs=Ka?Up(Ka):function(l){return oi(l)&&"[object Set]"==jn(l)};var Ml="[object Arguments]",Qr="[object Function]",Ct={};Ct[Ml]=Ct["[object Array]"]=Ct["[object ArrayBuffer]"]=Ct["[object DataView]"]=Ct["[object Boolean]"]=Ct["[object Date]"]=Ct["[object Float32Array]"]=Ct["[object Float64Array]"]=Ct["[object Int8Array]"]=Ct["[object Int16Array]"]=Ct["[object Int32Array]"]=Ct["[object Map]"]=Ct["[object Number]"]=Ct["[object Object]"]=Ct["[object RegExp]"]=Ct["[object Set]"]=Ct["[object String]"]=Ct["[object Symbol]"]=Ct["[object Uint8Array]"]=Ct["[object Uint8ClampedArray]"]=Ct["[object Uint16Array]"]=Ct["[object Uint32Array]"]=!0,Ct["[object Error]"]=Ct[Qr]=Ct["[object WeakMap]"]=!1;const vr=function l(e,i,s,c,u,h){var g,m=1&i,w=2&i,k=4&i;if(s&&(g=u?s(e,c,u,h):s(e)),void 0!==g)return g;if(!Pe(e))return e;var v=Jt(e);if(v){if(g=function(l){var e=l.length,i=new l.constructor(e);return e&&"string"==typeof l[0]&&xl.call(l,"index")&&(i.index=l.index,i.input=l.input),i}(e),!m)return Qp(e,g)}else{var y=jn(e),F=y==Qr||"[object GeneratorFunction]"==y;if($a(e))return qp(e,m);if("[object Object]"==y||y==Ml||F&&!u){if(g=w||F?{}:_r(e),!m)return w?function(l,e){return Ha(l,Za(l),e)}(e,function(l,e){return l&&Ha(e,Qa(e),l)}(g,e)):function(l,e){return Ha(l,Zp(l),e)}(e,function(l,e){return l&&Ha(e,$e(e),l)}(g,e))}else{if(!Ct[y])return u?e:{};g=function(l,e,i){var s=l.constructor;switch(e){case"[object ArrayBuffer]":return Fs(l);case"[object Boolean]":case"[object Date]":return new s(+l);case"[object DataView]":return function(l,e){var i=e?Fs(l.buffer):l.buffer;return new l.constructor(i,l.byteOffset,l.byteLength)}(l,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ut(l,i);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(l);case"[object RegExp]":return function(l){var e=new l.constructor(l.source,zn.exec(l));return e.lastIndex=l.lastIndex,e}(l);case"[object Symbol]":return function(l){return xe?Object(xe.call(l)):{}}(l)}}(e,y,m)}}h||(h=new _l);var G=h.get(e);if(G)return G;h.set(e,g),zs(e)?e.forEach(function(K){g.add(l(K,i,s,K,e,h))}):js(e)&&e.forEach(function(K,Y){g.set(Y,l(K,i,s,Y,e,h))});var $=v?void 0:(k?w?Hi:El:w?Qa:$e)(e);return function(l,e){for(var i=-1,s=null==l?0:l.length;++i<s&&!1!==e(l[i],i););}($||e,function(K,Y){$&&(K=e[Y=K]),Au(g,Y,l(K,i,s,Y,e,h))}),g},Vo=function(l,e){return vr(l,5,e="function"==typeof e?e:void 0)},kt=function(l){return oi(l)&&1===l.nodeType&&!Lo(l)};class Jp{constructor(e,i){this._config={},i&&this.define(Xp(i)),e&&this._setObjectToTarget(this._config,e)}set(e,i){this._setToTarget(this._config,e,i)}define(e,i){this._setToTarget(this._config,e,i,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,i,s,c=!1){if(Lo(i))return void this._setObjectToTarget(e,i,c);const u=i.split(".");i=u.pop();for(const h of u)Lo(e[h])||(e[h]={}),e=e[h];if(Lo(s))return Lo(e[i])||(e[i]={}),void this._setObjectToTarget(e=e[i],s,c);c&&void 0!==e[i]||(e[i]=s)}_getFromSource(e,i){const s=i.split(".");i=s.pop();for(const c of s){if(!Lo(e[c])){e=null;break}e=e[c]}return e?Xp(e[i]):void 0}_setObjectToTarget(e,i,s){Object.keys(i).forEach(c=>{this._setToTarget(e,c,i[c],s)})}}function Xp(l){return Vo(l,_i)}function _i(l){return kt(l)?l:void 0}function nn(l){return!(!l||!l[Symbol.iterator])}class Il{constructor(e={},i={}){const s=nn(e);if(s||(i=e),this._items=[],this._itemMap=new Map,this._idProperty=i.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],s)for(const c of e)this._items.push(c),this._itemMap.set(this._getItemIdBeforeAdding(c),c)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,i){return this.addMany([e],i)}addMany(e,i){if(void 0===i)i=this._items.length;else if(i>this._items.length||i<0)throw new A("collection-add-item-invalid-index",this);let s=0;for(const c of e){const u=this._getItemIdBeforeAdding(c),h=i+s;this._items.splice(h,0,c),this._itemMap.set(u,c),this.fire("add",c,h),s++}return this.fire("change",{added:e,removed:[],index:i}),this}get(e){let i;if("string"==typeof e)i=this._itemMap.get(e);else{if("number"!=typeof e)throw new A("collection-get-invalid-arg",this);i=this._items[e]}return i||null}has(e){if("string"==typeof e)return this._itemMap.has(e);{const i=e[this._idProperty];return i&&this._itemMap.has(i)}}getIndex(e){let i;return i="string"==typeof e?this._itemMap.get(e):e,i?this._items.indexOf(i):-1}remove(e){const[i,s]=this._remove(e);return this.fire("change",{added:[],removed:[i],index:s}),i}map(e,i){return this._items.map(e,i)}find(e,i){return this._items.find(e,i)}filter(e,i){return this._items.filter(e,i)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new A("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:i=>{this._setUpBindToBinding(s=>new i(s))},using:i=>{this._setUpBindToBinding("function"==typeof i?i:s=>s[i])}}}_setUpBindToBinding(e){const i=this._bindToCollection,s=(c,u,h)=>{const g=i._bindToCollection==this,m=i._bindToInternalToExternalMap.get(u);if(g&&m)this._bindToExternalToInternalMap.set(u,m),this._bindToInternalToExternalMap.set(m,u);else{const w=e(u);if(!w)return void this._skippedIndexesFromExternal.push(h);let k=h;for(const v of this._skippedIndexesFromExternal)h>v&&k--;for(const v of i._skippedIndexesFromExternal)k>=v&&k++;this._bindToExternalToInternalMap.set(u,w),this._bindToInternalToExternalMap.set(w,u),this.add(w,k);for(let v=0;v<i._skippedIndexesFromExternal.length;v++)k<=i._skippedIndexesFromExternal[v]&&i._skippedIndexesFromExternal[v]++}};for(const c of i)s(0,c,i.getIndex(c));this.listenTo(i,"add",s),this.listenTo(i,"remove",(c,u,h)=>{const g=this._bindToExternalToInternalMap.get(u);g&&this.remove(g),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((m,w)=>(h<w&&m.push(w-1),h>w&&m.push(w),m),[])})}_getItemIdBeforeAdding(e){const i=this._idProperty;let s;if(i in e){if(s=e[i],"string"!=typeof s)throw new A("collection-add-invalid-id",this);if(this.get(s))throw new A("collection-add-item-already-exists",this)}else e[i]=s=U();return s}_remove(e){let i,s,c,u=!1;const h=this._idProperty;if("string"==typeof e?(s=e,c=this._itemMap.get(s),u=!c,c&&(i=this._items.indexOf(c))):"number"==typeof e?(i=e,c=this._items[i],u=!c,c&&(s=c[h])):(c=e,s=c[h],i=this._items.indexOf(c),u=-1==i||!this._itemMap.get(s)),u)throw new A("collection-remove-404",this);this._items.splice(i,1),this._itemMap.delete(s);const g=this._bindToInternalToExternalMap.get(c);return this._bindToInternalToExternalMap.delete(c),this._bindToExternalToInternalMap.delete(g),this.fire("remove",c,i),[c,i]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}Ae(Il,ne);const fo=Il;class Vs{constructor(e,i=[],s=[]){this._context=e,this._plugins=new Map,this._availablePlugins=new Map;for(const c of i)c.pluginName&&this._availablePlugins.set(c.pluginName,c);this._contextPlugins=new Map;for(const[c,u]of s)this._contextPlugins.set(c,u),this._contextPlugins.set(u,c),c.pluginName&&this._availablePlugins.set(c.pluginName,c)}*[Symbol.iterator](){for(const e of this._plugins)"function"==typeof e[0]&&(yield e)}get(e){const i=this._plugins.get(e);if(!i){let s=e;throw"function"==typeof e&&(s=e.pluginName||e.name),new A("plugincollection-plugin-not-loaded",this._context,{plugin:s})}return i}has(e){return this._plugins.has(e)}init(e,i=[],s=[]){const c=this,u=this._context;(function G($,K=new Set){$.forEach(Y=>{m(Y)&&(K.has(Y)||(K.add(Y),Y.pluginName&&!c._availablePlugins.has(Y.pluginName)&&c._availablePlugins.set(Y.pluginName,Y),Y.requires&&G(Y.requires,K)))})})(e),y(e);const h=[...function G($,K=new Set){return $.map(Y=>m(Y)?Y:c._availablePlugins.get(Y)).reduce((Y,ee)=>K.has(ee)?Y:(K.add(ee),ee.requires&&(y(ee.requires,ee),G(ee.requires,K).forEach(ce=>Y.add(ce))),Y.add(ee)),new Set)}(e.filter(G=>!k(G,i)))];!function(G,$){for(const K of $){if("function"!=typeof K)throw new A("plugincollection-replace-plugin-invalid-type",null,{pluginItem:K});const Y=K.pluginName;if(!Y)throw new A("plugincollection-replace-plugin-missing-name",null,{pluginItem:K});if(K.requires&&K.requires.length)throw new A("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:Y});const ee=c._availablePlugins.get(Y);if(!ee)throw new A("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:Y});const ce=G.indexOf(ee);if(-1===ce){if(c._contextPlugins.has(ee))return;throw new A("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:Y})}if(ee.requires&&ee.requires.length)throw new A("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:Y});G.splice(ce,1,K),c._availablePlugins.set(Y,K)}}(h,s);const g=h.map($=>{const K=c._contextPlugins.get($)||new $(u);return c._add($,K),K});return F(g,"init").then(()=>F(g,"afterInit")).then(()=>g);function m(G){return"function"==typeof G}function w(G){return m(G)&&G.isContextPlugin}function k(G,$){return $.some(K=>K===G||v(G)===K||v(K)===G)}function v(G){return m(G)?G.pluginName||G.name:G}function y(G,$=null){G.map(K=>m(K)?K:c._availablePlugins.get(K)||K).forEach(K=>{(function(Y,ee){if(!m(Y))throw ee?new A("plugincollection-soft-required",u,{missingPlugin:Y,requiredBy:v(ee)}):new A("plugincollection-plugin-not-found",u,{plugin:Y})})(K,$),function(Y,ee){if(w(ee)&&!w(Y))throw new A("plugincollection-context-required",u,{plugin:v(Y),requiredBy:v(ee)})}(K,$),function(Y,ee){if(ee&&k(Y,i))throw new A("plugincollection-required",u,{plugin:v(Y),requiredBy:v(ee)})}(K,$)})}function F(G,$){return G.reduce((K,Y)=>Y[$]?c._contextPlugins.has(Y)?K:K.then(Y[$].bind(Y)):K,Promise.resolve())}}destroy(){const e=[];for(const[,i]of this)"function"!=typeof i.destroy||this._contextPlugins.has(i)||e.push(i.destroy());return Promise.all(e)}_add(e,i){this._plugins.set(e,i);const s=e.pluginName;if(s){if(this._plugins.has(s))throw new A("plugincollection-plugin-name-conflict",null,{pluginName:s,plugin1:this._plugins.get(s).constructor,plugin2:e});this._plugins.set(s,i)}}}function Pt(l){return Array.isArray(l)?l:[l]}Ae(Vs,ne),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});const nE=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function em(l){return nE.includes(l)?"rtl":"ltr"}class Hv{constructor(e={}){this.uiLanguage=e.uiLanguage||"en",this.contentLanguage=e.contentLanguage||this.uiLanguage,this.uiLanguageDirection=em(this.uiLanguage),this.contentLanguageDirection=em(this.contentLanguage),this.t=(i,s)=>this._t(i,s)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,i=[]){return i=Pt(i),"string"==typeof e&&(e={string:e}),c=function Uv(l,e,i=1){if("number"!=typeof i)throw new A("translation-service-quantity-not-a-number",null,{quantity:i});const s=Object.keys(window.CKEDITOR_TRANSLATIONS).length;1===s&&(l=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);const c=e.id||e.string;if(0===s||(m=l,!window.CKEDITOR_TRANSLATIONS[m]||!window.CKEDITOR_TRANSLATIONS[m].dictionary[c]))return 1!==i?e.plural:e.string;var m;const u=window.CKEDITOR_TRANSLATIONS[l].dictionary,h=window.CKEDITOR_TRANSLATIONS[l].getPluralForm||(m=>1===m?0:1),g=u[c];return"string"==typeof g?g:g[Number(h(i))]}(this.uiLanguage,e,e.plural?i[0]:1),u=i,c.replace(/%(\d+)/g,(h,g)=>g<u.length?u[g]:h);var c,u}}class oE{constructor(e){this.config=new Jp(e,this.constructor.defaultConfig);const i=this.constructor.builtinPlugins;this.config.define("plugins",i),this.plugins=new Vs(this,i);const s=this.config.get("language")||{};this.locale=new Hv({uiLanguage:"string"==typeof s?s:s.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new fo,this._contextOwner=null}initPlugins(){const e=this.config.get("plugins")||[],i=this.config.get("substitutePlugins")||[];for(const s of e.concat(i)){if("function"!=typeof s)throw new A("context-initplugins-constructor-only",null,{Plugin:s});if(!0!==s.isContextPlugin)throw new A("context-initplugins-invalid-plugin",null,{Plugin:s})}return this.plugins.init(e,[],i)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,i){if(this._contextOwner)throw new A("context-addeditor-private-context");this.editors.add(e),i&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const i of this.config.names())["plugins","removePlugins","extraPlugins"].includes(i)||(e[i]=this.config.get(i));return e}static create(e){return new Promise(i=>{const s=new this(e);i(s.initPlugins().then(()=>s))})}}class Sl{constructor(e){this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}function Xn(l,e){const i=Math.min(l.length,e.length);for(let s=0;s<i;s++)if(l[s]!=e[s])return s;return l.length==e.length?"same":l.length<e.length?"prefix":"extension"}Ae(Sl,je);const Gv=function(l){return vr(l,4)};class Us{constructor(e){this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new A("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.index),i=i.parent;return e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const i=[];let s=e.includeSelf?this:this.parent;for(;s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}getCommonAncestor(e,i={}){const s=this.getAncestors(i),c=e.getAncestors(i);let u=0;for(;s[u]==c[u]&&s[u];)u++;return 0===u?null:s[u-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),s=e.getPath(),c=Xn(i,s);switch(c){case"prefix":return!0;case"extension":return!1;default:return i[c]<s[c]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,i){this.fire("change:"+e,i),this.parent&&this.parent._fireChange(e,i)}toJSON(){const e=Gv(this);return delete e.parent,e}is(e){return"node"===e||"view:node"===e}}Ae(Us,ne);class zt extends Us{constructor(e,i){super(e),this._textData=i}is(e){return"$text"===e||"view:$text"===e||"text"===e||"view:text"===e||"node"===e||"view:node"===e}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof zt&&(this===e||this.data===e.data)}_clone(){return new zt(this.document,this.data)}}class Cr{constructor(e,i,s){if(this.textNode=e,i<0||i>e.data.length)throw new A("view-textproxy-wrong-offsetintext",this);if(s<0||i+s>e.data.length)throw new A("view-textproxy-wrong-length",this);this.data=e.data.substring(i,i+s),this.offsetInText=i}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(e){return"$textProxy"===e||"view:$textProxy"===e||"textProxy"===e||"view:textProxy"===e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const i=[];let s=e.includeSelf?this.textNode:this.parent;for(;null!==s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}}function Gi(l){return nn(l)?new Map(l):function(e){const i=new Map;for(const s in e)i.set(s,e[s]);return i}(l)}class $i{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let i of e)("string"==typeof i||i instanceof RegExp)&&(i={name:i}),this._patterns.push(i)}match(...e){for(const i of e)for(const s of this._patterns){const c=$v(i,s);if(c)return{element:i,pattern:s,match:c}}return null}matchAll(...e){const i=[];for(const s of e)for(const c of this._patterns){const u=$v(s,c);u&&i.push({element:s,pattern:c,match:u})}return i.length>0?i:null}getElementName(){if(1!==this._patterns.length)return null;const e=this._patterns[0],i=e.name;return"function"==typeof e||!i||i instanceof RegExp?null:i}}function $v(l,e){if("function"==typeof e)return e(l);const i={};return e.name&&(i.name=(c=l.name,(s=e.name)instanceof RegExp?!!c.match(s):s===c),!i.name)||e.attributes&&(i.attributes=function(s,c){const u=new Set(c.getAttributeKeys());return Lo(s)?(void 0!==s.style&&Q("matcher-pattern-deprecated-attributes-style-key",s),void 0!==s.class&&Q("matcher-pattern-deprecated-attributes-class-key",s)):(u.delete("style"),u.delete("class")),tm(s,u,h=>c.getAttribute(h))}(e.attributes,l),!i.attributes)?null:!(e.classes&&(i.classes=function(s,c){return tm(s,c.getClassNames())}(e.classes,l),!i.classes))&&!(e.styles&&(i.styles=function(s,c){return tm(s,c.getStyleNames(!0),u=>c.getStyle(u))}(e.styles,l),!i.styles))&&i;var s,c}function tm(l,e,i){const s=(h=l,Array.isArray(h)?h.map(g=>Lo(g)?(void 0!==g.key&&void 0!==g.value||Q("matcher-pattern-missing-key-or-value",g),[g.key,g.value]):[g,!0]):Lo(h)?Object.entries(h):[[h,!0]]),c=Array.from(e),u=[];var h;return s.forEach(([h,g])=>{c.forEach(m=>{var w,k;k=m,(!0===(w=h)||w===k||w instanceof RegExp&&k.match(w))&&function(w,k,v){if(!0===w)return!0;const y=v(k);return w===y||w instanceof RegExp&&!!String(y).match(w)}(g,m,i)&&u.push(m)})}),!s.length||u.length<s.length?null:u}const Ru=function(l){return"symbol"==typeof l||oi(l)&&"[object Symbol]"==gr(l)};var iE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rE=/^\w*$/;function Ya(l,e){if("function"!=typeof l||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var i=function(){var s=arguments,c=e?e.apply(this,s):s[0],u=i.cache;if(u.has(c))return u.get(c);var h=l.apply(this,s);return i.cache=u.set(c,h)||u,h};return i.cache=new(Ya.Cache||vt),i}Ya.Cache=vt;var e,i,aE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cE=/\\(\\)?/g,Zr=(e=Ya(function(l){var e=[];return 46===l.charCodeAt(0)&&e.push(""),l.replace(aE,function(i,s,c,u){e.push(c?u.replace(cE,"$1"):s||i)}),e},function(s){return 500===i.size&&i.clear(),s}),i=e.cache,e);const Wv=Zr;var Bu=zi?zi.prototype:void 0,om=Bu?Bu.toString:void 0;const qv=function l(e){if("string"==typeof e)return e;if(Jt(e))return function(l,e){for(var i=-1,s=null==l?0:l.length,c=Array(s);++i<s;)c[i]=e(l[i],i,l);return c}(e,l)+"";if(Ru(e))return om?om.call(e):"";var i=e+"";return"0"==i&&1/e==-1/0?"-0":i},Tl=function(l){return null==l?"":qv(l)},Nl=function(l,e){return Jt(l)?l:function(l,e){if(Jt(l))return!1;var i=typeof l;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=l&&!Ru(l))||rE.test(l)||!iE.test(l)||null!=e&&l in Object(e)}(l,e)?[l]:Wv(Tl(l))},Ja=function(l){if("string"==typeof l||Ru(l))return l;var e=l+"";return"0"==e&&1/l==-1/0?"-0":e},im=function(l,e){for(var i=0,s=(e=Nl(e,l)).length;null!=l&&i<s;)l=l[Ja(e[i++])];return i&&i==s?l:void 0},Mo=function(l,e,i){var s=-1,c=l.length;e<0&&(e=-e>c?0:c+e),(i=i>c?c:i)<0&&(i+=c),c=e>i?0:i-e>>>0,e>>>=0;for(var u=Array(c);++s<c;)u[s]=l[s+e];return u},Pl=function(l,e,i){var s=null==l?void 0:im(l,e);return void 0===s?i:s},ju=function(l,e,i){(void 0!==i&&!Ss(l[e],i)||void 0===i&&!(e in l))&&qe(l,e,i)},Xa=function(l,e){if(("constructor"!==e||"function"!=typeof l[e])&&"__proto__"!=e)return l[e]},rm=function l(e,i,s,c,u){e!==i&&function(e,i,s){for(var c=-1,u=Object(e),h=s(e),g=h.length;g--;){var m=h[++c];if(!1===i(u[m],m,u))break}}(i,function(h,g){if(u||(u=new _l),Pe(h))!function(l,e,i,s,c,u,h){var g=Xa(l,i),m=Xa(e,i),w=h.get(m);if(w)ju(l,i,w);else{var k=u?u(g,m,i+"",l,e,h):void 0,v=void 0===k;if(v){var y=Jt(m),F=!y&&$a(m),G=!y&&!F&&qa(m);k=m,y||F||G?Jt(g)?k=g:function(l){return oi(l)&&Al(l)}(g)?k=Qp(g):F?(v=!1,k=qp(m,!0)):G?(v=!1,k=Ut(m,!0)):k=[]:Lo(m)||Vp(m)?(k=g,Vp(g)?k=function(l){return Ha(l,Qa(l))}(g):Pe(g)&&!Hr(g)||(k=_r(m))):v=!1}v&&(h.set(m,k),c(k,m,s,u,h),h.delete(m)),ju(l,i,k)}}(e,i,g,s,l,c,u);else{var m=c?c(Xa(e,g),h,g+"",e,i,u):void 0;void 0===m&&(m=h),ju(e,g,m)}},Qa)},Kr=function(l){return l},fn=function(l,e,i){switch(i.length){case 0:return l.call(e);case 1:return l.call(e,i[0]);case 2:return l.call(e,i[0],i[1]);case 3:return l.call(e,i[0],i[1],i[2])}return l.apply(e,i)};var sm=Math.max;const Ol=function(l){return function(){return l}},Ho=Rs?function(l,e){return Rs(l,"toString",{configurable:!0,enumerable:!1,value:Ol(e),writable:!0})}:Kr;var Yv=Date.now;const Hs=function(l){var e=0,i=0;return function(){var s=Yv(),c=16-(s-i);if(i=s,c>0){if(++e>=800)return arguments[0]}else e=0;return l.apply(void 0,arguments)}}(Ho),Rl=function(l){return function(l,e){return Hs(function(l,e,i){return e=sm(void 0===e?l.length-1:e,0),function(){for(var s=arguments,c=-1,u=sm(s.length-e,0),h=Array(u);++c<u;)h[c]=s[e+c];c=-1;for(var g=Array(e+1);++c<e;)g[c]=s[c];return g[e]=i(h),fn(l,this,g)}}(l,e,Kr),l+"")}(function(e,i){var s=-1,c=i.length,u=c>1?i[c-1]:void 0,h=c>2?i[2]:void 0;for(u=l.length>3&&"function"==typeof u?(c--,u):void 0,h&&function(l,e,i){if(!Pe(i))return!1;var s=typeof e;return!!("number"==s?Al(i)&&Du(e,i.length):"string"==s&&e in i)&&Ss(i[e],l)}(i[0],i[1],h)&&(u=c<3?void 0:u,c=1),e=Object(e);++s<c;){var g=i[s];g&&l(e,g,s,u)}return e})},lm=Rl(function(l,e,i){rm(l,e,i)});class Vu{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const i=Array.from(function(s){let c=null,u=0,h=0,g=null;const m=new Map;if(""===s)return m;";"!=s.charAt(s.length-1)&&(s+=";");for(let w=0;w<s.length;w++){const k=s.charAt(w);if(null===c)switch(k){case":":g||(g=s.substr(u,w-u),h=w+1);break;case'"':case"'":c=k;break;case";":{const v=s.substr(h,w-h);g&&m.set(g.trim(),v.trim()),g=null,u=w+1;break}}else k===c&&(c=null)}return m}(e).entries());for(const[s,c]of i)this._styleProcessor.toNormalizedForm(s,c,this._styles)}has(e){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(i)}set(e,i){if(Pe(e))for(const[s,c]of Object.entries(e))this._styleProcessor.toNormalizedForm(s,c,this._styles);else this._styleProcessor.toNormalizedForm(e,i,this._styles)}remove(e){const i=Bl(e);(function(l,e){null==l||function(l,e){null==(l=function(l,e){return e.length<2?l:im(l,Mo(e,0,-1))}(l,e=Nl(e,l)))||delete l[Ja(function(l){var e=null==l?0:l.length;return e?l[e-1]:void 0}(e))]}(l,e)})(this._styles,i),delete this._styles[e],this._cleanEmptyObjectsOnPath(i)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Pe(this._styles[e]))return this._styles[e];const i=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(i)?i[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([i])=>i)}clear(){this._styles={}}_getStylesEntries(){const e=[],i=Object.keys(this._styles);for(const s of i)e.push(...this._styleProcessor.getReducedForm(s,this._styles));return e}_cleanEmptyObjectsOnPath(e){const i=e.split(".");if(!(i.length>1))return;const s=i.splice(0,i.length-1).join("."),c=Pl(this._styles,s);!c||!Array.from(Object.keys(c)).length&&this.remove(s)}}class Ye{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,i,s){if(Pe(i))um(s,Bl(e),i);else if(this._normalizers.has(e)){const c=this._normalizers.get(e),{path:u,value:h}=c(i);um(s,u,h)}else um(s,e,i)}getNormalized(e,i){if(!e)return lm({},i);if(void 0!==i[e])return i[e];if(this._extractors.has(e)){const s=this._extractors.get(e);if("string"==typeof s)return Pl(i,s);const c=s(e,i);if(c)return c}return Pl(i,Bl(e))}getReducedForm(e,i){const s=this.getNormalized(e,i);return void 0===s?[]:this._reducers.has(e)?this._reducers.get(e)(s):[[e,s]]}getStyleNames(e){const i=Array.from(this._consumables.keys()).filter(c=>{const u=this.getNormalized(c,e);return u&&"object"==typeof u?Object.keys(u).length:u}),s=new Set([...i,...Object.keys(e)]);return Array.from(s.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,i){this._normalizers.set(e,i)}setExtractor(e,i){this._extractors.set(e,i)}setReducer(e,i){this._reducers.set(e,i)}setStyleRelation(e,i){this._mapStyleNames(e,i);for(const s of i)this._mapStyleNames(s,[e])}_mapStyleNames(e,i){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...i)}}function Bl(l){return l.replace("-",".")}function um(l,e,i){let s=i;Pe(i)&&(s=lm({},Pl(l,e),i)),function(l,e,i){null==l||function(l,e,i,s){if(!Pe(l))return l;for(var c=-1,u=(e=Nl(e,l)).length,h=u-1,g=l;null!=g&&++c<u;){var m=Ja(e[c]),w=i;if("__proto__"===m||"constructor"===m||"prototype"===m)return l;if(c!=h){var k=g[m];void 0===(w=void 0)&&(w=Pe(k)?k:Du(e[c+1])?[]:{})}Au(g,m,w),g=g[m]}}(l,e,i)}(l,e,s)}class Go extends Us{constructor(e,i,s,c){if(super(e),this.name=i,this._attrs=function(u){u=Gi(u);for(const[h,g]of u)null===g?u.delete(h):"string"!=typeof g&&u.set(h,String(g));return u}(s),this._children=[],c&&this._insertChild(0,c),this._classes=new Set,this._attrs.has("class")){const u=this._attrs.get("class");hm(this._classes,u),this._attrs.delete("class")}this._styles=new Vu(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map,this._unsafeAttributesToRender=[]}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(e,i=null){return i?i===this.name&&("element"===e||"view:element"===e):"element"===e||"view:element"===e||"node"===e||"view:node"===e}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if("class"==e)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==e){const i=this._styles.toString();return""==i?void 0:i}return this._attrs.get(e)}hasAttribute(e){return"class"==e?this._classes.size>0:"style"==e?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Go))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[i,s]of this._attrs)if(!e._attrs.has(i)||e._attrs.get(i)!==s)return!1;for(const i of this._classes)if(!e._classes.has(i))return!1;for(const i of this._styles.getStyleNames())if(!e._styles.has(i)||e._styles.getAsString(i)!==this._styles.getAsString(i))return!1;return!0}hasClass(...e){for(const i of e)if(!this._classes.has(i))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e=!1){return this._styles.getStyleNames(e)}hasStyle(...e){for(const i of e)if(!this._styles.has(i))return!1;return!0}findAncestor(...e){const i=new $i(...e);let s=this.parent;for(;s;){if(i.match(s))return s;s=s.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),i=this._styles.toString(),s=Array.from(this._attrs).map(c=>`${c[0]}="${c[1]}"`).sort().join(" ");return this.name+(""==e?"":` class="${e}"`)+(i?` style="${i}"`:"")+(""==s?"":` ${s}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const i=[];if(e)for(const c of this.getChildren())i.push(c._clone(e));const s=new this.constructor(this.document,this.name,this._attrs,i);return s._classes=new Set(this._classes),s._styles.set(this._styles.getNormalized()),s._customProperties=new Map(this._customProperties),s.getFillerOffset=this.getFillerOffset,s._unsafeAttributesToRender=this._unsafeAttributesToRender,s}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,i){this._fireChange("children",this);let s=0;const c=(u=this.document,"string"==typeof(h=i)?[new zt(u,h)]:(nn(h)||(h=[h]),Array.from(h).map(g=>"string"==typeof g?new zt(u,g):g instanceof Cr?new zt(u,g.data):g)));var u,h;for(const u of c)null!==u.parent&&u._remove(),u.parent=this,u.document=this.document,this._children.splice(e,0,u),e++,s++;return s}_removeChildren(e,i=1){this._fireChange("children",this);for(let s=e;s<e+i;s++)this._children[s].parent=null;return this._children.splice(e,i)}_setAttribute(e,i){i=String(i),this._fireChange("attributes",this),"class"==e?hm(this._classes,i):"style"==e?this._styles.setTo(i):this._attrs.set(e,i)}_removeAttribute(e){return this._fireChange("attributes",this),"class"==e?this._classes.size>0&&(this._classes.clear(),!0):"style"==e?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const i of Pt(e))this._classes.add(i)}_removeClass(e){this._fireChange("attributes",this);for(const i of Pt(e))this._classes.delete(i)}_setStyle(e,i){this._fireChange("attributes",this),this._styles.set(e,i)}_removeStyle(e){this._fireChange("attributes",this);for(const i of Pt(e))this._styles.remove(i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function hm(l,e){const i=e.split(/\s+/);l.clear(),i.forEach(s=>l.add(s))}class Fl extends Go{constructor(e,i,s,c){super(e,i,s,c),this.getFillerOffset=Uu}is(e,i=null){return i?i===this.name&&("containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}}function Uu(){const l=[...this.getChildren()],e=l[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const i of l)if(!i.is("uiElement"))return null;return this.childCount}class Ll extends Fl{constructor(e,i,s,c){super(e,i,s,c),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",u=>u&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}is(e,i=null){return i?i===this.name&&("editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}destroy(){this.stopListening()}}Ae(Ll,je);const fm=Symbol("rootName");class fe extends Ll{constructor(e,i){super(e,i),this.rootName="main"}is(e,i=null){return i?i===this.name&&("rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}get rootName(){return this.getCustomProperty(fm)}set rootName(e){this._setCustomProperty(fm,e)}set _name(e){this.name=e}}class it{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new A("view-tree-walker-no-start-position",null);if(e.direction&&"forward"!=e.direction&&"backward"!=e.direction)throw new A("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,this.position=Ce._createAt(e.startPosition?e.startPosition:e.boundaries["backward"==e.direction?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(e){let i,s,c;do{c=this.position,({done:i,value:s}=this.next())}while(!i&&e(s));i||(this.position=c)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let e=this.position.clone();const i=this.position,s=e.parent;if(null===s.parent&&e.offset===s.childCount)return{done:!0};if(s===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};let c;if(s instanceof zt){if(e.isAtEnd)return this.position=Ce._createAfter(s),this._next();c=s.data[e.offset]}else c=s.getChild(e.offset);if(c instanceof Go)return this.shallow?e.offset++:e=new Ce(c,0),this.position=e,this._formatReturnValue("elementStart",c,i,e,1);if(c instanceof zt){if(this.singleCharacters)return e=new Ce(c,0),this.position=e,this._next();{let u,h=c.data.length;return c==this._boundaryEndParent?(h=this.boundaries.end.offset,u=new Cr(c,0,h),e=Ce._createAfter(u)):(u=new Cr(c,0,c.data.length),e.offset++),this.position=e,this._formatReturnValue("text",u,i,e,h)}}if("string"==typeof c){let u;u=this.singleCharacters?1:(s===this._boundaryEndParent?this.boundaries.end.offset:s.data.length)-e.offset;const h=new Cr(s,e.offset,u);return e.offset+=u,this.position=e,this._formatReturnValue("text",h,i,e,u)}return e=Ce._createAfter(s),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",s,i,e)}_previous(){let e=this.position.clone();const i=this.position,s=e.parent;if(null===s.parent&&0===e.offset)return{done:!0};if(s==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};let c;if(s instanceof zt){if(e.isAtStart)return this.position=Ce._createBefore(s),this._previous();c=s.data[e.offset-1]}else c=s.getChild(e.offset-1);if(c instanceof Go)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue("elementStart",c,i,e,1)):(e=new Ce(c,c.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",c,i,e));if(c instanceof zt){if(this.singleCharacters)return e=new Ce(c,c.data.length),this.position=e,this._previous();{let u,h=c.data.length;if(c==this._boundaryStartParent){const g=this.boundaries.start.offset;u=new Cr(c,g,c.data.length-g),h=u.data.length,e=Ce._createBefore(u)}else u=new Cr(c,0,c.data.length),e.offset--;return this.position=e,this._formatReturnValue("text",u,i,e,h)}}if("string"==typeof c){let u;u=this.singleCharacters?1:e.offset-(s===this._boundaryStartParent?this.boundaries.start.offset:0),e.offset-=u;const h=new Cr(s,e.offset,u);return this.position=e,this._formatReturnValue("text",h,i,e,u)}return e=Ce._createBefore(s),this.position=e,this._formatReturnValue("elementStart",s,i,e,1)}_formatReturnValue(e,i,s,c,u){return i instanceof Cr&&(i.offsetInText+i.data.length==i.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?s=Ce._createAfter(i.textNode):(c=Ce._createAfter(i.textNode),this.position=c)),0===i.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?s=Ce._createBefore(i.textNode):(c=Ce._createBefore(i.textNode),this.position=c))),{done:!1,value:{type:e,item:i,previousPosition:s,nextPosition:c,length:u}}}}class Ce{constructor(e,i){this.parent=e,this.offset=i}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Ll);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const i=Ce._createAt(this),s=i.offset+e;return i.offset=s<0?0:s,i}getLastMatchingPosition(e,i={}){i.startPosition=this;const s=new it(i);return s.skip(e),s.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const i=this.getAncestors(),s=e.getAncestors();let c=0;for(;i[c]==s[c]&&i[c];)c++;return 0===c?null:i[c-1]}is(e){return"position"===e||"view:position"===e}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return"before"==this.compareWith(e)}isAfter(e){return"after"==this.compareWith(e)}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const i=this.parent.is("node")?this.parent.getPath():[],s=e.parent.is("node")?e.parent.getPath():[];i.push(this.offset),s.push(e.offset);const c=Xn(i,s);switch(c){case"prefix":return"before";case"extension":return"after";default:return i[c]<s[c]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new it(e)}clone(){return new Ce(this.parent,this.offset)}static _createAt(e,i){if(e instanceof Ce)return new this(e.parent,e.offset);{const s=e;if("end"==i)i=s.is("$text")?s.data.length:s.childCount;else{if("before"==i)return this._createBefore(s);if("after"==i)return this._createAfter(s);if(0!==i&&!i)throw new A("view-createpositionat-offset-required",s)}return new Ce(s,i)}}static _createAfter(e){if(e.is("$textProxy"))return new Ce(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new A("view-position-after-root",e,{root:e});return new Ce(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Ce(e.textNode,e.offsetInText);if(!e.parent)throw new A("view-position-before-root",e,{root:e});return new Ce(e.parent,e.index)}}class Te{constructor(e,i=null){this.start=e.clone(),this.end=i?i.clone():e.clone()}*[Symbol.iterator](){yield*new it({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(ec,{direction:"backward"}),i=this.end.getLastMatchingPosition(ec);return e.parent.is("$text")&&e.isAtStart&&(e=Ce._createBefore(e.parent)),i.parent.is("$text")&&i.isAtEnd&&(i=Ce._createAfter(i.parent)),new Te(e,i)}getTrimmed(){let e=this.start.getLastMatchingPosition(ec);if(e.isAfter(this.end)||e.isEqual(this.end))return new Te(e,e);let i=this.end.getLastMatchingPosition(ec,{direction:"backward"});const s=e.nodeAfter,c=i.nodeBefore;return s&&s.is("$text")&&(e=new Ce(s,0)),c&&c.is("$text")&&(i=new Ce(c,c.data.length)),new Te(e,i)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const s=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),c=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return s&&c}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new Te(this.start,e.start)),this.containsPosition(e.end)&&i.push(new Te(e.end,this.end))):i.push(this.clone()),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,s=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(s=e.end),new Te(i,s)}return null}getWalker(e={}){return e.boundaries=this,new it(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,i=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(i=this.end.parent.previousSibling),e&&e.is("element")&&e===i?e:null}clone(){return new Te(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new it(e);for(const s of i)yield s.item}*getPositions(e={}){e.boundaries=this;const i=new it(e);yield i.position;for(const s of i)yield s.nextPosition}is(e){return"range"===e||"view:range"===e}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,i,s,c){return new this(new Ce(e,i),new Ce(s,c))}static _createFromPositionAndShift(e,i){const s=e,c=e.getShiftedBy(i);return i>0?new this(s,c):new this(c,s)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const i=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Ce._createBefore(e),i)}}function ec(l){return!(!l.item.is("attributeElement")&&!l.item.is("uiElement"))}function Yr(l){let e=0;for(const i of l)e++;return e}class gn{constructor(e=null,i,s){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(e,i,s)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const i of this._ranges)e&&!i.start.isBefore(e.start)||(e=i);return e?e.clone():null}getLastRange(){let e=null;for(const i of this._ranges)e&&!i.end.isAfter(e.end)||(e=i);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let s=!1;for(const c of e._ranges)if(i.isEqual(c)){s=!0;break}if(!s)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const i=Yr(this.getRanges());if(i!=Yr(e.getRanges()))return!1;if(0==i)return!0;for(let s of this.getRanges()){s=s.getTrimmed();let c=!1;for(let u of e.getRanges())if(u=u.getTrimmed(),s.start.isEqual(u.start)&&s.end.isEqual(u.end)){c=!0;break}if(!c)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(e,i,s){if(null===e)this._setRanges([]),this._setFakeOptions(i);else if(e instanceof gn||e instanceof tc)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof Te)this._setRanges([e],i&&i.backward),this._setFakeOptions(i);else if(e instanceof Ce)this._setRanges([new Te(e)]),this._setFakeOptions(i);else if(e instanceof Us){const c=!!s&&!!s.backward;let u;if(void 0===i)throw new A("view-selection-setto-required-second-parameter",this);u="in"==i?Te._createIn(e):"on"==i?Te._createOn(e):new Te(Ce._createAt(e,i)),this._setRanges([u],c),this._setFakeOptions(s)}else{if(!nn(e))throw new A("view-selection-setto-not-selectable",this);this._setRanges(e,i&&i.backward),this._setFakeOptions(i)}this.fire("change")}setFocus(e,i){if(null===this.anchor)throw new A("view-selection-setfocus-no-ranges",this);const s=Ce._createAt(e,i);if("same"==s.compareWith(this.focus))return;const c=this.anchor;this._ranges.pop(),"before"==s.compareWith(c)?this._addRange(new Te(s,c),!0):this._addRange(new Te(c,s)),this.fire("change")}is(e){return"selection"===e||"view:selection"===e}_setRanges(e,i=!1){e=Array.from(e),this._ranges=[];for(const s of e)this._addRange(s);this._lastRangeBackward=!!i}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,i=!1){if(!(e instanceof Te))throw new A("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!i}_pushRange(e){for(const i of this._ranges)if(e.isIntersecting(i))throw new A("view-selection-range-intersects",this,{addedRange:e,intersectingRange:i});this._ranges.push(new Te(e.start,e.end))}}Ae(gn,ne);class tc{constructor(e=null,i,s){this._selection=new gn,this._selection.delegate("change").to(this),this._selection.setTo(e,i,s)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}is(e){return"selection"===e||"documentSelection"==e||"view:selection"==e||"view:documentSelection"==e}_setTo(e,i,s){this._selection.setTo(e,i,s)}_setFocus(e,i){this._selection.setFocus(e,i)}}Ae(tc,ne);class Jr extends I{constructor(e,i,s){super(e,i),this.startRange=s,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const gm=Symbol("bubbling contexts"),Jv={fire(l,...e){try{const i=l instanceof I?l:new I(this,l),s=jl(this);if(!s.size)return;if(Ar(i,"capturing",this),pn(s,"$capture",i,...e))return i.return;const c=i.startRange||this.selection.getFirstRange(),u=c?c.getContainedElement():null,h=!!u&&Boolean(vi(s,u));let g=u||function(m){if(!m)return null;const w=m.start.parent,k=m.end.parent,v=w.getPath(),y=k.getPath();return v.length>y.length?w:k}(c);if(Ar(i,"atTarget",g),!h){if(pn(s,"$text",i,...e))return i.return;Ar(i,"bubbling",g)}for(;g;){if(g.is("rootElement")){if(pn(s,"$root",i,...e))return i.return}else if(g.is("element")&&pn(s,g.name,i,...e))return i.return;if(pn(s,g,i,...e))return i.return;g=g.parent,Ar(i,"bubbling",g)}return Ar(i,"bubbling",this),pn(s,"$document",i,...e),i.return}catch(i){A.rethrowUnexpectedError(i,this)}},_addEventListener(l,e,i){const s=Pt(i.context||"$document"),c=jl(this);for(const u of s){let h=c.get(u);h||(h=Object.create(ne),c.set(u,h)),this.listenTo(h,l,e,i)}},_removeEventListener(l,e){const i=jl(this);for(const s of i.values())this.stopListening(s,l,e)}},uE=Jv;function Ar(l,e,i){l instanceof Jr&&(l._eventPhase=e,l._currentTarget=i)}function pn(l,e,i,...s){const c="string"==typeof e?l.get(e):vi(l,e);return!!c&&(c.fire(i,...s),i.stop.called)}function vi(l,e){for(const[i,s]of l)if("function"==typeof i&&i(e))return s;return null}function jl(l){return l[gm]||(l[gm]=new Map),l[gm]}class Ci{constructor(e){this.selection=new tc,this.roots=new fo({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let i=!1;do{for(const s of this._postFixers)if(i=s(e),i)break}while(i)}}Ae(Ci,uE),Ae(Ci,je);class go extends Go{constructor(e,i,s,c){super(e,i,s,c),this.getFillerOffset=Xv,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new A("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}is(e,i=null){return i?i===this.name&&("attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e):"attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}isSimilar(e){return null!==this.id||null!==e.id?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e){const i=super._clone(e);return i._priority=this._priority,i._id=this._id,i}}function Xv(){if(zl(this))return null;let l=this.parent;for(;l&&l.is("attributeElement");){if(zl(l)>1)return null;l=l.parent}return!l||zl(l)>1?null:this.childCount}function zl(l){return Array.from(l.getChildren()).filter(e=>!e.is("uiElement")).length}go.DEFAULT_PRIORITY=10;class pm extends Go{constructor(e,i,s,c){super(e,i,s,c),this.getFillerOffset=eC}is(e,i=null){return i?i===this.name&&("emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e):"emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}_insertChild(e,i){if(i&&(i instanceof Us||Array.from(i).length>0))throw new A("view-emptyelement-cannot-add",[this,i])}}function eC(){return null}const Wi=navigator.userAgent.toLowerCase(),Hu={isMac:Vl(Wi),isWindows:function(l){return l.indexOf("windows")>-1}(Wi),isGecko:function(l){return!!l.match(/gecko\/\d+/)}(Wi),isSafari:function(l){return l.indexOf(" applewebkit/")>-1&&-1===l.indexOf("chrome")}(Wi),isiOS:function(l){return!!l.match(/iphone|ipad/i)||Vl(l)&&navigator.maxTouchPoints>0}(Wi),isAndroid:function(l){return l.indexOf("android")>-1}(Wi),isBlink:function(l){return l.indexOf("chrome/")>-1&&l.indexOf("edge/")<0}(Wi),features:{isRegExpUnicodePropertySupported:function(){let l=!1;try{l=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch(e){}return l}()}},yt=Hu;function Vl(l){return l.indexOf("macintosh")>-1}const tC={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21e7"},mm={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Xe=function(){const l={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)l[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)l[e-48]=e;for(let e=112;e<=123;e++)l["f"+(e-111)]=e;for(const e of"`-=[];',./\\")l[e]=e.charCodeAt(0);return l}(),bm=Object.fromEntries(Object.entries(Xe).map(([l,e])=>[e,l.charAt(0).toUpperCase()+l.slice(1)]));function ai(l){let e;if("string"==typeof l){if(e=Xe[l.toLowerCase()],!e)throw new A("keyboard-unknown-key",null,{key:l})}else e=l.keyCode+(l.altKey?Xe.alt:0)+(l.ctrlKey?Xe.ctrl:0)+(l.shiftKey?Xe.shift:0)+(l.metaKey?Xe.cmd:0);return e}function Ul(l){return"string"==typeof l&&(l=function(e){return e.split("+").map(i=>i.trim())}(l)),l.map(e=>"string"==typeof e?function(i){if(i.endsWith("!"))return ai(i.slice(0,-1));const s=ai(i);return yt.isMac&&s==Xe.ctrl?Xe.cmd:s}(e):e).reduce((e,i)=>i+e,0)}function Gu(l){let e=Ul(l);return Object.entries(yt.isMac?tC:mm).reduce((i,[s,c])=>(0!=(e&Xe[s])&&(e&=~Xe[s],i+=c),i),"")+(e?bm[e]:"")}function Gs(l,e){const i="ltr"===e;switch(l){case Xe.arrowleft:return i?"left":"right";case Xe.arrowright:return i?"right":"left";case Xe.arrowup:return"up";case Xe.arrowdown:return"down"}}class $u extends Go{constructor(e,i,s,c){super(e,i,s,c),this.getFillerOffset=eo}is(e,i=null){return i?i===this.name&&("uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e):"uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}_insertChild(e,i){if(i&&(i instanceof Us||Array.from(i).length>0))throw new A("view-uielement-cannot-add",this)}render(e){return this.toDomElement(e)}toDomElement(e){const i=e.createElement(this.name);for(const s of this.getAttributeKeys())i.setAttribute(s,this.getAttribute(s));return i}}function eo(){return null}class qi extends Go{constructor(e,i,s,c){super(e,i,s,c),this.getFillerOffset=rn}is(e,i=null){return i?i===this.name&&("rawElement"===e||"view:rawElement"===e||"element"===e||"view:element"===e):"rawElement"===e||"view:rawElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e}_insertChild(e,i){if(i&&(i instanceof Us||Array.from(i).length>0))throw new A("view-rawelement-cannot-add",[this,i])}}function rn(){return null}class Xr{constructor(e,i){this.document=e,this._children=[],i&&this._insertChild(0,i)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(e){return"documentFragment"===e||"view:documentFragment"===e}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,i){this._fireChange("children",this);let s=0;const c=(u=this.document,"string"==typeof(h=i)?[new zt(u,h)]:(nn(h)||(h=[h]),Array.from(h).map(g=>"string"==typeof g?new zt(u,g):g instanceof Cr?new zt(u,g.data):g)));var u,h;for(const u of c)null!==u.parent&&u._remove(),u.parent=this,this._children.splice(e,0,u),e++,s++;return s}_removeChildren(e,i=1){this._fireChange("children",this);for(let s=e;s<e+i;s++)this._children[s].parent=null;return this._children.splice(e,i)}_fireChange(e,i){this.fire("change:"+e,i)}}Ae(Xr,ne);class wm{constructor(e){this.document=e,this._cloneGroups=new Map,this._slotFactory=null}setSelection(e,i,s){this.document.selection._setTo(e,i,s)}setSelectionFocus(e,i){this.document.selection._setFocus(e,i)}createDocumentFragment(e){return new Xr(this.document,e)}createText(e){return new zt(this.document,e)}createAttributeElement(e,i,s={}){const c=new go(this.document,e,i);return"number"==typeof s.priority&&(c._priority=s.priority),s.id&&(c._id=s.id),s.renderUnsafeAttributes&&c._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),c}createContainerElement(e,i,s={},c={}){let u=null;Lo(s)?c=s:u=s;const h=new Fl(this.document,e,i,u);return c.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...c.renderUnsafeAttributes),h}createEditableElement(e,i,s={}){const c=new Ll(this.document,e,i);return c._document=this.document,s.renderUnsafeAttributes&&c._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),c}createEmptyElement(e,i,s={}){const c=new pm(this.document,e,i);return s.renderUnsafeAttributes&&c._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),c}createUIElement(e,i,s){const c=new $u(this.document,e,i);return s&&(c.render=s),c}createRawElement(e,i,s,c={}){const u=new qi(this.document,e,i);return u.render=s||(()=>{}),c.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...c.renderUnsafeAttributes),u}setAttribute(e,i,s){s._setAttribute(e,i)}removeAttribute(e,i){i._removeAttribute(e)}addClass(e,i){i._addClass(e)}removeClass(e,i){i._removeClass(e)}setStyle(e,i,s){Lo(e)&&void 0===s&&(s=i),s._setStyle(e,i)}removeStyle(e,i){i._removeStyle(e)}setCustomProperty(e,i,s){s._setCustomProperty(e,i)}removeCustomProperty(e,i){return i._removeCustomProperty(e)}breakAttributes(e){return e instanceof Ce?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const i=e.parent;if(!i.is("containerElement"))throw new A("view-writer-break-non-container-element",this.document);if(!i.parent)throw new A("view-writer-break-root",this.document);if(e.isAtStart)return Ce._createBefore(i);if(!e.isAtEnd){const s=i._clone(!1);this.insert(Ce._createAfter(i),s);const c=new Te(e,Ce._createAt(i,"end")),u=new Ce(s,0);this.move(c,u)}return Ce._createAfter(i)}mergeAttributes(e){const i=e.offset,s=e.parent;if(s.is("$text"))return e;if(s.is("attributeElement")&&0===s.childCount){const h=s.parent,g=s.index;return s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new Ce(h,g))}const c=s.getChild(i-1),u=s.getChild(i);if(!c||!u)return e;if(c.is("$text")&&u.is("$text"))return nc(c,u);if(c.is("attributeElement")&&u.is("attributeElement")&&c.isSimilar(u)){const h=c.childCount;return c._appendChild(u.getChildren()),u._remove(),this._removeFromClonedElementsGroup(u),this.mergeAttributes(new Ce(c,h))}return e}mergeContainers(e){const i=e.nodeBefore,s=e.nodeAfter;if(!(i&&s&&i.is("containerElement")&&s.is("containerElement")))throw new A("view-writer-merge-containers-invalid-position",this.document);const c=i.getChild(i.childCount-1),u=Ce._createAt(c instanceof zt?c:i,"end");return this.move(Te._createIn(s),Ce._createAt(i,"end")),this.remove(Te._createOn(s)),u}insert(e,i){oc(i=nn(i)?[...i]:[i],this.document);const s=i.reduce((h,g)=>{const m=h[h.length-1],w=!g.is("uiElement");return m&&m.breakAttributes==w?m.nodes.push(g):h.push({breakAttributes:w,nodes:[g]}),h},[]);let c=null,u=e;for(const{nodes:h,breakAttributes:g}of s){const m=this._insertNodes(u,h,g);c||(c=m.start),u=m.end}return c?new Te(c,u):new Te(e)}remove(e){const i=e instanceof Te?e:Te._createOn(e);if($s(i,this.document),i.isCollapsed)return new Xr(this.document);const{start:s,end:c}=this._breakAttributesRange(i,!0),g=s.parent._removeChildren(s.offset,c.offset-s.offset);for(const w of g)this._removeFromClonedElementsGroup(w);const m=this.mergeAttributes(s);return i.start=m,i.end=m.clone(),new Xr(this.document,g)}clear(e,i){$s(e,this.document);const s=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const c of s){const u=c.item;let h;if(u.is("element")&&i.isSimilar(u))h=Te._createOn(u);else if(!c.nextPosition.isAfter(e.start)&&u.is("$textProxy")){const g=u.getAncestors().find(m=>m.is("element")&&i.isSimilar(m));g&&(h=Te._createIn(g))}h&&(h.end.isAfter(e.end)&&(h.end=e.end),h.start.isBefore(e.start)&&(h.start=e.start),this.remove(h))}}move(e,i){let s;if(i.isAfter(e.end)){const c=(i=this._breakAttributes(i,!0)).parent,u=c.childCount;e=this._breakAttributesRange(e,!0),s=this.remove(e),i.offset+=c.childCount-u}else s=this.remove(e);return this.insert(i,s)}wrap(e,i){if(!(i instanceof go))throw new A("view-writer-wrap-invalid-attribute",this.document);if($s(e,this.document),e.isCollapsed){let c=e.start;c.parent.is("element")&&!Array.from(c.parent.getChildren()).some(h=>!h.is("uiElement"))&&(c=c.getLastMatchingPosition(h=>h.item.is("uiElement"))),c=this._wrapPosition(c,i);const u=this.document.selection;return u.isCollapsed&&u.getFirstPosition().isEqual(e.start)&&this.setSelection(c),new Te(c)}return this._wrapRange(e,i)}unwrap(e,i){if(!(i instanceof go))throw new A("view-writer-unwrap-invalid-attribute",this.document);if($s(e,this.document),e.isCollapsed)return e;const{start:s,end:c}=this._breakAttributesRange(e,!0),h=this._unwrapChildren(s.parent,s.offset,c.offset,i),g=this.mergeAttributes(h.start);g.isEqual(h.start)||h.end.offset--;const m=this.mergeAttributes(h.end);return new Te(g,m)}rename(e,i){const s=new Fl(this.document,e,i.getAttributes());return this.insert(Ce._createAfter(i),s),this.move(Te._createIn(i),Ce._createAt(s,0)),this.remove(Te._createOn(i)),s}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,i){return Ce._createAt(e,i)}createPositionAfter(e){return Ce._createAfter(e)}createPositionBefore(e){return Ce._createBefore(e)}createRange(e,i){return new Te(e,i)}createRangeOn(e){return Te._createOn(e)}createRangeIn(e){return Te._createIn(e)}createSelection(e,i,s){return new gn(e,i,s)}createSlot(e){if(!this._slotFactory)throw new A("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,i,s){let c,u;if(c=s?Wu(e):e.parent.is("$text")?e.parent.parent:e.parent,!c)throw new A("view-writer-invalid-position-container",this.document);u=s?this._breakAttributes(e,!0):e.parent.is("$text")?qu(e):e;const h=c._insertChild(u.offset,i);for(const k of i)this._addToClonedElementsGroup(k);const g=u.getShiftedBy(h),m=this.mergeAttributes(u);m.isEqual(u)||g.offset--;const w=this.mergeAttributes(g);return new Te(m,w)}_wrapChildren(e,i,s,c){let u=i;const h=[];for(;u<s;){const m=e.getChild(u),w=m.is("$text"),k=m.is("attributeElement");if(k&&this._wrapAttributeElement(c,m))h.push(new Ce(e,u));else if(w||!k||oC(c,m)){const v=c._clone();m._remove(),v._appendChild(m),e._insertChild(u,v),this._addToClonedElementsGroup(v),h.push(new Ce(e,u))}else this._wrapChildren(m,0,m.childCount,c);u++}let g=0;for(const m of h)m.offset-=g,m.offset!=i&&(this.mergeAttributes(m).isEqual(m)||(g++,s--));return Te._createFromParentsAndOffsets(e,i,e,s)}_unwrapChildren(e,i,s,c){let u=i;const h=[];for(;u<s;){const m=e.getChild(u);if(m.is("attributeElement"))if(m.isSimilar(c)){const w=m.getChildren(),k=m.childCount;m._remove(),e._insertChild(u,w),this._removeFromClonedElementsGroup(m),h.push(new Ce(e,u),new Ce(e,u+k)),u+=k,s+=k-1}else this._unwrapAttributeElement(c,m)?(h.push(new Ce(e,u),new Ce(e,u+1)),u++):(this._unwrapChildren(m,0,m.childCount,c),u++);else u++}let g=0;for(const m of h)m.offset-=g,m.offset!=i&&m.offset!=s&&(this.mergeAttributes(m).isEqual(m)||(g++,s--));return Te._createFromParentsAndOffsets(e,i,e,s)}_wrapRange(e,i){const{start:s,end:c}=this._breakAttributesRange(e,!0),h=this._wrapChildren(s.parent,s.offset,c.offset,i),g=this.mergeAttributes(h.start);g.isEqual(h.start)||h.end.offset--;const m=this.mergeAttributes(h.end);return new Te(g,m)}_wrapPosition(e,i){if(i.isSimilar(e.parent))return km(e.clone());e.parent.is("$text")&&(e=qu(e));const s=this.createAttributeElement();s._priority=Number.POSITIVE_INFINITY,s.isSimilar=()=>!1,e.parent._insertChild(e.offset,s);const c=new Te(e,e.getShiftedBy(1));this.wrap(c,i);const u=new Ce(s.parent,s.index);s._remove();const h=u.nodeBefore,g=u.nodeAfter;return h instanceof zt&&g instanceof zt?nc(h,g):km(u)}_wrapAttributeElement(e,i){if(!_m(e,i)||e.name!==i.name||e.priority!==i.priority)return!1;for(const s of e.getAttributeKeys())if("class"!==s&&"style"!==s&&i.hasAttribute(s)&&i.getAttribute(s)!==e.getAttribute(s))return!1;for(const s of e.getStyleNames())if(i.hasStyle(s)&&i.getStyle(s)!==e.getStyle(s))return!1;for(const s of e.getAttributeKeys())"class"!==s&&"style"!==s&&(i.hasAttribute(s)||this.setAttribute(s,e.getAttribute(s),i));for(const s of e.getStyleNames())i.hasStyle(s)||this.setStyle(s,e.getStyle(s),i);for(const s of e.getClassNames())i.hasClass(s)||this.addClass(s,i);return!0}_unwrapAttributeElement(e,i){if(!_m(e,i)||e.name!==i.name||e.priority!==i.priority)return!1;for(const s of e.getAttributeKeys())if("class"!==s&&"style"!==s&&(!i.hasAttribute(s)||i.getAttribute(s)!==e.getAttribute(s)))return!1;if(!i.hasClass(...e.getClassNames()))return!1;for(const s of e.getStyleNames())if(!i.hasStyle(s)||i.getStyle(s)!==e.getStyle(s))return!1;for(const s of e.getAttributeKeys())"class"!==s&&"style"!==s&&this.removeAttribute(s,i);return this.removeClass(Array.from(e.getClassNames()),i),this.removeStyle(Array.from(e.getStyleNames()),i),!0}_breakAttributesRange(e,i=!1){const s=e.start,c=e.end;if($s(e,this.document),e.isCollapsed){const m=this._breakAttributes(e.start,i);return new Te(m,m)}const u=this._breakAttributes(c,i),h=u.parent.childCount,g=this._breakAttributes(s,i);return u.offset+=u.parent.childCount-h,new Te(g,u)}_breakAttributes(e,i=!1){const s=e.offset,c=e.parent;if(e.parent.is("emptyElement"))throw new A("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new A("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new A("view-writer-cannot-break-raw-element",this.document);if(!i&&c.is("$text")&&ic(c.parent)||ic(c))return e.clone();if(c.is("$text"))return this._breakAttributes(qu(e),i);if(s==c.childCount){const u=new Ce(c.parent,c.index+1);return this._breakAttributes(u,i)}if(0===s){const u=new Ce(c.parent,c.index);return this._breakAttributes(u,i)}{const u=c.index+1,h=c._clone();c.parent._insertChild(u,h),this._addToClonedElementsGroup(h);const m=c._removeChildren(s,c.childCount-s);h._appendChild(m);const w=new Ce(c.parent,u);return this._breakAttributes(w,i)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const c of e.getChildren())this._addToClonedElementsGroup(c);const i=e.id;if(!i)return;let s=this._cloneGroups.get(i);s||(s=new Set,this._cloneGroups.set(i,s)),s.add(e),e._clonesGroup=s}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const c of e.getChildren())this._removeFromClonedElementsGroup(c);const i=e.id;if(!i)return;const s=this._cloneGroups.get(i);s&&s.delete(e)}}function Wu(l){let e=l.parent;for(;!ic(e);){if(!e)return;e=e.parent}return e}function oC(l,e){return l.priority<e.priority||!(l.priority>e.priority)&&l.getIdentity()<e.getIdentity()}function km(l){const e=l.nodeBefore;if(e&&e.is("$text"))return new Ce(e,e.data.length);const i=l.nodeAfter;return i&&i.is("$text")?new Ce(i,0):l}function qu(l){if(l.offset==l.parent.data.length)return new Ce(l.parent.parent,l.parent.index+1);if(0===l.offset)return new Ce(l.parent.parent,l.parent.index);const e=l.parent.data.slice(l.offset);return l.parent._data=l.parent.data.slice(0,l.offset),l.parent.parent._insertChild(l.parent.index+1,new zt(l.root.document,e)),new Ce(l.parent.parent,l.parent.index+1)}function nc(l,e){const i=l.data.length;return l._data+=e.data,e._remove(),new Ce(l,i)}function oc(l,e){for(const i of l){if(!Hl.some(s=>i instanceof s))throw new A("view-writer-insert-invalid-node-type",e);i.is("$text")||oc(i.getChildren(),e)}}const Hl=[zt,go,Fl,pm,qi,$u];function ic(l){return l&&(l.is("containerElement")||l.is("documentFragment"))}function $s(l,e){const i=Wu(l.start),s=Wu(l.end);if(!i||!s||i!==s)throw new A("view-writer-invalid-range-container",e)}function _m(l,e){return null===l.id&&null===e.id}function qt(l){return"[object Text]"==Object.prototype.toString.call(l)}const Ws=l=>l.createTextNode("\xa0"),vm=l=>{const e=l.createElement("span");return e.dataset.ckeFiller=!0,e.innerText="\xa0",e},Cm=l=>{const e=l.createElement("br");return e.dataset.ckeFiller=!0,e},Dr="\u2060".repeat(7);function to(l){return qt(l)&&l.data.substr(0,7)===Dr}function Gl(l){return 7==l.data.length&&to(l)}function Qu(l){return to(l)?l.data.slice(7):l.data}function hE(l,e){if(e.keyCode==Xe.arrowleft){const i=e.domTarget.ownerDocument.defaultView.getSelection();if(1==i.rangeCount&&i.getRangeAt(0).collapsed){const s=i.getRangeAt(0).startContainer,c=i.getRangeAt(0).startOffset;to(s)&&c<=7&&i.collapse(s,0)}}}function iC(l,e,i,s=!1){i=i||function(g,m){return g===m};const c=Array.isArray(l)?l:Array.prototype.slice.call(l),u=Array.isArray(e)?e:Array.prototype.slice.call(e),h=function(g,m,w){const k=rc(g,m,w);if(-1===k)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const F=rc(Zu(g,k),Zu(m,k),w);return{firstIndex:k,lastIndexOld:g.length-F,lastIndexNew:m.length-F}}(c,u,i);return s?function(g,m){const{firstIndex:w,lastIndexOld:k,lastIndexNew:v}=g;if(-1===w)return Array(m).fill("equal");let y=[];return w>0&&(y=y.concat(Array(w).fill("equal"))),v-w>0&&(y=y.concat(Array(v-w).fill("insert"))),k-w>0&&(y=y.concat(Array(k-w).fill("delete"))),v<m&&(y=y.concat(Array(m-v).fill("equal"))),y}(h,u.length):function(g,m){const w=[],{firstIndex:k,lastIndexOld:v,lastIndexNew:y}=m;return y-k>0&&w.push({index:k,type:"insert",values:g.slice(k,y)}),v-k>0&&w.push({index:k+(y-k),type:"delete",howMany:v-k}),w}(u,h)}function rc(l,e,i){for(let s=0;s<Math.max(l.length,e.length);s++)if(void 0===l[s]||void 0===e[s]||!i(l[s],e[s]))return s;return-1}function Zu(l,e){return l.slice(e).reverse()}function yi(l,e,i){i=i||function($,K){return $===K};const s=l.length,c=e.length;if(s>200||c>200||s+c>300)return yi.fastDiff(l,e,i,!0);let u,h;if(c<s){const $=l;l=e,e=$,u="delete",h="insert"}else u="insert",h="delete";const g=l.length,m=e.length,w=m-g,k={},v={};function y($){const K=(void 0!==v[$-1]?v[$-1]:-1)+1,Y=void 0!==v[$+1]?v[$+1]:-1,ee=K>Y?-1:1;k[$+ee]&&(k[$]=k[$+ee].slice(0)),k[$]||(k[$]=[]),k[$].push(K>Y?u:h);let ce=Math.max(K,Y),Ie=ce-$;for(;Ie<g&&ce<m&&i(l[Ie],e[ce]);)Ie++,ce++,k[$].push("equal");return ce}let F,G=0;do{for(F=-G;F<w;F++)v[F]=y(F);for(F=w+G;F>w;F--)v[F]=y(F);v[w]=y(w),G++}while(v[w]!==m);return k[w].slice(1)}function sc(l,e,i){l.insertBefore(i,l.childNodes[e]||null)}function Ku(l){const e=l.parentNode;e&&e.removeChild(l)}function es(l){return l&&l.nodeType===Node.COMMENT_NODE}function ci(l){if(l){if(l.defaultView)return l instanceof l.defaultView.Document;if(l.ownerDocument&&l.ownerDocument.defaultView)return l instanceof l.ownerDocument.defaultView.Node}return!1}yi.fastDiff=iC;var rC=P(6062),Fe=P.n(rC),$l=P(9315);Fe()($l.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class sC{constructor(e,i){this.domDocuments=new Set,this.domConverter=e,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=i,this.set("isFocused",!1),this.set("isSelecting",!1),yt.isBlink&&!yt.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(e,i){if("text"===e)this.domConverter.mapViewToDom(i.parent)&&this.markedTexts.add(i);else{if(!this.domConverter.mapViewToDom(i))return;if("attributes"===e)this.markedAttributes.add(i);else{if("children"!==e)throw new A("view-renderer-unknown-type",this);this.markedChildren.add(i)}}}render(){let e;const i=!(yt.isBlink&&!yt.isAndroid&&this.isSelecting);for(const s of this.markedChildren)this._updateChildrenMappings(s);i?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Ce._createBefore(e.parent)));for(const s of this.markedAttributes)this._updateAttrs(s);for(const s of this.markedChildren)this._updateChildren(s,{inlineFillerPosition:e});for(const s of this.markedTexts)!this.markedChildren.has(s.parent)&&this.domConverter.mapViewToDom(s.parent)&&this._updateText(s,{inlineFillerPosition:e});if(i)if(e){const s=this.domConverter.viewPositionToDom(e),c=s.parent.ownerDocument;this._inlineFiller=to(s.parent)?s.parent:Yu(c,s.parent,s.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){if(!this.domConverter.mapViewToDom(e))return;const i=Array.from(this.domConverter.mapViewToDom(e).childNodes),s=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),c=this._diffNodeLists(i,s),u=this._findReplaceActions(c,i,s);if(-1!==u.indexOf("replace")){const h={equal:0,insert:0,delete:0};for(const g of u)if("replace"===g){const m=h.equal+h.insert,w=h.equal+h.delete,k=e.getChild(m);!k||k.is("uiElement")||k.is("rawElement")||this._updateElementMappings(k,i[w]),Ku(s[m]),h.equal++}else h[g]++}}_updateElementMappings(e,i){this.domConverter.unbindDomElement(i),this.domConverter.bindElements(i,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Ce._createBefore(this.selection.getFirstPosition().parent):e}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=this.domConverter.viewPositionToDom(e);return!!(i&&qt(i.parent)&&to(i.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!to(e))throw new A("view-renderer-filler-was-lost",this);Gl(e)?e.remove():e.data=e.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=e.parent,s=e.offset;return!!(this.domConverter.mapViewToDom(i.root)&&i.is("element")&&function(h){if("false"==h.getAttribute("contenteditable"))return!1;const g=h.findAncestor(m=>m.hasAttribute("contenteditable"));return!g||"true"==g.getAttribute("contenteditable")}(i)&&s!==i.getFillerOffset())&&!(e.nodeBefore instanceof zt||e.nodeAfter instanceof zt)}_updateText(e,i){const s=this.domConverter.findCorrespondingDomText(e),c=this.domConverter.viewToDom(e),u=s.data;let h=c.data;const g=i.inlineFillerPosition;if(g&&g.parent==e.parent&&g.offset==e.index&&(h=Dr+h),u!=h){const m=iC(u,h);for(const w of m)"insert"===w.type?s.insertData(w.index,w.values.join("")):s.deleteData(w.index,w.howMany)}}_updateAttrs(e){const i=this.domConverter.mapViewToDom(e);if(!i)return;const s=Array.from(i.attributes).map(u=>u.name),c=e.getAttributeKeys();for(const u of c)this.domConverter.setDomElementAttribute(i,u,e.getAttribute(u),e);for(const u of s)e.hasAttribute(u)||this.domConverter.removeDomElementAttribute(i,u)}_updateChildren(e,i){const s=this.domConverter.mapViewToDom(e);if(!s)return;const c=i.inlineFillerPosition,u=this.domConverter.mapViewToDom(e).childNodes,h=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));c&&c.parent===e&&Yu(s.ownerDocument,h,c.offset);const g=this._diffNodeLists(u,h);let m=0;const w=new Set;for(const k of g)"delete"===k?(w.add(u[m]),Ku(u[m])):"equal"===k&&m++;m=0;for(const k of g)"insert"===k?(sc(s,m,h[m]),m++):"equal"===k&&(this._markDescendantTextToSync(this.domConverter.domToView(h[m])),m++);for(const k of w)k.parentNode||this.domConverter.unbindDomElement(k)}_diffNodeLists(e,i){return yi(e=function(s,c){const u=Array.from(s);return 0==u.length||!c||u[u.length-1]==c&&u.pop(),u}(e,this._fakeSelectionContainer),i,aC.bind(null,this.domConverter))}_findReplaceActions(e,i,s){if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;let c=[],u=[],h=[];const g={equal:0,insert:0,delete:0};for(const m of e)"insert"===m?h.push(s[g.equal+g.insert]):"delete"===m?u.push(i[g.equal+g.delete]):(c=c.concat(yi(u,h,Ju).map(w=>"equal"===w?"replace":w)),c.push("equal"),u=[],h=[]),g[m]++;return c.concat(yi(u,h,Ju).map(m=>"equal"===m?"replace":m))}_markDescendantTextToSync(e){if(e)if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const i of e.getChildren())this._markDescendantTextToSync(i)}_updateSelection(){if(yt.isBlink&&!yt.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e)))}_updateFakeSelection(e){const i=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(h){const g=h.createElement("div");return g.className="ck-fake-selection-container",Object.assign(g.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),g.textContent="\xa0",g}(i));const s=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(s,this.selection),!this._fakeSelectionNeedsUpdate(e))return;s.parentElement&&s.parentElement==e||e.appendChild(s),s.textContent=this.selection.fakeSelectionLabel||"\xa0";const c=i.getSelection(),u=i.createRange();c.removeAllRanges(),u.selectNodeContents(s),c.addRange(u)}_updateDomSelection(e){const i=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(i))return;const s=this.domConverter.viewPositionToDom(this.selection.anchor),c=this.domConverter.viewPositionToDom(this.selection.focus);i.collapse(s.parent,s.offset),i.extend(c.parent,c.offset),yt.isGecko&&function(u,h){const g=u.parent;if(g.nodeType!=Node.ELEMENT_NODE||u.offset!=g.childNodes.length-1)return;const m=g.childNodes[u.offset];m&&"BR"==m.tagName&&h.addRange(h.getRangeAt(0))}(c,i)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const i=e&&this.domConverter.domSelectionToView(e);return!(i&&this.selection.isEqual(i)||!this.selection.isCollapsed&&this.selection.isSimilar(i))}_fakeSelectionNeedsUpdate(e){const i=this._fakeSelectionContainer,s=e.ownerDocument.getSelection();return!i||i.parentElement!==e||s.anchorNode!==i&&!i.contains(s.anchorNode)||i.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments)if(e.getSelection().rangeCount){const i=e.activeElement,s=this.domConverter.mapDomToView(i);i&&s&&e.getSelection().removeAllRanges()}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function Yu(l,e,i){const s=e instanceof Array?e:e.childNodes,c=s[i];if(qt(c))return c.data=Dr+c.data,c;{const u=l.createTextNode(Dr);return Array.isArray(e)?s.splice(i,0,u):sc(e,i,u),u}}function Ju(l,e){return ci(l)&&ci(e)&&!qt(l)&&!qt(e)&&!es(l)&&!es(e)&&l.tagName.toLowerCase()===e.tagName.toLowerCase()}function aC(l,e,i){return e===i||(qt(e)&&qt(i)?e.data===i.data:!(!l.isBlockFiller(e)||!l.isBlockFiller(i)))}Ae(sC,je);const Vt={window,document};function ts(l){let e=0;for(;l.previousSibling;)l=l.previousSibling,e++;return e}function ql(l){const e=[];let i=l;for(;i&&i.nodeType!=Node.DOCUMENT_NODE;)e.unshift(i),i=i.parentNode;return e}const Xu=Cm(Vt.document),Ql=Ws(Vt.document),Zl=vm(Vt.document),Kl="data-ck-unsafe-attribute-",eh="data-ck-unsafe-element";class ac{constructor(e,i={}){this.document=e,this.renderingMode=i.renderingMode||"editing",this.blockFillerMode=i.blockFillerMode||("editing"===this.renderingMode?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument="editing"===this.renderingMode?Vt.document:Vt.document.implementation.createHTMLDocument(""),this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new $i,this._encounteredRawContentDomNodes=new WeakSet}bindFakeSelection(e,i){this._fakeSelectionMapping.set(e,new gn(i))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,i){this._domToViewMapping.set(e,i),this._viewToDomMapping.set(i,e)}unbindDomElement(e){const i=this._domToViewMapping.get(e);if(i){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(i);for(const s of e.childNodes)this.unbindDomElement(s)}}bindDocumentFragments(e,i){this._domToViewMapping.set(e,i),this._viewToDomMapping.set(i,e)}shouldRenderAttribute(e,i,s){return"data"===this.renderingMode||!(e=e.toLowerCase()).startsWith("on")&&("srcdoc"!==e||!i.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===s&&("src"===e||"srcset"===e)||"source"===s&&"srcset"===e||!i.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,i){if("data"===this.renderingMode)return void(e.innerHTML=i);const s=(new DOMParser).parseFromString(i,"text/html"),c=s.createDocumentFragment(),u=s.body.childNodes;for(;u.length>0;)c.appendChild(u[0]);const h=s.createTreeWalker(c,NodeFilter.SHOW_ELEMENT),g=[];let m;for(;m=h.nextNode();)g.push(m);for(const w of g){for(const v of w.getAttributeNames())this.setDomElementAttribute(w,v,w.getAttribute(v));const k=w.tagName.toLowerCase();this._shouldRenameElement(k)&&(ym(k),w.replaceWith(this._createReplacementDomElement(k,w)))}for(;e.firstChild;)e.firstChild.remove();e.append(c)}viewToDom(e,i={}){if(e.is("$text")){const s=this._processDataFromViewText(e);return this._domDocument.createTextNode(s)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let s;if(e.is("documentFragment"))s=this._domDocument.createDocumentFragment(),i.bind&&this.bindDocumentFragments(s,e);else{if(e.is("uiElement"))return s="$comment"===e.name?this._domDocument.createComment(e.getCustomProperty("$rawContent")):e.render(this._domDocument,this),i.bind&&this.bindElements(s,e),s;this._shouldRenameElement(e.name)?(ym(e.name),s=this._createReplacementDomElement(e.name)):s=e.hasAttribute("xmlns")?this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(s,this),i.bind&&this.bindElements(s,e);for(const c of e.getAttributeKeys())this.setDomElementAttribute(s,c,e.getAttribute(c),e)}if(!1!==i.withChildren)for(const c of this.viewChildrenToDom(e,i))s.appendChild(c);return s}}setDomElementAttribute(e,i,s,c=null){const u=this.shouldRenderAttribute(i,s,e.tagName.toLowerCase())||c&&c.shouldRenderUnsafeAttribute(i);u||Q("domconverter-unsafe-attribute-detected",{domElement:e,key:i,value:s}),e.hasAttribute(i)&&!u?e.removeAttribute(i):e.hasAttribute(Kl+i)&&u&&e.removeAttribute(Kl+i),e.setAttribute(u?i:Kl+i,s)}removeDomElementAttribute(e,i){i!=eh&&(e.removeAttribute(i),e.removeAttribute(Kl+i))}*viewChildrenToDom(e,i={}){const s=e.getFillerOffset&&e.getFillerOffset();let c=0;for(const u of e.getChildren()){s===c&&(yield this._getBlockFiller());const h=u.is("element")&&u.getCustomProperty("dataPipeline:transparentRendering");h&&"data"==this.renderingMode?yield*this.viewChildrenToDom(u,i):(h&&Q("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:u}),yield this.viewToDom(u,i)),c++}s===c&&(yield this._getBlockFiller())}viewRangeToDom(e){const i=this.viewPositionToDom(e.start),s=this.viewPositionToDom(e.end),c=this._domDocument.createRange();return c.setStart(i.parent,i.offset),c.setEnd(s.parent,s.offset),c}viewPositionToDom(e){const i=e.parent;if(i.is("$text")){const s=this.findCorrespondingDomText(i);if(!s)return null;let c=e.offset;return to(s)&&(c+=7),{parent:s,offset:c}}{let s,c,u;if(0===e.offset){if(s=this.mapViewToDom(i),!s)return null;u=s.childNodes[0]}else{const h=e.nodeBefore;if(c=h.is("$text")?this.findCorrespondingDomText(h):this.mapViewToDom(e.nodeBefore),!c)return null;s=c.parentNode,u=c.nextSibling}return qt(u)&&to(u)?{parent:u,offset:7}:{parent:s,offset:c?ts(c)+1:0}}}domToView(e,i={}){if(this.isBlockFiller(e))return null;const s=this.getHostViewElement(e);if(s)return s;if(es(e)&&i.skipComments)return null;if(qt(e)){if(Gl(e))return null;{const c=this._processDataFromDomText(e);return""===c?null:new zt(this.document,c)}}{if(this.mapDomToView(e))return this.mapDomToView(e);let c;if(this.isDocumentFragment(e))c=new Xr(this.document),i.bind&&this.bindDocumentFragments(e,c);else{c=this._createViewElement(e,i),i.bind&&this.bindElements(e,c);const u=e.attributes;if(u)for(let h=u.length,g=0;g<h;g++)c._setAttribute(u[g].name,u[g].value);if(this._isViewElementWithRawContent(c,i)||es(e)){const h=es(e)?e.data:e.innerHTML;return c._setCustomProperty("$rawContent",h),this._encounteredRawContentDomNodes.add(e),c}}if(!1!==i.withChildren)for(const u of this.domChildrenToView(e,i))c._appendChild(u);return c}}*domChildrenToView(e,i={}){for(let s=0;s<e.childNodes.length;s++){const u=this.domToView(e.childNodes[s],i);null!==u&&(yield u)}}domSelectionToView(e){if(1===e.rangeCount){let c=e.getRangeAt(0).startContainer;qt(c)&&(c=c.parentNode);const u=this.fakeSelectionToView(c);if(u)return u}const i=this.isDomSelectionBackward(e),s=[];for(let c=0;c<e.rangeCount;c++){const u=e.getRangeAt(c),h=this.domRangeToView(u);h&&s.push(h)}return new gn(s,{backward:i})}domRangeToView(e){const i=this.domPositionToView(e.startContainer,e.startOffset),s=this.domPositionToView(e.endContainer,e.endOffset);return i&&s?new Te(i,s):null}domPositionToView(e,i=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,ts(e));const s=this.mapDomToView(e);if(s&&(s.is("uiElement")||s.is("rawElement")))return Ce._createBefore(s);if(qt(e)){if(Gl(e))return this.domPositionToView(e.parentNode,ts(e));const c=this.findCorrespondingViewText(e);let u=i;return c?(to(e)&&(u-=7,u=u<0?0:u),new Ce(c,u)):null}if(0===i){const c=this.mapDomToView(e);if(c)return new Ce(c,0)}else{const c=e.childNodes[i-1],u=qt(c)?this.findCorrespondingViewText(c):this.mapDomToView(c);if(u&&u.parent)return new Ce(u.parent,u.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Gl(e))return null;const i=this.getHostViewElement(e);if(i)return i;const s=e.previousSibling;if(s){if(!this.isElement(s))return null;const c=this.mapDomToView(s);if(c)return c.nextSibling instanceof zt?c.nextSibling:null}else{const c=this.mapDomToView(e.parentNode);if(c){const u=c.getChild(0);return u instanceof zt?u:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const i=e.previousSibling;return i&&this.mapViewToDom(i)?this.mapViewToDom(i).nextSibling:!i&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const i=this.mapViewToDom(e);if(i&&i.ownerDocument.activeElement!==i){const{scrollX:s,scrollY:c}=Vt.window,u=[];th(i,h=>{const{scrollLeft:g,scrollTop:m}=h;u.push([g,m])}),i.focus(),th(i,h=>{const[g,m]=u.shift();h.scrollLeft=g,h.scrollTop=m}),Vt.window.scrollTo(s,c)}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return"br"==this.blockFillerMode?e.isEqualNode(Xu):!("BR"!==e.tagName||!nh(e,this.blockElements)||1!==e.parentNode.childNodes.length)||e.isEqualNode(Zl)||function(i,s){return i.isEqualNode(Ql)&&nh(i,s)&&1===i.parentNode.childNodes.length}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const i=this._domDocument.createRange();i.setStart(e.anchorNode,e.anchorOffset),i.setEnd(e.focusNode,e.focusOffset);const s=i.collapsed;return i.detach(),s}getHostViewElement(e){const i=ql(e);for(i.pop();i.length;){const s=i.pop(),c=this._domToViewMapping.get(s);if(c&&(c.is("uiElement")||c.is("rawElement")))return c}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Ws(this._domDocument);case"markedNbsp":return vm(this._domDocument);case"br":return Cm(this._domDocument)}}_isDomSelectionPositionCorrect(e,i){if(qt(e)&&to(e)&&i<7||this.isElement(e)&&to(e.childNodes[i]))return!1;const s=this.mapDomToView(e);return!s||!s.is("uiElement")&&!s.is("rawElement")}_processDataFromViewText(e){let i=e.data;if(e.getAncestors().some(s=>this.preElements.includes(s.name)))return i;if(" "==i.charAt(0)){const s=this._getTouchingInlineViewNode(e,!1);!(s&&s.is("$textProxy")&&this._nodeEndsWithSpace(s))&&s||(i="\xa0"+i.substr(1))}if(" "==i.charAt(i.length-1)){const s=this._getTouchingInlineViewNode(e,!0),c=s&&s.is("$textProxy")&&" "==s.data.charAt(0);" "!=i.charAt(i.length-2)&&s&&!c||(i=i.substr(0,i.length-1)+"\xa0")}return i.replace(/ {2}/g," \xa0")}_nodeEndsWithSpace(e){if(e.getAncestors().some(s=>this.preElements.includes(s.name)))return!1;const i=this._processDataFromViewText(e);return" "==i.charAt(i.length-1)}_processDataFromDomText(e){let i=e.data;if(k=this.preElements,ql(e).some(v=>v.tagName&&k.includes(v.tagName.toLowerCase())))return Qu(e);var k;i=i.replace(/[ \n\t\r]{1,}/g," ");const s=this._getTouchingInlineDomNode(e,!1),c=this._getTouchingInlineDomNode(e,!0),u=this._checkShouldLeftTrimDomText(e,s),h=this._checkShouldRightTrimDomText(e,c);u&&(i=i.replace(/^ /,"")),h&&(i=i.replace(/ $/,"")),i=Qu(new Text(i)),i=i.replace(/ \u00A0/g,"  ");const g=c&&this.isElement(c)&&"BR"!=c.tagName,m=c&&qt(c)&&" "==c.data.charAt(0);return(/( |\u00A0)\u00A0$/.test(i)||!c||g||m)&&(i=i.replace(/\u00A0$/," ")),(u||s&&this.isElement(s)&&"BR"!=s.tagName)&&(i=i.replace(/^\u00A0/," ")),i}_checkShouldLeftTrimDomText(e,i){return!i||(this.isElement(i)?"BR"===i.tagName:!this._encounteredRawContentDomNodes.has(e.previousSibling)&&/[^\S\u00A0]/.test(i.data.charAt(i.data.length-1)))}_checkShouldRightTrimDomText(e,i){return!i&&!to(e)}_getTouchingInlineViewNode(e,i){const s=new it({startPosition:i?Ce._createAfter(e):Ce._createBefore(e),direction:i?"forward":"backward"});for(const c of s){if(c.item.is("element")&&this.inlineObjectElements.includes(c.item.name))return c.item;if(c.item.is("containerElement")||c.item.is("element","br"))return null;if(c.item.is("$textProxy"))return c.item}return null}_getTouchingInlineDomNode(e,i){if(!e.parentNode)return null;const s=i?"firstChild":"lastChild",c=i?"nextSibling":"previousSibling";let u=!0;do{if(!u&&e[s]?e=e[s]:e[c]?(e=e[c],u=!1):(e=e.parentNode,u=!0),!e||this._isBlockElement(e))return null}while(!qt(e)&&"BR"!=e.tagName&&!this._isInlineObjectElement(e));return e}_isBlockElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isInlineObjectElement(e){return this.isElement(e)&&this.inlineObjectElements.includes(e.tagName.toLowerCase())}_createViewElement(e,i){if(es(e))return new $u(this.document,"$comment");const s=i.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Go(this.document,s)}_isViewElementWithRawContent(e,i){return!1!==i.withChildren&&this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const i=e.toLowerCase();return"editing"===this.renderingMode&&this.unsafeElements.includes(i)}_createReplacementDomElement(e,i=null){const s=this._domDocument.createElement("span");if(s.setAttribute(eh,e),i){for(;i.firstChild;)s.appendChild(i.firstChild);for(const c of i.getAttributeNames())s.setAttribute(c,i.getAttribute(c))}return s}}function th(l,e){for(;l&&l!=Vt.document;)e(l),l=l.parentNode}function nh(l,e){const i=l.parentNode;return i&&i.tagName&&e.includes(i.tagName.toLowerCase())}function ym(l){"script"===l&&Q("domconverter-unsafe-script-element-detected"),"style"===l&&Q("domconverter-unsafe-style-element-detected")}function Yl(l){const e=Object.prototype.toString.apply(l);return"[object Window]"==e||"[object global]"==e}const qs=Rl(function(l,e){Ha(e,Qa(e),l)}),cc=qs({},ne,{listenTo(l,e,i,s={}){if(ci(l)||Yl(l)){const c={capture:!!s.useCapture,passive:!!s.usePassive},u=this._getProxyEmitter(l,c)||new oh(l,c);this.listenTo(u,e,i,s)}else ne.listenTo.call(this,l,e,i,s)},stopListening(l,e,i){if(ci(l)||Yl(l)){const s=this._getAllProxyEmitters(l);for(const c of s)this.stopListening(c,e,i)}else ne.stopListening.call(this,l,e,i)},_getProxyEmitter(l,e){return function(i,s){const c=i[ke];return c&&c[s]?c[s].emitter:null}(this,ih(l,e))},_getAllProxyEmitters(l){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(e=>this._getProxyEmitter(l,e)).filter(e=>!!e)}}),lc=cc;class oh{constructor(e,i){se(this,ih(e,i)),this._domNode=e,this._options=i}attach(e){if(this._domListeners&&this._domListeners[e])return;const i=this._createDomListener(e);this._domNode.addEventListener(e,i,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=i}detach(e){let i;!this._domListeners[e]||(i=this._events[e])&&i.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,i,s){this.attach(e),ne._addEventListener.call(this,e,i,s)}_removeEventListener(e,i){ne._removeEventListener.call(this,e,i),this.detach(e)}_createDomListener(e){const i=s=>{this.fire(e,s)};return i.removeListener=()=>{this._domNode.removeEventListener(e,i,this._options),delete this._domListeners[e]},i}}function ih(l,e){let i=(s=l)["data-ck-expando"]||(s["data-ck-expando"]=U());var s;for(const s of Object.keys(e).sort())e[s]&&(i+="-"+s);return i}Ae(oh,ne);class no{constructor(e){this.view=e,this.document=e.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&3===e.nodeType&&(e=e.parentNode),!(!e||1!==e.nodeType)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}function Er(l){var e=-1,i=null==l?0:l.length;for(this.__data__=new vt;++e<i;)this.add(l[e])}Ae(no,lc),Er.prototype.add=Er.prototype.push=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this},Er.prototype.has=function(l){return this.__data__.has(l)};const Qs=Er,Zs=function(l,e){for(var i=-1,s=null==l?0:l.length;++i<s;)if(e(l[i],i,l))return!0;return!1},Ks=function(l,e){return l.has(e)},sh=function(l,e,i,s,c,u){var h=1&i,g=l.length,m=e.length;if(g!=m&&!(h&&m>g))return!1;var w=u.get(l),k=u.get(e);if(w&&k)return w==e&&k==l;var v=-1,y=!0,F=2&i?new Qs:void 0;for(u.set(l,e),u.set(e,l);++v<g;){var G=l[v],$=e[v];if(s)var K=h?s($,G,v,e,l,u):s(G,$,v,l,e,u);if(void 0!==K){if(K)continue;y=!1;break}if(F){if(!Zs(e,function(Y,ee){if(!Ks(F,ee)&&(G===Y||c(G,Y,i,s,u)))return F.push(ee)})){y=!1;break}}else if(G!==$&&!c(G,$,i,s,u)){y=!1;break}}return u.delete(l),u.delete(e),y},ah=function(l){var e=-1,i=Array(l.size);return l.forEach(function(s,c){i[++e]=[c,s]}),i},Ys=function(l){var e=-1,i=Array(l.size);return l.forEach(function(s){i[++e]=s}),i};var cC=zi?zi.prototype:void 0,ch=cC?cC.valueOf:void 0,lC=Object.prototype.hasOwnProperty,dC="[object Arguments]",uC="[object Array]",lh="[object Object]",hC=Object.prototype.hasOwnProperty;const Js=function l(e,i,s,c,u){return e===i||(null==e||null==i||!oi(e)&&!oi(i)?e!=e&&i!=i:function(l,e,i,s,c,u){var h=Jt(l),g=Jt(e),m=h?uC:jn(l),w=g?uC:jn(e),k=(m=m==dC?lh:m)==lh,v=(w=w==dC?lh:w)==lh,y=m==w;if(y&&$a(l)){if(!$a(e))return!1;h=!0,k=!1}if(y&&!k)return u||(u=new _l),h||qa(l)?sh(l,e,i,s,c,u):function(l,e,i,s,c,u,h){switch(i){case"[object DataView]":if(l.byteLength!=e.byteLength||l.byteOffset!=e.byteOffset)return!1;l=l.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(l.byteLength!=e.byteLength||!u(new wr(l),new wr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ss(+l,+e);case"[object Error]":return l.name==e.name&&l.message==e.message;case"[object RegExp]":case"[object String]":return l==e+"";case"[object Map]":var g=ah;case"[object Set]":if(g||(g=Ys),l.size!=e.size&&!(1&s))return!1;var w=h.get(l);if(w)return w==e;s|=2,h.set(l,e);var k=sh(g(l),g(e),s,c,u,h);return h.delete(l),k;case"[object Symbol]":if(ch)return ch.call(l)==ch.call(e)}return!1}(l,e,m,i,s,c,u);if(!(1&i)){var F=k&&hC.call(l,"__wrapped__"),G=v&&hC.call(e,"__wrapped__");if(F||G){var $=F?l.value():l,K=G?e.value():e;return u||(u=new _l),c($,K,i,s,u)}}return!!y&&(u||(u=new _l),function(l,e,i,s,c,u){var h=1&i,g=El(l),m=g.length;if(m!=El(e).length&&!h)return!1;for(var w=m;w--;){var k=g[w];if(!(h?k in e:lC.call(e,k)))return!1}var v=u.get(l),y=u.get(e);if(v&&y)return v==e&&y==l;var F=!0;u.set(l,e),u.set(e,l);for(var G=h;++w<m;){var $=l[k=g[w]],K=e[k];if(s)var Y=h?s(K,$,k,e,l,u):s($,K,k,l,e,u);if(!(void 0===Y?$===K||c($,K,i,s,u):Y)){F=!1;break}G||(G="constructor"==k)}if(F&&!G){var ee=l.constructor,ce=e.constructor;ee==ce||!("constructor"in l)||!("constructor"in e)||"function"==typeof ee&&ee instanceof ee&&"function"==typeof ce&&ce instanceof ce||(F=!1)}return u.delete(l),u.delete(e),F}(l,e,i,s,c,u))}(e,i,s,c,l,u))},pE=function(l,e,i){var s=(i="function"==typeof i?i:void 0)?i(l,e):void 0;return void 0===s?Js(l,e,void 0,i):!!s};class mn extends no{constructor(e){super(e),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(0===e.length)return;const i=this.domConverter,s=new Map,c=new Set;for(const w of e)if("childList"===w.type){const k=i.mapDomToView(w.target);if(k&&(k.is("uiElement")||k.is("rawElement")))continue;k&&!this._isBogusBrMutation(w)&&c.add(k)}for(const w of e){const k=i.mapDomToView(w.target);if((!k||!k.is("uiElement")&&!k.is("rawElement"))&&"characterData"===w.type){const v=i.findCorrespondingViewText(w.target);v&&!c.has(v.parent)?s.set(v,{type:"text",oldText:v.data,newText:Qu(w.target),node:v}):!v&&to(w.target)&&c.add(i.mapDomToView(w.target.parentNode))}}const u=[];for(const w of s.values())this.renderer.markToSync("text",w.node),u.push(w);for(const w of c){const k=i.mapViewToDom(w),v=Array.from(w.getChildren()),y=Array.from(i.domChildrenToView(k,{withChildren:!1}));pE(v,y,m)||(this.renderer.markToSync("children",w),u.push({type:"children",oldChildren:v,newChildren:y,node:w}))}const h=e[0].target.ownerDocument.getSelection();let g=null;if(h&&h.anchorNode){const w=i.domPositionToView(h.anchorNode,h.anchorOffset),k=i.domPositionToView(h.focusNode,h.focusOffset);w&&k&&(g=new gn(w),g.setFocus(k))}function m(w,k){if(!Array.isArray(w))return w===k||!(!w.is("$text")||!k.is("$text"))&&w.data===k.data}u.length&&(this.document.fire("mutations",u,g),this.view.forceRender())}_isBogusBrMutation(e){let i=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(i=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}}class dc{constructor(e,i,s){this.view=e,this.document=e.document,this.domEvent=i,this.domTarget=i.target,qs(this,s)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class $o extends no{constructor(e){super(e),this.useCapture=!1}observe(e){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(e,i,(s,c)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(c.target)&&this.onDomEvent(c)},{useCapture:this.useCapture})})}fire(e,i,s){this.isEnabled&&this.document.fire(e,new dc(this.view,i,s))}}class mE extends $o{constructor(e){super(e),this.domEventType=["keydown","keyup"]}onDomEvent(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return ai(this)}})}}const dh=function(){return Yn.Date.now()};var Wo=/\s/,Am=/^\s+/;var uc=/^[-+]0x[0-9a-f]+$/i,Dm=/^0b[01]+$/i,fC=/^0o[0-7]+$/i,gC=parseInt;const pC=function(l){if("number"==typeof l)return l;if(Ru(l))return NaN;if(Pe(l)){var e="function"==typeof l.valueOf?l.valueOf():l;l=Pe(e)?e+"":e}if("string"!=typeof l)return 0===l?l:+l;l=function(l){return l&&l.slice(0,function(l){for(var e=l.length;e--&&Wo.test(l.charAt(e)););return e}(l)+1).replace(Am,"")}(l);var i=Dm.test(l);return i||fC.test(l)?gC(l.slice(2),i?2:8):uc.test(l)?NaN:+l};var bE=Math.max,Em=Math.min;const Un=function(l,e,i){var s,c,u,h,g,m,w=0,k=!1,v=!1,y=!0;if("function"!=typeof l)throw new TypeError("Expected a function");function F(ce){var Ie=s,Le=c;return s=c=void 0,w=ce,h=l.apply(Le,Ie)}function G(ce){return w=ce,g=setTimeout(K,e),k?F(ce):h}function $(ce){var Ie=ce-m;return void 0===m||Ie>=e||Ie<0||v&&ce-w>=u}function K(){var Ie,Le,ce=dh();if($(ce))return Y(ce);g=setTimeout(K,(Le=e-((Ie=ce)-m),v?Em(Le,u-(Ie-w)):Le))}function Y(ce){return g=void 0,y&&s?F(ce):(s=c=void 0,h)}function ee(){var ce=dh(),Ie=$(ce);if(s=arguments,c=this,m=ce,Ie){if(void 0===g)return G(m);if(v)return clearTimeout(g),g=setTimeout(K,e),F(m)}return void 0===g&&(g=setTimeout(K,e)),h}return e=pC(e)||0,Pe(i)&&(k=!!i.leading,u=(v="maxWait"in i)?bE(pC(i.maxWait)||0,e):u,y="trailing"in i?!!i.trailing:y),ee.cancel=function(){void 0!==g&&clearTimeout(g),w=0,s=m=c=g=void 0},ee.flush=function(){return void 0===g?h:Y(dh())},ee};class uh extends no{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Un(i=>this.document.fire("selectionChangeDone",i),200)}observe(){const e=this.document;e.on("arrowKey",(i,s)=>{e.selection.isFake&&this.isEnabled&&s.preventDefault()},{context:"$capture"}),e.on("arrowKey",(i,s)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(s.keyCode)},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const i=this.document.selection,s=new gn(i.getRanges(),{backward:i.isBackward,fake:!1});e!=Xe.arrowleft&&e!=Xe.arrowup||s.setTo(s.getFirstPosition()),e!=Xe.arrowright&&e!=Xe.arrowdown||s.setTo(s.getLastPosition());const c={oldSelection:i,newSelection:s,domSelection:null};this.document.fire("selectionChange",c),this._fireSelectionChangeDoneDebounced(c)}}class Xs extends no{constructor(e){super(e),this.mutationObserver=e.getObserver(mn),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Un(i=>this.document.fire("selectionChangeDone",i),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Un(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const i=e.ownerDocument,s=()=>{this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel()};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",s,{priority:"highest"}),this.listenTo(e,"keyup",s,{priority:"highest"}),this._documents.has(i)||(this.listenTo(i,"mouseup",s,{priority:"highest"}),this.listenTo(i,"selectionchange",(c,u)=>{this._handleSelectionChange(u,i),this._documentIsSelectingInactivityTimeoutDebounced()}),this._documents.add(i))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_handleSelectionChange(e,i){if(!this.isEnabled)return;const s=i.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(s.anchorNode))return;this.mutationObserver.flush();const c=this.domConverter.domSelectionToView(s);if(0!=c.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(c)&&this.domConverter.isDomSelectionCorrect(s)||++this._loopbackCounter>60))if(this.selection.isSimilar(c))this.view.forceRender();else{const u={oldSelection:this.selection,newSelection:c,domSelection:s};this.document.fire("selectionChange",u),this._fireSelectionChangeDoneDebounced(u)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class wE extends $o{constructor(e){super(e),this.domEventType=["focus","blur"],this.useCapture=!0;const i=this.document;i.on("focus",()=>{i.isFocused=!0,this._renderTimeoutId=setTimeout(()=>e.change(()=>{}),50)}),i.on("blur",(s,c)=>{const u=i.selection.editableElement;null!==u&&u!==c.target||(i.isFocused=!1,e.change(()=>{}))})}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class xm extends $o{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const i=this.document;i.on("compositionstart",()=>{i.isComposing=!0}),i.on("compositionend",()=>{i.isComposing=!1})}onDomEvent(e){this.fire(e.type,e)}}class mC extends $o{constructor(e){super(e),this.domEventType=["beforeinput"]}onDomEvent(e){this.fire(e.type,e)}}class bC{constructor(){this._replacedElements=[]}replace(e,i){this._replacedElements.push({element:e,newElement:i}),e.style.display="none",i&&e.parentNode.insertBefore(i,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:i})=>{e.style.display="",i&&i.remove()}),this._replacedElements=[]}}const Mm=function(l){return"string"==typeof l||!Jt(l)&&oi(l)&&"[object String]"==gr(l)};function Im(l,e,i={},s=[]){const c=i&&i.xmlns,u=c?l.createElementNS(c,e):l.createElement(e);for(const h in i)u.setAttribute(h,i[h]);!Mm(s)&&nn(s)||(s=[s]);for(let h of s)Mm(h)&&(h=l.createTextNode(h)),u.appendChild(h);return u}class Qt{constructor(e,i){Qt._observerInstance||Qt._createObserver(),this._element=e,this._callback=i,Qt._addElementCallback(e,i),Qt._observerInstance.observe(e)}destroy(){Qt._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,i){Qt._elementCallbacks||(Qt._elementCallbacks=new Map);let s=Qt._elementCallbacks.get(e);s||(s=new Set,Qt._elementCallbacks.set(e,s)),s.add(i)}static _deleteElementCallback(e,i){const s=Qt._getElementCallbacks(e);s&&(s.delete(i),s.size||(Qt._elementCallbacks.delete(e),Qt._observerInstance.unobserve(e))),Qt._elementCallbacks&&!Qt._elementCallbacks.size&&(Qt._observerInstance=null,Qt._elementCallbacks=null)}static _getElementCallbacks(e){return Qt._elementCallbacks?Qt._elementCallbacks.get(e):null}static _createObserver(){Qt._observerInstance=new Vt.window.ResizeObserver(e=>{for(const i of e){const s=Qt._getElementCallbacks(i.target);if(s)for(const c of s)c(i)}})}}function vn(l){const e=l.next();return e.done?null:e.value}Qt._observerInstance=null,Qt._elementCallbacks=null;class hc{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(e){if(this._elements.has(e))throw new A("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}Ae(hc,lc),Ae(hc,je);const So=hc;class xr{constructor(){this._listener=Object.create(lc)}listenTo(e){this._listener.listenTo(e,"keydown",(i,s)=>{this._listener.fire("_keydown:"+ai(s),s)})}set(e,i,s={}){const c=Ul(e);this._listener.listenTo(this._listener,"_keydown:"+c,(h,g)=>{i(g,()=>{g.preventDefault(),g.stopPropagation(),h.stop()}),h.return=!0},{priority:s.priority})}press(e){return!!this._listener.fire("_keydown:"+ai(e),e)}destroy(){this._listener.stopListening()}}class fc extends no{constructor(e){super(e),this.document.on("keydown",(i,s)=>{if(this.isEnabled&&((c=s.keyCode)==Xe.arrowright||c==Xe.arrowleft||c==Xe.arrowup||c==Xe.arrowdown)){const u=new Jr(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(u,s),u.stop.called&&i.stop()}var c})}observe(){}}class hh extends no{constructor(e){super(e);const i=this.document;i.on("keydown",(s,c)=>{if(!this.isEnabled||c.keyCode!=Xe.tab||c.ctrlKey)return;const u=new Jr(i,"tab",i.selection.getFirstRange());i.fire(u,c),u.stop.called&&s.stop()})}observe(){}}function ns(l){return"[object Range]"==Object.prototype.toString.apply(l)}function Sm(l){const e=l.ownerDocument.defaultView.getComputedStyle(l);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}const Tm=["top","right","bottom","left","width","height"];class Ft{constructor(e){const i=ns(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),ea(e)||i)if(i){const s=Ft.getDomRangeRects(e);gc(this,Ft.getBoundingRect(s))}else gc(this,e.getBoundingClientRect());else if(Yl(e)){const{innerWidth:s,innerHeight:c}=e;gc(this,{top:0,right:s,bottom:c,left:0,width:s,height:c})}else gc(this,e)}clone(){return new Ft(this)}moveTo(e,i){return this.top=i,this.right=e+this.width,this.bottom=i+this.height,this.left=e,this}moveBy(e,i){return this.top+=i,this.right+=e,this.left+=e,this.bottom+=i,this}getIntersection(e){const i={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};return i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<0||i.height<0?null:new Ft(i)}getIntersectionArea(e){const i=this.getIntersection(e);return i?i.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let i=this.clone();if(!Nm(e)){let s=e.parentNode||e.commonAncestorContainer;for(;s&&!Nm(s);){const c=new Ft(s),u=i.getIntersection(c);if(!u)return null;u.getArea()<i.getArea()&&(i=u),s=s.parentNode}}return i}isEqual(e){for(const i of Tm)if(this[i]!==e[i])return!1;return!0}contains(e){const i=this.getIntersection(e);return!(!i||!i.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let i,s,c;if(Yl(e))i=e.innerWidth-e.document.documentElement.clientWidth,s=e.innerHeight-e.document.documentElement.clientHeight,c=e.getComputedStyle(e.document.documentElement).direction;else{const u=Sm(e);i=e.offsetWidth-e.clientWidth-u.left-u.right,s=e.offsetHeight-e.clientHeight-u.top-u.bottom,c=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=u.left,this.top+=u.top,this.right-=u.right,this.bottom-=u.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=i,"ltr"===c?this.right-=i:this.left+=i,this.height-=s,this.bottom-=s,this}static getDomRangeRects(e){const i=[],s=Array.from(e.getClientRects());if(s.length)for(const c of s)i.push(new Ft(c));else{let c=e.startContainer;qt(c)&&(c=c.parentNode);const u=new Ft(c.getBoundingClientRect());u.right=u.left,u.width=0,i.push(u)}return i}static getBoundingRect(e){const i={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let s=0;for(const c of e)s++,i.left=Math.min(i.left,c.left),i.top=Math.min(i.top,c.top),i.right=Math.max(i.right,c.right),i.bottom=Math.max(i.bottom,c.bottom);return 0==s?null:(i.width=i.right-i.left,i.height=i.bottom-i.top,new Ft(i))}}function gc(l,e){for(const i of Tm)l[i]=e[i]}function Nm(l){return!!ea(l)&&l===l.ownerDocument.body}function ea(l){return kt(l)}function Pm(l,e,i){const s=e.clone().moveBy(0,i),c=e.clone().moveBy(0,-i),u=new Ft(l).excludeScrollbarsAndBorders();if(![c,s].every(h=>u.contains(h))){let{scrollX:h,scrollY:g}=l;fh(c,u)?g-=u.top-e.top+i:Ne(s,u)&&(g+=e.bottom-u.bottom+i),Om(e,u)?h-=u.left-e.left+i:Xl(e,u)&&(h+=e.right-u.right+i),l.scrollTo(h,g)}}function wC(l,e){const i=os(l);let s,c;for(;l!=i.document.body;)c=e(),s=new Ft(l).excludeScrollbarsAndBorders(),s.contains(c)||(fh(c,s)?l.scrollTop-=s.top-c.top:Ne(c,s)&&(l.scrollTop+=c.bottom-s.bottom),Om(c,s)?l.scrollLeft-=s.left-c.left:Xl(c,s)&&(l.scrollLeft+=c.right-s.right)),l=l.parentNode}function Ne(l,e){return l.bottom>e.bottom}function fh(l,e){return l.top<e.top}function Om(l,e){return l.left<e.left}function Xl(l,e){return l.right>e.right}function os(l){return ns(l)?l.startContainer.ownerDocument.defaultView:l.ownerDocument.defaultView}function kC(l){if(ns(l)){let e=l.commonAncestorContainer;return qt(e)&&(e=e.parentNode),e}return l.parentNode}function Rm(l,e){const i=os(l),s=new Ft(l);if(i===e)return s;{let c=i;for(;c!=e;){const h=new Ft(c.frameElement).excludeScrollbarsAndBorders();s.moveBy(h.left,h.top),c=c.parent}}return s}class Bm{constructor(e){this.document=new Ci(e),this.domConverter=new ac(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new sC(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new wm(this.document),this.addObserver(mn),this.addObserver(Xs),this.addObserver(wE),this.addObserver(mE),this.addObserver(uh),this.addObserver(xm),this.addObserver(fc),this.addObserver(hh),yt.isAndroid&&this.addObserver(mC),this.document.on("arrowKey",hE,{priority:"low"}),function nC(l){l.document.on("arrowKey",(e,i)=>function(s,c,u){if(c.keyCode==Xe.arrowright){const h=c.domTarget.ownerDocument.defaultView.getSelection(),g=1==h.rangeCount&&h.getRangeAt(0).collapsed;if(g||c.shiftKey){const k=u.domPositionToView(h.focusNode,h.focusOffset);if(null===k)return;let v=!1;const y=k.getLastMatchingPosition(F=>(F.item.is("uiElement")&&(v=!0),!(!F.item.is("uiElement")&&!F.item.is("attributeElement"))));if(v){const F=u.viewPositionToDom(y);g?h.collapse(F.parent,F.offset):h.extend(F.parent,F.offset)}}}}(0,i,l.domConverter),{priority:"low"})}(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(e,i="main"){const s=this.document.getRoot(i);s._name=e.tagName.toLowerCase();const c={};for(const{name:h,value:g}of Array.from(e.attributes))c[h]=g,"class"===h?this._writer.addClass(g.split(" "),s):this._writer.setAttribute(h,g,s);this._initialDomRootAttributes.set(e,c);const u=()=>{this._writer.setAttribute("contenteditable",!s.isReadOnly,s),s.isReadOnly?this._writer.addClass("ck-read-only",s):this._writer.removeClass("ck-read-only",s)};u(),this.domRoots.set(i,e),this.domConverter.bindElements(e,s),this._renderer.markToSync("children",s),this._renderer.markToSync("attributes",s),this._renderer.domDocuments.add(e.ownerDocument),s.on("change:children",(h,g)=>this._renderer.markToSync("children",g)),s.on("change:attributes",(h,g)=>this._renderer.markToSync("attributes",g)),s.on("change:text",(h,g)=>this._renderer.markToSync("text",g)),s.on("change:isReadOnly",()=>this.change(u)),s.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const h of this._observers.values())h.observe(e,i)}detachDomRoot(e){const i=this.domRoots.get(e);Array.from(i.attributes).forEach(({name:c})=>i.removeAttribute(c));const s=this._initialDomRootAttributes.get(i);for(const c in s)i.setAttribute(c,s[c]);this.domRoots.delete(e),this.domConverter.unbindDomElement(i)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let i=this._observers.get(e);if(i)return i;i=new e(this),this._observers.set(e,i);for(const[s,c]of this.domRoots)i.observe(c,s);return i.enable(),i}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection(){const e=this.document.selection.getFirstRange();e&&function({target:i,viewportOffset:s=0}){const c=os(i);let u=c,h=null;for(;u;){let g;g=kC(u==c?i:h),wC(g,()=>Rm(i,u));const m=Rm(i,u);if(Pm(u,m,s),u.parent!=u){if(h=u.frameElement,u=u.parent,!h)return}else u=null}}({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new A("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const i=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),i}catch(i){A.rethrowUnexpectedError(i,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,i){return Ce._createAt(e,i)}createPositionAfter(e){return Ce._createAfter(e)}createPositionBefore(e){return Ce._createBefore(e)}createRange(e,i){return new Te(e,i)}createRangeOn(e){return Te._createOn(e)}createRangeIn(e){return Te._createIn(e)}createSelection(e,i,s){return new gn(e,i,s)}_disableRendering(e){this._renderingDisabled=e,0==e&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}Ae(Bm,je);class Di{constructor(e){this.parent=null,this._attrs=Gi(e)}get index(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new A("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new A("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.startOffset),i=i.parent;return e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const i=[];let s=e.includeSelf?this:this.parent;for(;s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}getCommonAncestor(e,i={}){const s=this.getAncestors(i),c=e.getAncestors(i);let u=0;for(;s[u]==c[u]&&s[u];)u++;return 0===u?null:s[u-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),s=e.getPath(),c=Xn(i,s);switch(c){case"prefix":return!0;case"extension":return!1;default:return i[c]<s[c]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((i,s)=>(i[s[0]]=s[1],i),{})),e}is(e){return"node"===e||"model:node"===e}_clone(){return new Di(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,i){this._attrs.set(e,i)}_setAttributesTo(e){this._attrs=Gi(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}class mt extends Di{constructor(e,i){super(i),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}is(e){return"$text"===e||"model:$text"===e||"text"===e||"model:text"===e||"node"===e||"model:node"===e}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new mt(this.data,this.getAttributes())}static fromJSON(e){return new mt(e.data,e.attributes)}}class li{constructor(e,i,s){if(this.textNode=e,i<0||i>e.offsetSize)throw new A("model-textproxy-wrong-offsetintext",this);if(s<0||i+s>e.offsetSize)throw new A("model-textproxy-wrong-length",this);this.data=e.data.substring(i,i+s),this.offsetInText=i}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}is(e){return"$textProxy"===e||"model:$textProxy"===e||"textProxy"===e||"model:textProxy"===e}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const i=[];let s=e.includeSelf?this:this.parent;for(;s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class Ei{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,i)=>e+i.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const i=this._nodes.indexOf(e);return-1==i?null:i}getNodeStartOffset(e){const i=this.getNodeIndex(e);return null===i?null:this._nodes.slice(0,i).reduce((s,c)=>s+c.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const i=this._nodes[e];if(!i)throw new A("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(i)}offsetToIndex(e){let i=0;for(const s of this._nodes){if(e>=i&&e<i+s.offsetSize)return this.getNodeIndex(s);i+=s.offsetSize}if(i!=e)throw new A("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,i){for(const s of i)if(!(s instanceof Di))throw new A("model-nodelist-insertnodes-not-node",this);this._nodes.splice(e,0,...i)}_removeNodes(e,i=1){return this._nodes.splice(e,i)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class xt extends Di{constructor(e,i,s){super(i),this.name=e,this._children=new Ei,s&&this._insertChild(0,s)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(e,i=null){return i?i===this.name&&("element"===e||"model:element"===e):"element"===e||"model:element"===e||"node"===e||"model:node"===e}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let i=this;for(const s of e)i=i.getChild(i.offsetToIndex(s));return i}findAncestor(e,i={includeSelf:!1}){let s=i.includeSelf?this:this.parent;for(;s;){if(s.name===e)return s;s=s.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const i of this._children)e.children.push(i.toJSON())}return e}_clone(e=!1){const i=e?Array.from(this._children).map(s=>s._clone(!0)):null;return new xt(this.name,this.getAttributes(),i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const s="string"==typeof(c=i)?[new mt(c)]:(nn(c)||(c=[c]),Array.from(c).map(u=>"string"==typeof u?new mt(u):u instanceof li?new mt(u.data,u.getAttributes()):u));var c;for(const c of s)null!==c.parent&&c._remove(),c.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,i=1){const s=this._children._removeNodes(e,i);for(const c of s)c.parent=null;return s}static fromJSON(e){let i=null;if(e.children){i=[];for(const s of e.children)i.push(s.name?xt.fromJSON(s):mt.fromJSON(s))}return new xt(e.name,e.attributes,i)}}class xi{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new A("model-tree-walker-no-start-position",null);const i=e.direction||"forward";if("forward"!=i&&"backward"!=i)throw new A("model-tree-walker-unknown-direction",e,{direction:i});this.direction=i,this.boundaries=e.boundaries||null,this.position=e.startPosition?e.startPosition.clone():he._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(e){let i,s,c,u;do{c=this.position,u=this._visitedParent,({done:i,value:s}=this.next())}while(!i&&e(s));i||(this.position=c,this._visitedParent=u)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const e=this.position,i=this.position.clone(),s=this._visitedParent;if(null===s.parent&&i.offset===s.maxOffset)return{done:!0};if(s===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0};const c=ta(i,s),u=c||Fm(i,s,c);if(u instanceof xt)return this.shallow?i.offset++:(i.path.push(0),this._visitedParent=u),this.position=i,Qi("elementStart",u,e,i,1);if(u instanceof mt){let h;if(this.singleCharacters)h=1;else{let w=u.endOffset;this._boundaryEndParent==s&&this.boundaries.end.offset<w&&(w=this.boundaries.end.offset),h=w-i.offset}const m=new li(u,i.offset-u.startOffset,h);return i.offset+=h,this.position=i,Qi("text",m,e,i,h)}return i.path.pop(),i.offset++,this.position=i,this._visitedParent=s.parent,this.ignoreElementEnd?this._next():Qi("elementEnd",s,e,i)}_previous(){const e=this.position,i=this.position.clone(),s=this._visitedParent;if(null===s.parent&&0===i.offset)return{done:!0};if(s==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0};const c=i.parent,u=ta(i,c),h=u||Lm(i,c,u);if(h instanceof xt)return i.offset--,this.shallow?(this.position=i,Qi("elementStart",h,e,i,1)):(i.path.push(h.maxOffset),this.position=i,this._visitedParent=h,this.ignoreElementEnd?this._previous():Qi("elementEnd",h,e,i));if(h instanceof mt){let g;if(this.singleCharacters)g=1;else{let k=h.startOffset;this._boundaryStartParent==s&&this.boundaries.start.offset>k&&(k=this.boundaries.start.offset),g=i.offset-k}const w=new li(h,i.offset-h.startOffset-g,g);return i.offset-=g,this.position=i,Qi("text",w,e,i,g)}return i.path.pop(),this.position=i,this._visitedParent=s.parent,Qi("elementStart",s,e,i,1)}}function Qi(l,e,i,s,c){return{done:!1,value:{type:l,item:e,previousPosition:i,nextPosition:s,length:c}}}class he{constructor(e,i,s="toNone"){if(!e.is("element")&&!e.is("documentFragment"))throw new A("model-position-root-invalid",e);if(!(i instanceof Array)||0===i.length)throw new A("model-position-path-incorrect-format",e,{path:i});e.is("rootElement")?i=i.slice():(i=[...e.getPath(),...i],e=e.root),this.root=e,this.path=i,this.stickiness=s}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let i=0;i<this.path.length-1;i++)if(e=e.getChild(e.offsetToIndex(this.path[i])),!e)throw new A("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new A("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return ta(this,this.parent)}get nodeAfter(){const e=this.parent;return Fm(this,e,ta(this,e))}get nodeBefore(){const e=this.parent;return Lm(this,e,ta(this,e))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const i=Xn(this.path,e.path);switch(i){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[i]<e.path[i]?"before":"after"}}getLastMatchingPosition(e,i={}){i.startPosition=this;const s=new xi(i);return s.skip(e),s.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const i=this.parent;return i.is("element")?i.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const i=Xn(this.path,e.path),s="string"==typeof i?Math.min(this.path.length,e.path.length):i;return this.path.slice(0,s)}getCommonAncestor(e){const i=this.getAncestors(),s=e.getAncestors();let c=0;for(;i[c]==s[c]&&i[c];)c++;return 0===c?null:i[c-1]}getShiftedBy(e){const i=this.clone(),s=i.offset+e;return i.offset=s<0?0:s,i}isAfter(e){return"after"==this.compareWith(e)}isBefore(e){return"before"==this.compareWith(e)}isEqual(e){return"same"==this.compareWith(e)}isTouching(e){let i=null,s=null;switch(this.compareWith(e)){case"same":return!0;case"before":i=he._createAt(this),s=he._createAt(e);break;case"after":i=he._createAt(e),s=he._createAt(this);break;default:return!1}let c=i.parent;for(;i.path.length+s.path.length;){if(i.isEqual(s))return!0;if(i.path.length>s.path.length){if(i.offset!==c.maxOffset)return!1;i.path=i.path.slice(0,-1),c=c.parent,i.offset++}else{if(0!==s.offset)return!1;s.path=s.path.slice(0,-1)}}}is(e){return"position"===e||"model:position"===e}hasSameParentAs(e){return this.root===e.root&&"same"==Xn(this.getParentPath(),e.getParentPath())}getTransformedByOperation(e){let i;switch(e.type){case"insert":i=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":i=this._getTransformedByMoveOperation(e);break;case"split":i=this._getTransformedBySplitOperation(e);break;case"merge":i=this._getTransformedByMergeOperation(e);break;default:i=he._createAt(this)}return i}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const i=e.movedRange;return i.containsPosition(this)||i.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const i=e.movedRange;let s;return i.containsPosition(this)||i.start.isEqual(this)?(s=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(s=s._getTransformedByDeletion(e.deletionPosition,1))):s=this.isEqual(e.deletionPosition)?he._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),s}_getTransformedByDeletion(e,i){const s=he._createAt(this);if(this.root!=e.root)return s;if("same"==Xn(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+i>this.offset)return null;s.offset-=i}}else if("prefix"==Xn(e.getParentPath(),this.getParentPath())){const c=e.path.length-1;if(e.offset<=this.path[c]){if(e.offset+i>this.path[c])return null;s.path[c]-=i}}return s}_getTransformedByInsertion(e,i){const s=he._createAt(this);if(this.root!=e.root)return s;if("same"==Xn(e.getParentPath(),this.getParentPath()))(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(s.offset+=i);else if("prefix"==Xn(e.getParentPath(),this.getParentPath())){const c=e.path.length-1;e.offset<=this.path[c]&&(s.path[c]+=i)}return s}_getTransformedByMove(e,i,s){if(i=i._getTransformedByDeletion(e,s),e.isEqual(i))return he._createAt(this);const c=this._getTransformedByDeletion(e,s);return null===c||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(s).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(e,i):c._getTransformedByInsertion(i,s)}_getCombined(e,i){const s=e.path.length-1,c=he._createAt(i);return c.stickiness=this.stickiness,c.offset=c.offset+this.path[s]-e.offset,c.path=[...c.path,...this.path.slice(s+1)],c}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,i,s="toNone"){if(e instanceof he)return new he(e.root,e.path,e.stickiness);{const c=e;if("end"==i)i=c.maxOffset;else{if("before"==i)return this._createBefore(c,s);if("after"==i)return this._createAfter(c,s);if(0!==i&&!i)throw new A("model-createpositionat-offset-required",[this,e])}if(!c.is("element")&&!c.is("documentFragment"))throw new A("model-position-parent-incorrect",[this,e]);const u=c.getPath();return u.push(i),new this(c.root,u,s)}}static _createAfter(e,i){if(!e.parent)throw new A("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,i)}static _createBefore(e,i){if(!e.parent)throw new A("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,i)}static fromJSON(e,i){if("$graveyard"===e.root){const s=new he(i.graveyard,e.path);return s.stickiness=e.stickiness,s}if(!i.getRoot(e.root))throw new A("model-position-fromjson-no-root",i,{rootName:e.root});return new he(i.getRoot(e.root),e.path,e.stickiness)}}function ta(l,e){const i=e.getChild(e.offsetToIndex(l.offset));return i&&i.is("$text")&&i.startOffset<l.offset?i:null}function Fm(l,e,i){return null!==i?null:e.getChild(e.offsetToIndex(l.offset))}function Lm(l,e,i){return null!==i?null:e.getChild(e.offsetToIndex(l.offset)-1)}class oe{constructor(e,i=null){this.start=he._createAt(e),this.end=he._createAt(i||e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new xi({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==Xn(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const s=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),c=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return s&&c}containsItem(e){const i=he._createBefore(e);return this.containsPosition(i)||this.start.isEqual(i)}is(e){return"range"===e||"model:range"===e}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new oe(this.start,e.start)),this.containsPosition(e.end)&&i.push(new oe(e.end,this.end))):i.push(new oe(this.start,this.end)),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,s=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(s=e.end),new oe(i,s)}return null}getJoined(e,i=!1){let s=this.isIntersecting(e);if(s||(s=this.start.isBefore(e.start)?i?this.end.isTouching(e.start):this.end.isEqual(e.start):i?e.end.isTouching(this.start):e.end.isEqual(this.start)),!s)return null;let c=this.start,u=this.end;return e.start.isBefore(c)&&(c=e.start),e.end.isAfter(u)&&(u=e.end),new oe(c,u)}getMinimalFlatRanges(){const e=[],i=this.start.getCommonPath(this.end).length,s=he._createAt(this.start);let c=s.parent;for(;s.path.length>i+1;){const u=c.maxOffset-s.offset;0!==u&&e.push(new oe(s,s.getShiftedBy(u))),s.path=s.path.slice(0,-1),s.offset++,c=c.parent}for(;s.path.length<=this.end.path.length;){const u=this.end.path[s.path.length-1],h=u-s.offset;0!==h&&e.push(new oe(s,s.getShiftedBy(h))),s.offset=u,s.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new xi(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new xi(e);for(const s of i)yield s.item}*getPositions(e={}){e.boundaries=this;const i=new xi(e);yield i.position;for(const s of i)yield s.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new oe(this.start,this.end)]}getTransformedByOperations(e){const i=[new oe(this.start,this.end)];for(const s of e)for(let c=0;c<i.length;c++){const u=i[c].getTransformedByOperation(s);i.splice(c,1,...u),c+=u.length-1}for(let s=0;s<i.length;s++){const c=i[s];for(let u=s+1;u<i.length;u++){const h=i[u];(c.containsRange(h)||h.containsRange(c)||c.isEqual(h))&&i.splice(u,1)}}return i}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,i=this.end.nodeBefore;return e&&e.is("element")&&e===i?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,i=!1){return this._getTransformedByInsertion(e.position,e.howMany,i)}_getTransformedByMoveOperation(e,i=!1){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,i)}_getTransformedBySplitOperation(e){const i=this.start._getTransformedBySplitOperation(e);let s=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(s=this.end.getShiftedBy(1)),i.root!=s.root&&(s=this.end.getShiftedBy(-1)),new oe(i,s)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new oe(this.start);let i=this.start._getTransformedByMergeOperation(e),s=this.end._getTransformedByMergeOperation(e);return i.root!=s.root&&(s=this.end.getShiftedBy(-1)),i.isAfter(s)?(e.sourcePosition.isBefore(e.targetPosition)?(i=he._createAt(s),i.offset=0):(e.deletionPosition.isEqual(i)||(s=e.deletionPosition),i=e.targetPosition),new oe(i,s)):new oe(i,s)}_getTransformedByInsertion(e,i,s=!1){if(s&&this.containsPosition(e))return[new oe(this.start,e),new oe(e.getShiftedBy(i),this.end._getTransformedByInsertion(e,i))];{const c=new oe(this.start,this.end);return c.start=c.start._getTransformedByInsertion(e,i),c.end=c.end._getTransformedByInsertion(e,i),[c]}}_getTransformedByMove(e,i,s,c=!1){if(this.isCollapsed){const v=this.start._getTransformedByMove(e,i,s);return[new oe(v)]}const u=oe._createFromPositionAndShift(e,s),h=i._getTransformedByDeletion(e,s);if(this.containsPosition(i)&&!c&&(u.containsPosition(this.start)||u.containsPosition(this.end))){const v=this.start._getTransformedByMove(e,i,s),y=this.end._getTransformedByMove(e,i,s);return[new oe(v,y)]}let g;const m=this.getDifference(u);let w=null;const k=this.getIntersection(u);if(1==m.length?w=new oe(m[0].start._getTransformedByDeletion(e,s),m[0].end._getTransformedByDeletion(e,s)):2==m.length&&(w=new oe(this.start,this.end._getTransformedByDeletion(e,s))),g=w?w._getTransformedByInsertion(h,s,null!==k||c):[],k){const v=new oe(k.start._getCombined(u.start,h),k.end._getCombined(u.start,h));2==g.length?g.splice(1,0,v):g.push(v)}return g}_getTransformedByDeletion(e,i){let s=this.start._getTransformedByDeletion(e,i),c=this.end._getTransformedByDeletion(e,i);return null==s&&null==c?null:(null==s&&(s=e),null==c&&(c=e),new oe(s,c))}static _createFromPositionAndShift(e,i){const s=e,c=e.getShiftedBy(i);return i>0?new this(s,c):new this(c,s)}static _createIn(e){return new this(he._createAt(e,0),he._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(he._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(0===e.length)throw new A("range-create-from-ranges-empty-array",null);if(1==e.length)return e[0].clone();const i=e[0];e.sort((u,h)=>u.start.isAfter(h.start)?1:-1);const s=e.indexOf(i),c=new this(i.start,i.end);if(s>0)for(let u=s-1;e[u].end.isEqual(c.start);u++)c.start=he._createAt(e[u].start);for(let u=s+1;u<e.length&&e[u].start.isEqual(c.end);u++)c.end=he._createAt(e[u].end);return c}static fromJSON(e,i){return new this(he.fromJSON(e.start,i),he.fromJSON(e.end,i))}}class is{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,i)=>{if(i.viewPosition)return;const s=this._modelToViewMapping.get(i.modelPosition.parent);if(!s)throw new A("mapping-model-position-view-parent-not-found",this,{modelPosition:i.modelPosition});i.viewPosition=this.findPositionIn(s,i.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,i)=>{if(i.modelPosition)return;const s=this.findMappedViewAncestor(i.viewPosition),c=this._viewToModelMapping.get(s),u=this._toModelOffset(i.viewPosition.parent,i.viewPosition.offset,s);i.modelPosition=he._createAt(c,u)},{priority:"low"})}bindElements(e,i){this._modelToViewMapping.set(e,i),this._viewToModelMapping.set(i,e)}unbindViewElement(e,i={}){const s=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const c of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(c);i.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(s)==e&&this._modelToViewMapping.delete(s))}unbindModelElement(e){const i=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(i)==e&&this._viewToModelMapping.delete(i)}bindElementToMarker(e,i){const s=this._markerNameToElements.get(i)||new Set;s.add(e);const c=this._elementToMarkerNames.get(e)||new Set;c.add(i),this._markerNameToElements.set(i,s),this._elementToMarkerNames.set(e,c)}unbindElementFromMarkerName(e,i){const s=this._markerNameToElements.get(i);s&&(s.delete(e),0==s.size&&this._markerNameToElements.delete(i));const c=this._elementToMarkerNames.get(e);c&&(c.delete(i),0==c.size&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,i]of this._deferredBindingRemovals)e.root==i&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new oe(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Te(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const i={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",i),i.modelPosition}toViewPosition(e,i={isPhantom:!1}){const s={modelPosition:e,mapper:this,isPhantom:i.isPhantom};return this.fire("modelToViewPosition",s),s.viewPosition}markerNameToElements(e){const i=this._markerNameToElements.get(e);if(!i)return null;const s=new Set;for(const c of i)if(c.is("attributeElement"))for(const u of c.getElementsWithSameId())s.add(u);else s.add(c);return s}registerViewToModelLength(e,i){this._viewToModelLengthCallbacks.set(e,i)}findMappedViewAncestor(e){let i=e.parent;for(;!this._viewToModelMapping.has(i);)i=i.parent;return i}_toModelOffset(e,i,s){if(s!=e)return this._toModelOffset(e.parent,e.index,s)+this._toModelOffset(e,i,e);if(e.is("$text"))return i;let c=0;for(let u=0;u<i;u++)c+=this.getModelLength(e.getChild(u));return c}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let i=0;for(const s of e.getChildren())i+=this.getModelLength(s);return i}}findPositionIn(e,i){let s,c=0,u=0,h=0;if(e.is("$text"))return new Ce(e,i);for(;u<i;)s=e.getChild(h),c=this.getModelLength(s),u+=c,h++;return u==i?this._moveViewPositionToTextNode(new Ce(e,h)):this.findPositionIn(s,i-(u-c))}_moveViewPositionToTextNode(e){const i=e.nodeBefore,s=e.nodeAfter;return i instanceof zt?new Ce(i,i.data.length):s instanceof zt?new Ce(s,0):e}}Ae(is,ne);class _C{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,i){i=gh(i),e instanceof li&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(i,!0)}consume(e,i){return i=gh(i),e instanceof li&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,i)&&(this._consumable.get(e).set(i,!1),!0)}test(e,i){i=gh(i),e instanceof li&&(e=this._getSymbolForTextProxy(e));const s=this._consumable.get(e);if(void 0===s)return null;const c=s.get(i);return void 0===c?null:c}revert(e,i){i=gh(i),e instanceof li&&(e=this._getSymbolForTextProxy(e));const s=this.test(e,i);return!1===s?(this._consumable.get(e).set(i,!0),!0):!0!==s&&null}verifyAllConsumed(e){const i=[];for(const[s,c]of this._consumable)for(const[u,h]of c){const g=u.split(":")[0];h&&e==g&&i.push({event:u,item:s.name||s.description})}if(i.length)throw new A("conversion-model-consumable-not-consumed",null,{items:i})}_getSymbolForTextProxy(e){let i=null;const s=this._textProxyRegistry.get(e.startOffset);if(s){const c=s.get(e.endOffset);c&&(i=c.get(e.parent))}return i||(i=this._addSymbolForTextProxy(e)),i}_addSymbolForTextProxy(e){const i=e.startOffset,s=e.endOffset,c=e.parent,u=Symbol("$textProxy:"+e.data);let h,g;return h=this._textProxyRegistry.get(i),h||(h=new Map,this._textProxyRegistry.set(i,h)),g=h.get(s),g||(g=new Map,h.set(s,g)),g.set(c,u),u}}function gh(l){const e=l.split(":");return"insert"==e[0]?e[0]:"addMarker"==e[0]||"removeMarker"==e[0]?l:e.length>1?e[0]+":"+e[1]:e[0]}class ed{constructor(e){this._conversionApi=He({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,i,s){const c=this._createConversionApi(s,e.getRefreshedItems());for(const h of e.getMarkersToRemove())this._convertMarkerRemove(h.name,h.range,c);const u=this._reduceChanges(e.getChanges());for(const h of u)"insert"===h.type?this._convertInsert(oe._createFromPositionAndShift(h.position,h.length),c):"reinsert"===h.type?this._convertReinsert(oe._createFromPositionAndShift(h.position,h.length),c):"remove"===h.type?this._convertRemove(h.position,h.length,h.name,c):this._convertAttribute(h.range,h.attributeKey,h.attributeOldValue,h.attributeNewValue,c);for(const h of c.mapper.flushUnboundMarkerNames()){const g=i.get(h).getRange();this._convertMarkerRemove(h,g,c),this._convertMarkerAdd(h,g,c)}for(const h of e.getMarkersToAdd())this._convertMarkerAdd(h.name,h.range,c);c.mapper.flushDeferredBindings(),c.consumable.verifyAllConsumed("insert")}convert(e,i,s,c={}){const u=this._createConversionApi(s,void 0,c);this._convertInsert(e,u);for(const[h,g]of i)this._convertMarkerAdd(h,g,u);u.consumable.verifyAllConsumed("insert")}convertSelection(e,i,s){const c=Array.from(i.getMarkersAtPosition(e.getFirstPosition())),u=this._createConversionApi(s);if(this._addConsumablesForSelection(u.consumable,e,c),this.fire("selection",{selection:e},u),e.isCollapsed){for(const h of c){const g=h.getRange();if(!vC(e.getFirstPosition(),h,u.mapper))continue;const m={item:e,markerName:h.name,markerRange:g};u.consumable.test(e,"addMarker:"+h.name)&&this.fire("addMarker:"+h.name,m,u)}for(const h of e.getAttributeKeys()){const g={item:e,range:e.getFirstRange(),attributeKey:h,attributeOldValue:null,attributeNewValue:e.getAttribute(h)};u.consumable.test(e,"attribute:"+g.attributeKey)&&this.fire("attribute:"+g.attributeKey+":$text",g,u)}}}_convertInsert(e,i,s={}){s.doNotAddConsumables||this._addConsumablesForInsert(i.consumable,Array.from(e));for(const c of Array.from(e.getWalker({shallow:!0})).map(CC))this._testAndFire("insert",c,i)}_convertRemove(e,i,s,c){this.fire("remove:"+s,{position:e,length:i},c)}_convertAttribute(e,i,s,c,u){this._addConsumablesForRange(u.consumable,e,`attribute:${i}`);for(const h of e){const g={item:h.item,range:oe._createFromPositionAndShift(h.previousPosition,h.length),attributeKey:i,attributeOldValue:s,attributeNewValue:c};this._testAndFire(`attribute:${i}`,g,u)}}_convertReinsert(e,i){const s=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(i.consumable,s);for(const c of s.map(CC))this._testAndFire("insert",wl(He({},c),{reconversion:!0}),i)}_convertMarkerAdd(e,i,s){if("$graveyard"==i.root.rootName)return;const c="addMarker:"+e;if(s.consumable.add(i,c),this.fire(c,{markerName:e,markerRange:i},s),s.consumable.consume(i,c)){this._addConsumablesForRange(s.consumable,i,c);for(const u of i.getItems()){if(!s.consumable.test(u,c))continue;const h={item:u,range:oe._createOn(u),markerName:e,markerRange:i};this.fire(c,h,s)}}}_convertMarkerRemove(e,i,s){"$graveyard"!=i.root.rootName&&this.fire("removeMarker:"+e,{markerName:e,markerRange:i},s)}_reduceChanges(e){const i={changes:e};return this.fire("reduceChanges",i),i.changes}_addConsumablesForInsert(e,i){for(const s of i){const c=s.item;if(null===e.test(c,"insert")){e.add(c,"insert");for(const u of c.getAttributeKeys())e.add(c,"attribute:"+u)}}return e}_addConsumablesForRange(e,i,s){for(const c of i.getItems())e.add(c,s);return e}_addConsumablesForSelection(e,i,s){e.add(i,"selection");for(const c of s)e.add(i,"addMarker:"+c.name);for(const c of i.getAttributeKeys())e.add(i,"attribute:"+c);return e}_testAndFire(e,i,s){const c=`${e}:${i.item.name||"$text"}`,u=i.item.is("$textProxy")?s.consumable._getSymbolForTextProxy(i.item):i.item,h=this._firedEventsMap.get(s),g=h.get(u);if(g){if(g.has(c))return;g.add(c)}else h.set(u,new Set([c]));this.fire(c,i,s)}_testAndFireAddAttributes(e,i){const s={item:e,range:oe._createOn(e)};for(const c of s.item.getAttributeKeys())s.attributeKey=c,s.attributeOldValue=null,s.attributeNewValue=s.item.getAttribute(c),this._testAndFire(`attribute:${c}`,s,i)}_createConversionApi(e,i=new Set,s={}){const c=wl(He({},this._conversionApi),{consumable:new _C,writer:e,options:s,convertItem:u=>this._convertInsert(oe._createOn(u),c),convertChildren:u=>this._convertInsert(oe._createIn(u),c,{doNotAddConsumables:!0}),convertAttributes:u=>this._testAndFireAddAttributes(u,c),canReuseView:u=>!i.has(c.mapper.toModelElement(u))});return this._firedEventsMap.set(c,new Map),c}}function vC(l,e,i){const s=e.getRange(),c=Array.from(l.getAncestors());return c.shift(),c.reverse(),!c.some(u=>{if(s.containsItem(u))return!!i.toViewElement(u).getCustomProperty("addHighlight")})}function CC(l){return{item:l.item,range:oe._createFromPositionAndShift(l.previousPosition,l.length)}}Ae(ed,ne);class Zi{constructor(e,i,s){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,e&&this.setTo(e,i,s)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let s=!1;for(const c of e._ranges)if(i.isEqual(c)){s=!0;break}if(!s)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new oe(e.start,e.end)}getFirstRange(){let e=null;for(const i of this._ranges)e&&!i.start.isBefore(e.start)||(e=i);return e?new oe(e.start,e.end):null}getLastRange(){let e=null;for(const i of this._ranges)e&&!i.end.isAfter(e.end)||(e=i);return e?new oe(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(e,i,s){if(null===e)this._setRanges([]);else if(e instanceof Zi)this._setRanges(e.getRanges(),e.isBackward);else if(e&&"function"==typeof e.getRanges)this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof oe)this._setRanges([e],!!i&&!!i.backward);else if(e instanceof he)this._setRanges([new oe(e)]);else if(e instanceof Di){const c=!!s&&!!s.backward;let u;if("in"==i)u=oe._createIn(e);else if("on"==i)u=oe._createOn(e);else{if(void 0===i)throw new A("model-selection-setto-required-second-parameter",[this,e]);u=new oe(he._createAt(e,i))}this._setRanges([u],c)}else{if(!nn(e))throw new A("model-selection-setto-not-selectable",[this,e]);this._setRanges(e,i&&!!i.backward)}}_setRanges(e,i=!1){const s=(e=Array.from(e)).some(c=>{if(!(c instanceof oe))throw new A("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(u=>!u.isEqual(c))});if(e.length!==this._ranges.length||s){this._removeAllRanges();for(const c of e)this._pushRange(c);this._lastRangeBackward=!!i,this.fire("change:range",{directChange:!0})}}setFocus(e,i){if(null===this.anchor)throw new A("model-selection-setfocus-no-ranges",[this,e]);const s=he._createAt(e,i);if("same"==s.compareWith(this.focus))return;const c=this.anchor;this._ranges.length&&this._popRange(),"before"==s.compareWith(c)?(this._pushRange(new oe(s,c)),this._lastRangeBackward=!0):(this._pushRange(new oe(c,s)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,i){this.getAttribute(e)!==i&&(this._attrs.set(e,i),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}is(e){return"selection"===e||"model:selection"===e}*getSelectedBlocks(){const e=new WeakSet;for(const i of this.getRanges()){const s=pc(i.start,e);s&&mc(s,i)&&(yield s);for(const u of i.getWalker()){const h=u.item;"elementEnd"==u.type&&yC(h,e,i)&&(yield h)}const c=pc(i.end,e);c&&!i.end.isTouching(he._createAt(c,0))&&mc(c,i)&&(yield c)}}containsEntireContent(e=this.anchor.root){const i=he._createAt(e,0),s=he._createAt(e,"end");return i.isTouching(this.getFirstPosition())&&s.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new oe(e.start,e.end))}_checkRange(e){for(let i=0;i<this._ranges.length;i++)if(e.isIntersecting(this._ranges[i]))throw new A("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[i]})}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function jm(l,e){return!e.has(l)&&(e.add(l),l.root.document.model.schema.isBlock(l)&&l.parent)}function yC(l,e,i){return jm(l,e)&&mc(l,i)}function pc(l,e){const i=l.parent.root.document.model.schema,s=l.parent.getAncestors({parentFirst:!0,includeSelf:!0});let c=!1;const u=s.find(h=>!c&&(c=i.isLimit(h),!c&&jm(h,e)));return s.forEach(h=>e.add(h)),u}function mc(l,e){const i=function(s){const c=s.root.document.model.schema;let u=s.parent;for(;u;){if(c.isBlock(u))return u;u=u.parent}}(l);return!i||!e.containsRange(oe._createOn(i),!0)}Ae(Zi,ne);class oo extends oe{constructor(e,i){super(e,i),AC.call(this)}detach(){this.stopListening()}is(e){return"liveRange"===e||"model:liveRange"===e||"range"==e||"model:range"===e}toRange(){return new oe(this.start,this.end)}static fromRange(e){return new oo(e.start,e.end)}}function AC(){this.listenTo(this.root.document.model,"applyOperation",(l,e)=>{const i=e[0];i.isDocumentOperation&&DC.call(this,i)},{priority:"low"})}function DC(l){const e=this.getTransformedByOperation(l),i=oe._createFromRanges(e),s=!i.isEqual(this),c=function(h,g){switch(g.type){case"insert":return h.containsPosition(g.position);case"move":case"remove":case"reinsert":case"merge":return h.containsPosition(g.sourcePosition)||h.start.isEqual(g.sourcePosition)||h.containsPosition(g.targetPosition);case"split":return h.containsPosition(g.splitPosition)||h.containsPosition(g.insertionPosition)}return!1}(this,l);let u=null;if(s){"$graveyard"==i.root.rootName&&(u="remove"==l.type?l.sourcePosition:l.deletionPosition);const h=this.toRange();this.start=i.start,this.end=i.end,this.fire("change:range",h,{deletionPosition:u})}else c&&this.fire("change:content",this.toRange(),{deletionPosition:u})}Ae(oo,ne);const td="selection:";class po{constructor(e){this._selection=new ph(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}is(e){return"selection"===e||"model:selection"==e||"documentSelection"==e||"model:documentSelection"==e}_setFocus(e,i){this._selection.setFocus(e,i)}_setTo(e,i,s){this._selection.setTo(e,i,s)}_setAttribute(e,i){this._selection.setAttribute(e,i)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return td+e}static _isStoreAttributeKey(e){return e.startsWith(td)}}Ae(po,ne);class ph extends Zi{constructor(e){super(),this.markers=new fo({idProperty:"name"}),this._model=e.model,this._document=e,this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this.listenTo(this._model,"applyOperation",(i,s)=>{const c=s[0];c.isDocumentOperation&&"marker"!=c.type&&"rename"!=c.type&&"noop"!=c.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{for(const i of this.getRanges())if(!this._document._validateSelectionRange(i))throw new A("document-selection-wrong-position",this,{range:i})}),this.listenTo(this._model.markers,"update",(i,s,c,u)=>{this._updateMarker(s,u)}),this.listenTo(this._document,"change",(i,s)=>{!function(c,u){const h=c.document.differ;for(const g of h.getChanges()){if("insert"!=g.type)continue;const m=g.position.parent;g.length===m.maxOffset&&c.enqueueChange(u,w=>{const k=Array.from(m.getAttributeKeys()).filter(v=>v.startsWith(td));for(const v of k)w.removeAttribute(v,m)})}}(this._model,s)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(e,i,s){super.setTo(e,i,s),this._updateAttributes(!0),this._updateMarkers()}setFocus(e,i){super.setFocus(e,i),this._updateAttributes(!0),this._updateMarkers()}setAttribute(e,i){this._setAttribute(e,i)&&this.fire("change:attribute",{attributeKeys:[e],directChange:!0})}removeAttribute(e){this._removeAttribute(e)&&this.fire("change:attribute",{attributeKeys:[e],directChange:!0})}overrideGravity(){const e=U();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new A("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this._updateMarkers()}_popRange(){this._ranges.pop().detach()}_pushRange(e){const i=this._prepareRange(e);i&&this._ranges.push(i)}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const i=oo.fromRange(e);return i.on("change:range",(s,c,u)=>{if(this._hasChangedRange=!0,i.root==this._document.graveyard){this._selectionRestorePosition=u.deletionPosition;const h=this._ranges.indexOf(i);this._ranges.splice(h,1),i.detach()}}),i}_updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let i=!1;for(const c of this._model.markers){const u=c.name.split(":",1)[0];if(!this._observedMarkers.has(u))continue;const h=c.getRange();for(const g of this.getRanges())h.containsRange(g,!g.isCollapsed)&&e.push(c)}const s=Array.from(this.markers);for(const c of e)this.markers.has(c)||(this.markers.add(c),i=!0);for(const c of Array.from(this.markers))e.includes(c)||(this.markers.remove(c),i=!0);i&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateMarker(e,i){const s=e.name.split(":",1)[0];if(!this._observedMarkers.has(s))return;let c=!1;const u=Array.from(this.markers),h=this.markers.has(e);if(i){let g=!1;for(const m of this.getRanges())if(i.containsRange(m,!m.isCollapsed)){g=!0;break}g&&!h?(this.markers.add(e),c=!0):!g&&h&&(this.markers.remove(e),c=!0)}else h&&(this.markers.remove(e),c=!0);c&&this.fire("change:marker",{oldMarkers:u,directChange:!1})}_updateAttributes(e){const i=Gi(this._getSurroundingAttributes()),s=Gi(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[u,h]of this._attributePriority)"low"==h&&(this._attrs.delete(u),this._attributePriority.delete(u));this._setAttributesTo(i);const c=[];for(const[u,h]of this.getAttributes())s.has(u)&&s.get(u)===h||c.push(u);for(const[u]of s)this.hasAttribute(u)||c.push(u);c.length>0&&this.fire("change:attribute",{attributeKeys:c,directChange:!1})}_setAttribute(e,i,s=!0){const c=s?"normal":"low";return("low"!=c||"normal"!=this._attributePriority.get(e))&&super.getAttribute(e)!==i&&(this._attrs.set(e,i),this._attributePriority.set(e,c),!0)}_removeAttribute(e,i=!0){const s=i?"normal":"low";return!("low"==s&&"normal"==this._attributePriority.get(e)||(this._attributePriority.set(e,s),!super.hasAttribute(e)||(this._attrs.delete(e),0)))}_setAttributesTo(e){const i=new Set;for(const[s,c]of this.getAttributes())e.get(s)!==c&&this._removeAttribute(s,!1);for(const[s,c]of e)this._setAttribute(s,c,!1)&&i.add(s);return i}*_getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const i of e.getAttributeKeys())i.startsWith(td)&&(yield[i.substr(td.length),e.getAttribute(i)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),i=this._model.schema;let s=null;if(this.isCollapsed){const c=e.textNode?e.textNode:e.nodeBefore,u=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(s=bc(c)),s||(s=bc(u)),!this.isGravityOverridden&&!s){let h=c;for(;h&&!i.isInline(h)&&!s;)h=h.previousSibling,s=bc(h)}if(!s){let h=u;for(;h&&!i.isInline(h)&&!s;)h=h.nextSibling,s=bc(h)}s||(s=this._getStoredAttributes())}else{const c=this.getFirstRange();for(const u of c){if(u.item.is("element")&&i.isObject(u.item))break;if("text"==u.type){s=u.item.getAttributes();break}}}return s}_fixGraveyardSelection(e){const i=this._model.schema.getNearestSelectionRange(e);i&&this._pushRange(i)}}function bc(l){return l instanceof li||l instanceof mt?l.getAttributes():null}class mh{constructor(e){this._dispatchers=e}add(e){for(const i of this._dispatchers)e(i);return this}}const qo=function(l){return vr(l,5)};class zm extends mh{elementToElement(e){return this.add(function(i){return(i=qo(i)).model=Hm(i.model),i.view=wc(i.view,"container"),i.model.attributes.length&&(i.model.children=!0),s=>{s.on("insert:"+i.model.name,function(c,u=_E){return(h,g,m)=>{if(!u(g.item,m.consumable,{preflight:!0}))return;const w=c(g.item,m,g);if(!w)return;u(g.item,m.consumable);const k=m.mapper.toViewPosition(g.range.start);m.mapper.bindElements(g.item,w),m.writer.insert(k,w),m.convertAttributes(g.item),xC(w,g.item.getChildren(),m,{reconversion:g.reconversion})}}(i.view,EC(i.model)),{priority:i.converterPriority||"normal"}),(i.model.children||i.model.attributes.length)&&s.on("reduceChanges",$m(i.model),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(i){return(i=qo(i)).model=Hm(i.model),i.view=wc(i.view,"container"),i.model.children=!0,s=>{if(s._conversionApi.schema.checkChild(i.model.name,"$text"))throw new A("conversion-element-to-structure-disallowed-text",s,{elementName:i.model.name});var c,u;s.on("insert:"+i.model.name,(c=i.view,u=EC(i.model),(h,g,m)=>{if(!u(g.item,m.consumable,{preflight:!0}))return;const w=new Map;var y,F,G;m.writer._registerSlotFactory((y=g.item,F=w,G=m,($,K="children")=>{const Y=$.createContainerElement("$slot");let ee=null;if("children"===K)ee=Array.from(y.getChildren());else{if("function"!=typeof K)throw new A("conversion-slot-mode-unknown",G.dispatcher,{modeOrFilter:K});ee=Array.from(y.getChildren()).filter(ce=>K(ce))}return F.set(Y,ee),Y}));const k=c(g.item,m,g);if(m.writer._clearSlotFactory(),!k)return;(function(y,F,G){const $=Array.from(F.values()).flat(),K=new Set($);if(K.size!=$.length)throw new A("conversion-slot-filter-overlap",G.dispatcher,{element:y});if(K.size!=y.childCount)throw new A("conversion-slot-filter-incomplete",G.dispatcher,{element:y})})(g.item,w,m),u(g.item,m.consumable);const v=m.mapper.toViewPosition(g.range.start);m.mapper.bindElements(g.item,k),m.writer.insert(v,k),m.convertAttributes(g.item),function(y,F,G,$){G.mapper.on("modelToViewPosition",ee,{priority:"highest"});let K=null,Y=null;for([K,Y]of F)xC(y,Y,G,$),G.writer.move(G.writer.createRangeIn(K),G.writer.createPositionBefore(K)),G.writer.remove(K);function ee(ce,Ie){const jt=Y.indexOf(Ie.modelPosition.nodeAfter);jt<0||(Ie.viewPosition=Ie.mapper.findPositionIn(K,jt))}G.mapper.off("modelToViewPosition",ee)}(k,w,m,{reconversion:g.reconversion})}),{priority:i.converterPriority||"normal"}),s.on("reduceChanges",$m(i.model),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(i){let s="attribute:"+((i=qo(i)).model.key?i.model.key:i.model);if(i.model.name&&(s+=":"+i.model.name),i.model.values)for(const u of i.model.values)i.view[u]=wc(i.view[u],"attribute");else i.view=wc(i.view,"attribute");const c=Gm(i);return u=>{var h;u.on(s,(h=c,(g,m,w)=>{if(!w.consumable.test(m.item,g.name))return;const k=h(m.attributeOldValue,w,m),v=h(m.attributeNewValue,w,m);if(!k&&!v)return;w.consumable.consume(m.item,g.name);const y=w.writer;if(m.item instanceof Zi||m.item instanceof po)y.wrap(y.document.selection.getFirstRange(),v);else{let G=w.mapper.toViewRange(m.range);null!==m.attributeOldValue&&k&&(G=y.unwrap(G,k)),null!==m.attributeNewValue&&v&&y.wrap(G,v)}}),{priority:i.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(i){let s="attribute:"+((i=qo(i)).model.key?i.model.key:i.model);if(i.model.name&&(s+=":"+i.model.name),i.model.values)for(const u of i.model.values)i.view[u]=Ki(i.view[u]);else i.view=Ki(i.view);const c=Gm(i);return u=>{var h;u.on(s,(h=c,(g,m,w)=>{if(!w.consumable.test(m.item,g.name))return;const k=h(m.attributeOldValue,w,m),v=h(m.attributeNewValue,w,m);if(!k&&!v)return;w.consumable.consume(m.item,g.name);const y=w.mapper.toViewElement(m.item),F=w.writer;if(!y)throw new A("conversion-attribute-to-attribute-on-text",w.dispatcher,m);if(null!==m.attributeOldValue&&k)if("class"==k.key){const G=Pt(k.value);for(const $ of G)F.removeClass($,y)}else if("style"==k.key){const G=Object.keys(k.value);for(const $ of G)F.removeStyle($,y)}else F.removeAttribute(k.key,y);if(null!==m.attributeNewValue&&v)if("class"==v.key){const G=Pt(v.value);for(const $ of G)F.addClass($,y)}else if("style"==v.key){const G=Object.keys(v.value);for(const $ of G)F.setStyle($,v.value[$],y)}else F.setAttribute(v.key,v.value,y)}),{priority:i.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(i){return(i=qo(i)).view=wc(i.view,"ui"),s=>{var c;s.on("addMarker:"+i.model,(c=i.view,(u,h,g)=>{h.isOpening=!0;const m=c(h,g);h.isOpening=!1;const w=c(h,g);if(!m||!w)return;const k=h.markerRange;if(k.isCollapsed&&!g.consumable.consume(k,u.name))return;for(const F of k)if(!g.consumable.consume(F.item,u.name))return;const v=g.mapper,y=g.writer;y.insert(v.toViewPosition(k.start),m),g.mapper.bindElementToMarker(m,h.markerName),k.isCollapsed||(y.insert(v.toViewPosition(k.end),w),g.mapper.bindElementToMarker(w,h.markerName)),u.stop()}),{priority:i.converterPriority||"normal"}),s.on("removeMarker:"+i.model,(u,h,g)=>{const m=g.mapper.markerNameToElements(h.markerName);if(m){for(const w of m)g.mapper.unbindElementFromMarkerName(w,h.markerName),g.writer.clear(g.writer.createRangeOn(w),w);g.writer.clearClonedElementsGroup(h.markerName),u.stop()}},{priority:i.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(i){return s=>{var c,u;s.on("addMarker:"+i.model,(c=i.view,(u,h,g)=>{if(!h.item||!(h.item instanceof Zi||h.item instanceof po||h.item.is("$textProxy")))return;const m=rs(c,h,g);if(!m||!g.consumable.consume(h.item,u.name))return;const w=g.writer,k=Vm(w,m),v=w.document.selection;if(h.item instanceof Zi||h.item instanceof po)w.wrap(v.getFirstRange(),k,v);else{const y=g.mapper.toViewRange(h.range),F=w.wrap(y,k);for(const G of F.getItems())if(G.is("attributeElement")&&G.isSimilar(k)){g.mapper.bindElementToMarker(G,h.markerName);break}}}),{priority:i.converterPriority||"normal"}),s.on("addMarker:"+i.model,(u=i.view,(h,g,m)=>{if(!(g.item&&g.item instanceof xt))return;const w=rs(u,g,m);if(!w||!m.consumable.test(g.item,h.name))return;const k=m.mapper.toViewElement(g.item);if(k&&k.getCustomProperty("addHighlight")){m.consumable.consume(g.item,h.name);for(const v of oe._createIn(g.item))m.consumable.consume(v.item,h.name);k.getCustomProperty("addHighlight")(k,w,m.writer),m.mapper.bindElementToMarker(k,g.markerName)}}),{priority:i.converterPriority||"normal"}),s.on("removeMarker:"+i.model,function(u){return(h,g,m)=>{if(g.markerRange.isCollapsed)return;const w=rs(u,g,m);if(!w)return;const k=Vm(m.writer,w),v=m.mapper.markerNameToElements(g.markerName);if(v){for(const y of v)m.mapper.unbindElementFromMarkerName(y,g.markerName),y.is("attributeElement")?m.writer.unwrap(m.writer.createRangeOn(y),k):y.getCustomProperty("removeHighlight")(y,w.id,m.writer);m.writer.clearClonedElementsGroup(g.markerName),h.stop()}}}(i.view),{priority:i.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(i){const s=(i=qo(i)).model;return i.view||(i.view=c=>({group:s,name:c.substr(i.model.length+1)})),c=>{var u,h;c.on("addMarker:"+s,(u=i.view,(h,g,m)=>{const w=u(g.markerName,m);if(!w)return;const k=g.markerRange;m.consumable.consume(k,h.name)&&(Um(k,!1,m,g,w),Um(k,!0,m,g,w),h.stop())}),{priority:i.converterPriority||"normal"}),c.on("removeMarker:"+s,(h=i.view,(g,m,w)=>{const k=h(m.markerName,w);if(!k)return;const v=w.mapper.markerNameToElements(m.markerName);if(v){for(const F of v)w.mapper.unbindElementFromMarkerName(F,m.markerName),F.is("containerElement")?(y(`data-${k.group}-start-before`,F),y(`data-${k.group}-start-after`,F),y(`data-${k.group}-end-before`,F),y(`data-${k.group}-end-after`,F)):w.writer.clear(w.writer.createRangeOn(F),F);w.writer.clearClonedElementsGroup(m.markerName),g.stop()}function y(F,G){if(G.hasAttribute(F)){const $=new Set(G.getAttribute(F).split(","));$.delete(k.name),0==$.size?w.writer.removeAttribute(F,G):w.writer.setAttribute(F,Array.from($).join(","),G)}}}),{priority:i.converterPriority||"normal"})}}(e))}}function Vm(l,e){const i=l.createAttributeElement("span",e.attributes);return e.classes&&i._addClass(e.classes),"number"==typeof e.priority&&(i._priority=e.priority),i._id=e.id,i}function Um(l,e,i,s,c){const u=e?l.start:l.end,h=u.nodeAfter&&u.nodeAfter.is("element")?u.nodeAfter:null,g=u.nodeBefore&&u.nodeBefore.is("element")?u.nodeBefore:null;if(h||g){let m,w;e&&h||!e&&!g?(m=h,w=!0):(m=g,w=!1);const k=i.mapper.toViewElement(m);if(k)return void function(v,y,F,G,$,K){const Y=`data-${K.group}-${y?"start":"end"}-${F?"before":"after"}`,ee=v.hasAttribute(Y)?v.getAttribute(Y).split(","):[];ee.unshift(K.name),G.writer.setAttribute(Y,ee.join(","),v),G.mapper.bindElementToMarker(v,$.markerName)}(k,e,w,i,s,c)}!function(m,w,k,v,y){const $=k.writer.createUIElement(`${y.group}-${w?"start":"end"}`,y.name?{name:y.name}:null);k.writer.insert(m,$),k.mapper.bindElementToMarker($,v.markerName)}(i.mapper.toViewPosition(u),e,i,s,c)}function Hm(l){return"string"==typeof l&&(l={name:l}),l.attributes?Array.isArray(l.attributes)||(l.attributes=[l.attributes]):l.attributes=[],l.children=!!l.children,l}function wc(l,e){return"function"==typeof l?l:(i,s)=>function(c,u,h){let g;"string"==typeof c&&(c={name:c});const m=u.writer,w=Object.assign({},c.attributes);if(g="container"==h?m.createContainerElement(c.name,w):"attribute"==h?m.createAttributeElement(c.name,w,{priority:c.priority||go.DEFAULT_PRIORITY}):m.createUIElement(c.name,w),c.styles){const k=Object.keys(c.styles);for(const v of k)m.setStyle(v,c.styles[v],g)}if(c.classes){const k=c.classes;if("string"==typeof k)m.addClass(k,g);else for(const v of k)m.addClass(v,g)}return g}(l,s,e)}function Gm(l){return l.model.values?(e,i)=>{const s=l.view[e];return s?s(e,i):null}:l.view}function Ki(l){return"string"==typeof l?e=>({key:l,value:e}):"object"==typeof l?l.value?()=>l:e=>({key:l.key,value:e}):l}function rs(l,e,i){const s="function"==typeof l?l(e,i):l;return s?(s.priority||(s.priority=10),s.id||(s.id=e.markerName),s):null}function $m(l){const e=function(i){return(s,c)=>{if(!s.is("element",i.name))return!1;if("attribute"==c.type){if(i.attributes.includes(c.attributeKey))return!0}else if(i.children)return!0;return!1}}(l);return(i,s)=>{const c=[];s.reconvertedElements||(s.reconvertedElements=new Set);for(const u of s.changes){const h=u.position?u.position.parent:u.range.start.nodeAfter;if(h&&e(h,u)){if(!s.reconvertedElements.has(h)){s.reconvertedElements.add(h);const g=he._createBefore(h);c.push({type:"remove",name:h.name,position:g,length:1},{type:"reinsert",name:h.name,position:g,length:1})}}else c.push(u)}s.changes=c}}function EC(l){return(e,i,s={})=>{const c=["insert"];for(const u of l.attributes)e.hasAttribute(u)&&c.push(`attribute:${u}`);return!!c.every(u=>i.test(e,u))&&(s.preflight||c.forEach(u=>i.consume(e,u)),!0)}}function xC(l,e,i,s){for(const c of e)kE(l.root,c,i,s)||i.convertItem(c)}function kE(l,e,i,s){const{writer:c,mapper:u}=i;if(!s.reconversion)return!1;const h=u.toViewElement(e);return!(!h||h.root==l||!i.canReuseView(h)||(c.move(c.createRangeOn(h),u.toViewPosition(he._createBefore(e))),0))}function _E(l,e,{preflight:i}={}){return i?e.test(l,"insert"):e.consume(l,"insert")}function MC(l){const{schema:e,document:i}=l.model;for(const s of i.getRootNames()){const c=i.getRoot(s);if(c.isEmpty&&!e.checkChild(c,"$text")&&e.checkChild(c,"paragraph"))return l.insertElement("paragraph",c),!0}return!1}function bh(l,e,i){const s=i.createContext(l);return!!i.checkChild(s,"paragraph")&&!!i.checkChild(s.push("paragraph"),e)}function Wm(l,e){const i=e.createElement("paragraph");return e.insert(i,l),e.createPositionAt(i,0)}class IC extends mh{elementToElement(e){return this.add(qm(e))}elementToAttribute(e){return this.add(function(i){Zm(i=qo(i));const s=kc(i,!1),c=wh(i.view),u=c?"element:"+c:"element";return h=>{h.on(u,s,{priority:i.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(i){let s=null;("string"==typeof(i=qo(i)).view||i.view.key)&&(s=function(u){"string"==typeof u.view&&(u.view={key:u.view});const h=u.view.key;let g;return g="class"==h||"style"==h?{["class"==h?"classes":"styles"]:u.view.value}:{attributes:{[h]:void 0===u.view.value?/[\s\S]*/:u.view.value}},u.view.name&&(g.name=u.view.name),u.view=g,h}(i)),Zm(i,s);const c=kc(i,!0);return u=>{u.on("element",c,{priority:i.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(i){return function(s){const c=s.model;s.model=(u,h)=>{const g="string"==typeof c?c:c(u,h);return h.writer.createElement("$marker",{"data-name":g})}}(i=qo(i)),qm(i)}(e))}dataToMarker(e){return this.add(function(i){(i=qo(i)).model||(i.model=u=>u?i.view+":"+u:i.view);const s=Qm(kh(i,"start")),c=Qm(kh(i,"end"));return u=>{u.on("element:"+i.view+"-start",s,{priority:i.converterPriority||"normal"}),u.on("element:"+i.view+"-end",c,{priority:i.converterPriority||"normal"});const h=L.get("low"),g=L.get("highest"),m=L.get(i.converterPriority)/g;var w;u.on("element",(w=i,(k,v,y)=>{const F=`data-${w.view}`;function G($,K){for(const Y of K){const ee=w.model(Y,y),ce=y.writer.createElement("$marker",{"data-name":ee});y.writer.insert(ce,$),v.modelCursor=v.modelCursor.isEqual($)?v.modelCursor.getShiftedBy(1):v.modelCursor._getTransformedByInsertion($,1),v.modelRange=v.modelRange._getTransformedByInsertion($,1)[0]}}(y.consumable.test(v.viewItem,{attributes:F+"-end-after"})||y.consumable.test(v.viewItem,{attributes:F+"-start-after"})||y.consumable.test(v.viewItem,{attributes:F+"-end-before"})||y.consumable.test(v.viewItem,{attributes:F+"-start-before"}))&&(v.modelRange||Object.assign(v,y.convertChildren(v.viewItem,v.modelCursor)),y.consumable.consume(v.viewItem,{attributes:F+"-end-after"})&&G(v.modelRange.end,v.viewItem.getAttribute(F+"-end-after").split(",")),y.consumable.consume(v.viewItem,{attributes:F+"-start-after"})&&G(v.modelRange.end,v.viewItem.getAttribute(F+"-start-after").split(",")),y.consumable.consume(v.viewItem,{attributes:F+"-end-before"})&&G(v.modelRange.start,v.viewItem.getAttribute(F+"-end-before").split(",")),y.consumable.consume(v.viewItem,{attributes:F+"-start-before"})&&G(v.modelRange.start,v.viewItem.getAttribute(F+"-start-before").split(",")))}),{priority:h+m})}}(e))}}function qm(l){const e=Qm(l=qo(l)),i=wh(l.view),s=i?"element:"+i:"element";return c=>{c.on(s,e,{priority:l.converterPriority||"normal"})}}function wh(l){return"string"==typeof l?l:"object"==typeof l&&"string"==typeof l.name?l.name:null}function Qm(l){const e=new $i(l.view);return(i,s,c)=>{const u=e.match(s.viewItem);if(!u)return;const h=u.match;if(h.name=!0,!c.consumable.test(s.viewItem,h))return;const g=(k=c,(m=l.model)instanceof Function?m(s.viewItem,k):k.writer.createElement(m));var m,k;g&&c.safeInsert(g,s.modelCursor)&&(c.consumable.consume(s.viewItem,h),c.convertChildren(s.viewItem,g),c.updateConversionResult(g,s))}}function Zm(l,e=null){l.model={key:"object"!=typeof l.model?l.model:l.model.key,value:"object"!=typeof l.model||void 0===l.model.value?null===e||(u=>u.getAttribute(e)):l.model.value}}function kc(l,e){const i=new $i(l.view);return(s,c,u)=>{if(!c.modelRange&&e)return;const h=i.match(c.viewItem);if(!h||(function(k,v){const y="function"==typeof k?k(v):k;return!("object"==typeof y&&!wh(y)||y.classes||y.attributes||y.styles)}(l.view,c.viewItem)?h.match.name=!0:delete h.match.name,!u.consumable.test(c.viewItem,h.match)))return;const g=l.model.key,m="function"==typeof l.model.value?l.model.value(c.viewItem,u):l.model.value;null!==m&&(c.modelRange||Object.assign(c,u.convertChildren(c.viewItem,c.modelCursor)),function(k,v,y,F){let G=!1;for(const $ of Array.from(k.getItems({shallow:y})))F.schema.checkAttribute($,v.key)&&(G=!0,$.hasAttribute(v.key)||F.writer.setAttribute(v.key,v.value,$));return G}(c.modelRange,{key:g,value:m},e,u)&&(u.consumable.test(c.viewItem,{name:!0})&&(h.match.name=!0),u.consumable.consume(c.viewItem,h.match)))}}function kh(l,e){const i={};return i.view=l.view+"-"+e,i.model=(s,c)=>{const u=s.getAttribute("name"),h=l.model(u,c);return c.writer.createElement("$marker",{"data-name":h})},i}class di{constructor(e,i){this.model=e,this.view=new Bm(i),this.mapper=new is,this.downcastDispatcher=new ed({mapper:this.mapper,schema:e.schema});const s=this.model.document,c=s.selection,u=this.model.markers;var h,g;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(s,"change",()=>{this.view.change(h=>{this.downcastDispatcher.convertChanges(s.differ,u,h),this.downcastDispatcher.convertSelection(c,u,h)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",(h=this.model,g=this.mapper,(m,w)=>{const k=w.newSelection,v=[];for(const F of k.getRanges())v.push(g.toModelRange(F));const y=h.createSelection(v,{backward:k.isBackward});y.isEqual(h.document.selection)||h.change(F=>{F.setSelection(y)})})),this.downcastDispatcher.on("insert:$text",(h,g,m)=>{if(!m.consumable.consume(g.item,h.name))return;const w=m.writer,k=m.mapper.toViewPosition(g.range.start),v=w.createText(g.item.data);w.insert(k,v)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(h,g,m)=>{m.convertAttributes(g.item),g.reconversion||!g.item.is("element")||g.item.isEmpty||m.convertChildren(g.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(h,g,m)=>{const w=m.mapper.toViewPosition(g.position),k=g.position.getShiftedBy(g.length),v=m.mapper.toViewPosition(k,{isPhantom:!0}),y=m.writer.createRange(w,v),F=m.writer.remove(y.getTrimmed());for(const G of m.writer.createRangeIn(F).getItems())m.mapper.unbindViewElement(G,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("selection",(h,g,m)=>{const w=m.writer,k=w.document.selection;for(const v of k.getRanges())v.isCollapsed&&v.end.parent.isAttached()&&m.writer.mergeAttributes(v.start);w.setSelection(null)},{priority:"high"}),this.downcastDispatcher.on("selection",(h,g,m)=>{const w=g.selection;if(w.isCollapsed||!m.consumable.consume(w,"selection"))return;const k=[];for(const v of w.getRanges()){const y=m.mapper.toViewRange(v);k.push(y)}m.writer.setSelection(k,{backward:w.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(h,g,m)=>{const w=g.selection;if(!w.isCollapsed||!m.consumable.consume(w,"selection"))return;const k=m.writer,v=w.getFirstPosition(),y=m.mapper.toViewPosition(v),F=k.breakAttributes(y);k.setSelection(F)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(h=>{if("$graveyard"==h.rootName)return null;const g=new fe(this.view.document,h.name);return g.rootName=h.rootName,this.mapper.bindElements(h,g),g})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const i="string"==typeof e?e:e.name,s=this.model.markers.get(i);if(!s)throw new A("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:i});this.model.change(()=>{this.model.markers._refresh(s)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}Ae(di,je);class _c{constructor(){this._commands=new Map}add(e,i){this._commands.set(e,i)}get(e){return this._commands.get(e)}execute(e,...i){const s=this.get(e);if(!s)throw new A("commandcollection-command-not-found",this,{commandName:e});return s.execute(...i)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class na{constructor(){this._consumables=new Map}add(e,i){let s;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?s=this._consumables.get(e):(s=new Km(e),this._consumables.set(e,s)),s.add(i))}test(e,i){const s=this._consumables.get(e);return void 0===s?null:e.is("$text")||e.is("documentFragment")?s:s.test(i)}consume(e,i){return!!this.test(e,i)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(i),!0)}revert(e,i){const s=this._consumables.get(e);void 0!==s&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):s.revert(i))}static consumablesFromElement(e){const i={element:e,name:!0,attributes:[],classes:[],styles:[]},s=e.getAttributeKeys();for(const h of s)"style"!=h&&"class"!=h&&i.attributes.push(h);const c=e.getClassNames();for(const h of c)i.classes.push(h);const u=e.getStyleNames();for(const h of u)i.styles.push(h);return i}static createFrom(e,i){if(i||(i=new na(e)),e.is("$text"))return i.add(e),i;e.is("element")&&i.add(e,na.consumablesFromElement(e)),e.is("documentFragment")&&i.add(e);for(const s of e.getChildren())i=na.createFrom(s,i);return i}}class Km{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const i in this._consumables)i in e&&this._add(i,e[i])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const i in this._consumables)if(i in e){const s=this._test(i,e[i]);if(!0!==s)return s}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const i in this._consumables)i in e&&this._consume(i,e[i])}revert(e){e.name&&(this._canConsumeName=!0);for(const i in this._consumables)i in e&&this._revert(i,e[i])}_add(e,i){const s=Jt(i)?i:[i],c=this._consumables[e];for(const u of s){if("attributes"===e&&("class"===u||"style"===u))throw new A("viewconsumable-invalid-attribute",this);if(c.set(u,!0),"styles"===e)for(const h of this.element.document.stylesProcessor.getRelatedStyles(u))c.set(h,!0)}}_test(e,i){const s=Jt(i)?i:[i],c=this._consumables[e];for(const u of s)if("attributes"!==e||"class"!==u&&"style"!==u){const h=c.get(u);if(void 0===h)return null;if(!h)return!1}else{const h="class"==u?"classes":"styles",g=this._test(h,[...this._consumables[h].keys()]);if(!0!==g)return g}return!0}_consume(e,i){const s=Jt(i)?i:[i],c=this._consumables[e];for(const u of s)if("attributes"!==e||"class"!==u&&"style"!==u){if(c.set(u,!1),"styles"==e)for(const h of this.element.document.stylesProcessor.getRelatedStyles(u))c.set(h,!1)}else{const h="class"==u?"classes":"styles";this._consume(h,[...this._consumables[h].keys()])}}_revert(e,i){const s=Jt(i)?i:[i],c=this._consumables[e];for(const u of s)if("attributes"!==e||"class"!==u&&"style"!==u)!1===c.get(u)&&c.set(u,!0);else{const h="class"==u?"classes":"styles";this._revert(h,[...this._consumables[h].keys()])}}}class _h{constructor(){this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,i)=>{i[0]=new oa(i[0])},{priority:"highest"}),this.on("checkChild",(e,i)=>{i[0]=new oa(i[0]),i[1]=this.getDefinition(i[1])},{priority:"highest"})}register(e,i){if(this._sourceDefinitions[e])throw new A("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},i)],this._clearCache()}extend(e,i){if(!this._sourceDefinitions[e])throw new A("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},i)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let i;return i="string"==typeof e?e:e.is&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[i]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const i=this.getDefinition(e);return!(!i||!i.isBlock)}isLimit(e){const i=this.getDefinition(e);return!(!i||!i.isLimit&&!i.isObject)}isObject(e){const i=this.getDefinition(e);return!!i&&!!(i.isObject||i.isLimit&&i.isSelectable&&i.isContent)}isInline(e){const i=this.getDefinition(e);return!(!i||!i.isInline)}isSelectable(e){const i=this.getDefinition(e);return!(!i||!i.isSelectable&&!i.isObject)}isContent(e){const i=this.getDefinition(e);return!(!i||!i.isContent&&!i.isObject)}checkChild(e,i){return!!i&&this._checkContextMatch(i,e)}checkAttribute(e,i){const s=this.getDefinition(e.last);return!!s&&s.allowAttributes.includes(i)}checkMerge(e,i=null){if(e instanceof he){const s=e.nodeBefore,c=e.nodeAfter;if(!(s instanceof xt))throw new A("schema-check-merge-no-element-before",this);if(!(c instanceof xt))throw new A("schema-check-merge-no-element-after",this);return this.checkMerge(s,c)}for(const s of i.getChildren())if(!this.checkChild(e,s))return!1;return!0}addChildCheck(e){this.on("checkChild",(i,[s,c])=>{if(!c)return;const u=e(s,c);"boolean"==typeof u&&(i.stop(),i.return=u)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(i,[s,c])=>{const u=e(s,c);"boolean"==typeof u&&(i.stop(),i.return=u)},{priority:"high"})}setAttributeProperties(e,i){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),i)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let i;for(i=e instanceof he?e.parent:(e instanceof oe?[e]:Array.from(e.getRanges())).reduce((s,c)=>{const u=c.getCommonAncestor();return s?s.getCommonAncestor(u,{includeSelf:!0}):u},null);!this.isLimit(i)&&i.parent;)i=i.parent;return i}checkAttributeInSelection(e,i){if(e.isCollapsed){const s=[...e.getFirstPosition().getAncestors(),new mt("",e.getAttributes())];return this.checkAttribute(s,i)}{const s=e.getRanges();for(const c of s)for(const u of c)if(this.checkAttribute(u.item,i))return!0}return!1}*getValidRanges(e,i){e=function*(s){for(const c of s)yield*c.getMinimalFlatRanges()}(e);for(const s of e)yield*this._getValidRangesForRange(s,i)}getNearestSelectionRange(e,i="both"){if(this.checkChild(e,"$text"))return new oe(e);let s,c;const u=e.getAncestors().reverse().find(h=>this.isLimit(h))||e.root;"both"!=i&&"backward"!=i||(s=new xi({boundaries:oe._createIn(u),startPosition:e,direction:"backward"})),"both"!=i&&"forward"!=i||(c=new xi({boundaries:oe._createIn(u),startPosition:e}));for(const h of function*(g,m){let w=!1;for(;!w;){if(w=!0,g){const k=g.next();k.done||(w=!1,yield{walker:g,value:k.value})}if(m){const k=m.next();k.done||(w=!1,yield{walker:m,value:k.value})}}}(s,c)){const m=h.value;if(m.type==(h.walker==s?"elementEnd":"elementStart")&&this.isObject(m.item))return oe._createOn(m.item);if(this.checkChild(m.nextPosition,"$text"))return new oe(m.nextPosition)}return null}findAllowedParent(e,i){let s=e.parent;for(;s;){if(this.checkChild(s,i))return s;if(this.isLimit(s))return null;s=s.parent}return null}setAllowedAttributes(e,i,s){const c=s.model;for(const[u,h]of Object.entries(i))c.schema.checkAttribute(e,u)&&s.setAttribute(u,h,e)}removeDisallowedAttributes(e,i){for(const s of e)if(s.is("$text"))Ah(this,s,i);else{const c=oe._createIn(s).getPositions();for(const u of c)Ah(this,u.nodeBefore||u.parent,i)}}getAttributesWithProperty(e,i,s){const c={};for(const[u,h]of e.getAttributes()){const g=this.getAttributeProperties(u);void 0!==g[i]&&(void 0!==s&&s!==g[i]||(c[u]=h))}return c}createContext(e){return new oa(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},i=this._sourceDefinitions,s=Object.keys(i);for(const c of s)e[c]=vE(i[c],c);for(const c of s)CE(e,c);for(const c of s)vh(e,c);for(const c of s)Ch(e,c);for(const c of s)yh(e,c),yE(e,c);for(const c of s)AE(e,c),Ym(e,c),SC(e,c);this._compiledDefinitions=e}_checkContextMatch(e,i,s=i.length-1){const c=i.getItem(s);if(e.allowIn.includes(c.name)){if(0==s)return!0;{const u=this.getDefinition(c);return this._checkContextMatch(u,i,s-1)}}return!1}*_getValidRangesForRange(e,i){let s=e.start,c=e.start;for(const u of e.getItems({shallow:!0}))u.is("element")&&(yield*this._getValidRangesForRange(oe._createIn(u),i)),this.checkAttribute(u,i)||(s.isEqual(c)||(yield new oe(s,c)),s=he._createAfter(u)),c=he._createAfter(u);s.isEqual(c)||(yield new oe(s,c))}}Ae(_h,je);class oa{constructor(e){if(e instanceof oa)return e;"string"==typeof e?e=[e]:Array.isArray(e)||(e=e.getAncestors({includeSelf:!0})),this._items=e.map(NC)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const i=new oa([e]);return i._items=[...this._items,...i._items],i}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function vE(l,e){const i={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(s,c){for(const u of s){const h=Object.keys(u).filter(g=>g.startsWith("is"));for(const g of h)c[g]=u[g]}}(l,i),ss(l,i,"allowIn"),ss(l,i,"allowContentOf"),ss(l,i,"allowWhere"),ss(l,i,"allowAttributes"),ss(l,i,"allowAttributesOf"),ss(l,i,"allowChildren"),ss(l,i,"inheritTypesFrom"),function(s,c){for(const u of s){const h=u.inheritAllFrom;h&&(c.allowContentOf.push(h),c.allowWhere.push(h),c.allowAttributesOf.push(h),c.inheritTypesFrom.push(h))}}(l,i),i}function CE(l,e){const i=l[e];for(const s of i.allowChildren){const c=l[s];c&&c.allowIn.push(e)}i.allowChildren.length=0}function vh(l,e){for(const i of l[e].allowContentOf)l[i]&&TC(l,i).forEach(s=>{s.allowIn.push(e)});delete l[e].allowContentOf}function Ch(l,e){for(const i of l[e].allowWhere){const s=l[i];s&&l[e].allowIn.push(...s.allowIn)}delete l[e].allowWhere}function yh(l,e){for(const i of l[e].allowAttributesOf){const s=l[i];s&&l[e].allowAttributes.push(...s.allowAttributes)}delete l[e].allowAttributesOf}function yE(l,e){const i=l[e];for(const s of i.inheritTypesFrom){const c=l[s];if(c){const u=Object.keys(c).filter(h=>h.startsWith("is"));for(const h of u)h in i||(i[h]=c[h])}}delete i.inheritTypesFrom}function AE(l,e){const i=l[e],s=i.allowIn.filter(c=>l[c]);i.allowIn=Array.from(new Set(s))}function Ym(l,e){const i=l[e];for(const s of i.allowIn)l[s].allowChildren.push(e)}function SC(l,e){const i=l[e];i.allowAttributes=Array.from(new Set(i.allowAttributes))}function ss(l,e,i){for(const s of l)"string"==typeof s[i]?e[i].push(s[i]):Array.isArray(s[i])&&e[i].push(...s[i])}function TC(l,e){const i=l[e];return(s=l,Object.keys(s).map(c=>s[c])).filter(c=>c.allowIn.includes(i.name));var s}function NC(l){return"string"==typeof l||l.is("documentFragment")?{name:"string"==typeof l?l:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:l.is("element")?l.name:"$text",*getAttributeKeys(){yield*l.getAttributeKeys()},getAttribute:e=>l.getAttribute(e)}}function Ah(l,e,i){for(const s of e.getAttributeKeys())l.checkAttribute(e,s)||i.removeAttribute(s,e)}class vc{constructor(e={}){this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=Object.assign({},e),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.safeInsert=this._safeInsert.bind(this),this.conversionApi.updateConversionResult=this._updateConversionResult.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this),this.conversionApi.keepEmptyElement=this._keepEmptyElement.bind(this)}convert(e,i,s=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(h,g){let m;for(const w of new oa(h)){const k={};for(const y of w.getAttributeKeys())k[y]=w.getAttribute(y);const v=g.createElement(w.name,k);m&&g.append(v,m),m=he._createAt(v,0)}return m}(s,i),this.conversionApi.writer=i,this.conversionApi.consumable=na.createFrom(e),this.conversionApi.store={};const{modelRange:c}=this._convertItem(e,this._modelCursor),u=i.createDocumentFragment();if(c){this._removeEmptyElements();for(const h of Array.from(this._modelCursor.parent.getChildren()))i.append(h,u);u.markers=function(h,g){const m=new Set,w=new Map,k=oe._createIn(h).getItems();for(const v of k)"$marker"==v.name&&m.add(v);for(const v of m){const y=v.getAttribute("data-name"),F=g.createPositionBefore(v);w.has(y)?w.get(y).end=F.clone():w.set(y,new oe(F.clone())),g.remove(v)}return w}(u,i)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,u}_convertItem(e,i){const s=Object.assign({viewItem:e,modelCursor:i,modelRange:null});if(e.is("element")?this.fire("element:"+e.name,s,this.conversionApi):e.is("$text")?this.fire("text",s,this.conversionApi):this.fire("documentFragment",s,this.conversionApi),s.modelRange&&!(s.modelRange instanceof oe))throw new A("view-conversion-dispatcher-incorrect-result",this);return{modelRange:s.modelRange,modelCursor:s.modelCursor}}_convertChildren(e,i){let s=i.is("position")?i:he._createAt(i,0);const c=new oe(s);for(const u of Array.from(e.getChildren())){const h=this._convertItem(u,s);h.modelRange instanceof oe&&(c.end=h.modelRange.end,s=h.modelCursor)}return{modelRange:c,modelCursor:s}}_safeInsert(e,i){const s=this._splitToAllowedParent(e,i);return!!s&&(this.conversionApi.writer.insert(e,s.position),!0)}_updateConversionResult(e,i){const s=this._getSplitParts(e),c=this.conversionApi.writer;i.modelRange||(i.modelRange=c.createRange(c.createPositionBefore(e),c.createPositionAfter(s[s.length-1])));const u=this._cursorParents.get(e);i.modelCursor=u?c.createPositionAt(u,0):i.modelRange.end}_splitToAllowedParent(e,i){const{schema:s,writer:c}=this.conversionApi;let u=s.findAllowedParent(i,e);if(u){if(u===i.parent)return{position:i};this._modelCursor.parent.getAncestors().includes(u)&&(u=null)}if(!u)return bh(i,e,s)?{position:Wm(i,c)}:null;const h=this.conversionApi.writer.split(i,u),g=[];for(const w of h.range.getWalker())if("elementEnd"==w.type)g.push(w.item);else{const k=g.pop();this._registerSplitPair(k,w.item)}const m=h.range.end.parent;return this._cursorParents.set(e,m),{position:h.position,cursorParent:m}}_registerSplitPair(e,i){this._splitParts.has(e)||this._splitParts.set(e,[e]);const s=this._splitParts.get(e);this._splitParts.set(i,s),s.push(i)}_getSplitParts(e){let i;return i=this._splitParts.has(e)?this._splitParts.get(e):[e],i}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const i of this._splitParts.keys())i.isEmpty&&!this._emptyElementsToKeep.has(i)&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),e=!0);e&&this._removeEmptyElements()}}Ae(vc,ne);class PC{getHtml(e){const i=document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(e),i.innerHTML}}class Dh{constructor(e){this.domParser=new DOMParser,this.domConverter=new ac(e,{renderingMode:"data"}),this.htmlWriter=new PC}toData(e){const i=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(i)}toView(e){const i=this._toDom(e);return this.domConverter.domToView(i)}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode="marked"==e?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const i=this.domParser.parseFromString(e,"text/html"),s=i.createDocumentFragment(),c=i.body.childNodes;for(;c.length>0;)s.appendChild(c[0]);return s}}class Jm{constructor(e,i){this.model=e,this.mapper=new is,this.downcastDispatcher=new ed({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(s,c,u)=>{if(!u.consumable.consume(c.item,s.name))return;const h=u.writer,g=u.mapper.toViewPosition(c.range.start),m=h.createText(c.item.data);h.insert(g,m)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(s,c,u)=>{u.convertAttributes(c.item),c.reconversion||!c.item.is("element")||c.item.isEmpty||u.convertChildren(c.item)},{priority:"lowest"}),this.upcastDispatcher=new vc({schema:e.schema}),this.viewDocument=new Ci(i),this.stylesProcessor=i,this.htmlProcessor=new Dh(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new wm(this.viewDocument),this.upcastDispatcher.on("text",(s,c,{schema:u,consumable:h,writer:g})=>{let m=c.modelCursor;if(!h.test(c.viewItem))return;if(!u.checkChild(m,"$text")){if(!bh(m,"$text",u)||0==c.viewItem.data.trim().length)return;m=Wm(m,g)}h.consume(c.viewItem);const w=g.createText(c.viewItem.data);g.insert(w,m),c.modelRange=g.createRange(m,m.getShiftedBy(w.offsetSize)),c.modelCursor=c.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(s,c,u)=>{if(!c.modelRange&&u.consumable.consume(c.viewItem,{name:!0})){const{modelRange:h,modelCursor:g}=u.convertChildren(c.viewItem,c.modelCursor);c.modelRange=h,c.modelCursor=g}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(s,c,u)=>{if(!c.modelRange&&u.consumable.consume(c.viewItem,{name:!0})){const{modelRange:h,modelCursor:g}=u.convertChildren(c.viewItem,c.modelCursor);c.modelRange=h,c.modelCursor=g}},{priority:"lowest"}),this.decorate("init"),this.decorate("set"),this.decorate("get"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},MC)},{priority:"lowest"})}get(e={}){const{rootName:i="main",trim:s="empty"}=e;if(!this._checkIfRootsExists([i]))throw new A("datacontroller-get-non-existent-root",this);const c=this.model.document.getRoot(i);return"empty"!==s||this.model.hasContent(c,{ignoreWhitespaces:!0})?this.stringify(c,e):""}stringify(e,i={}){const s=this.toView(e,i);return this.processor.toData(s)}toView(e,i={}){const s=this.viewDocument,c=this._viewWriter;this.mapper.clearBindings();const u=oe._createIn(e),h=new Xr(s);this.mapper.bindElements(e,h);const g=e.is("documentFragment")?e.markers:function(m){const w=[],k=m.root.document;if(!k)return new Map;const v=oe._createIn(m);for(const y of k.model.markers){const F=y.getRange(),G=F.isCollapsed,$=F.start.isEqual(v.start)||F.end.isEqual(v.end);if(G&&$)w.push([y.name,F]);else{const K=v.getIntersection(F);K&&w.push([y.name,K])}}return w.sort(([y,F],[G,$])=>{if("after"!==F.end.compareWith($.start))return 1;if("before"!==F.start.compareWith($.end))return-1;switch(F.start.compareWith($.start)){case"before":return 1;case"after":return-1;default:switch(F.end.compareWith($.end)){case"before":return 1;case"after":return-1;default:return G.localeCompare(y)}}}),new Map(w)}(e);return this.downcastDispatcher.convert(u,g,c,i),h}init(e){if(this.model.document.version)throw new A("datacontroller-init-document-not-empty",this);let i={};if("string"==typeof e?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new A("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},s=>{for(const c of Object.keys(i)){const u=this.model.document.getRoot(c);s.insert(this.parse(i[c],u),u,0)}}),Promise.resolve()}set(e,i={}){let s={};if("string"==typeof e?s.main=e:s=e,!this._checkIfRootsExists(Object.keys(s)))throw new A("datacontroller-set-non-existent-root",this);this.model.enqueueChange(i.batchType||{},c=>{c.setSelection(null),c.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const u of Object.keys(s)){const h=this.model.document.getRoot(u);c.remove(c.createRangeIn(h)),c.insert(this.parse(s[u],h),h,0)}})}parse(e,i="$root"){const s=this.processor.toView(e);return this.toModel(s,i)}toModel(e,i="$root"){return this.model.change(s=>this.upcastDispatcher.convert(e,s,i))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const i of e)if(!this.model.document.getRootNames().includes(i))return!1;return!0}}Ae(Jm,je);class bn{constructor(e,i){this._helpers=new Map,this._downcast=Pt(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Pt(i),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,i){const s=this._downcast.includes(i);if(!this._upcast.includes(i)&&!s)throw new A("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[i],isDowncast:s})}for(e){if(!this._helpers.has(e))throw new A("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:i,view:s}of Eh(e))this.for("upcast").elementToElement({model:i,view:s,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:i,view:s}of Eh(e))this.for("upcast").elementToAttribute({view:s,model:i,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:i,view:s}of Eh(e))this.for("upcast").attributeToAttribute({view:s,model:i})}_createConversionHelpers({name:e,dispatchers:i,isDowncast:s}){if(this._helpers.has(e))throw new A("conversion-group-exists",this);const c=s?new zm(i):new IC(i);this._helpers.set(e,c)}}function*Eh(l){if(l.model.values)for(const e of l.model.values){const i={key:l.model.key,value:e},s=l.view[e],c=l.upcastAlso?l.upcastAlso[e]:void 0;yield*Xm(i,s,c)}else yield*Xm(l.model,l.view,l.upcastAlso)}function*Xm(l,e,i){if(yield{model:l,view:e},i)for(const s of Pt(i))yield{model:l,view:s}}class Mi{constructor(e={}){"string"==typeof e&&(e="transparent"===e?{isUndoable:!1}:{},Q("batch-constructor-deprecated-string-type"));const{isUndoable:i=!0,isLocal:s=!0,isUndo:c=!1,isTyping:u=!1}=e;this.operations=[],this.isUndoable=i,this.isLocal=s,this.isUndo=c,this.isTyping=u}get type(){return Q("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(null!==e.baseVersion)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class To{constructor(e){this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e){return new this(e.baseVersion)}}class Yi{constructor(e){this.markers=new Map,this._children=new Ei,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(e){return"documentFragment"===e||"model:documentFragment"===e}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let i=this;for(const s of e)i=i.getChild(i.offsetToIndex(s));return i}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const i of this._children)e.push(i.toJSON());return e}static fromJSON(e){const i=[];for(const s of e)i.push(s.name?xt.fromJSON(s):mt.fromJSON(s));return new Yi(i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const s="string"==typeof(c=i)?[new mt(c)]:(nn(c)||(c=[c]),Array.from(c).map(u=>"string"==typeof u?new mt(u):u instanceof li?new mt(u.data,u.getAttributes()):u));var c;for(const c of s)null!==c.parent&&c._remove(),c.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,i=1){const s=this._children._removeNodes(e,i);for(const c of s)c.parent=null;return s}}function xh(l,e){const i=(e=tb(e)).reduce((u,h)=>u+h.offsetSize,0),s=l.parent;od(l);const c=l.index;return s._insertChild(c,e),nd(s,c+e.length),nd(s,c),new oe(l,l.getShiftedBy(i))}function eb(l){if(!l.isFlat)throw new A("operation-utils-remove-range-not-flat",this);const e=l.start.parent;od(l.start),od(l.end);const i=e._removeChildren(l.start.index,l.end.index-l.start.index);return nd(e,l.start.index),i}function Cc(l,e){if(!l.isFlat)throw new A("operation-utils-move-range-not-flat",this);const i=eb(l);return xh(e=e._getTransformedByDeletion(l.start,l.end.offset-l.start.offset),i)}function tb(l){const e=[];l instanceof Array||(l=[l]);for(let i=0;i<l.length;i++)if("string"==typeof l[i])e.push(new mt(l[i]));else if(l[i]instanceof li)e.push(new mt(l[i].data,l[i].getAttributes()));else if(l[i]instanceof Yi||l[i]instanceof Ei)for(const s of l[i])e.push(s);else l[i]instanceof Di&&e.push(l[i]);for(let i=1;i<e.length;i++){const s=e[i],c=e[i-1];s instanceof mt&&c instanceof mt&&ia(s,c)&&(e.splice(i-1,2,new mt(c.data+s.data,c.getAttributes())),i--)}return e}function nd(l,e){const i=l.getChild(e-1),s=l.getChild(e);if(i&&s&&i.is("$text")&&s.is("$text")&&ia(i,s)){const c=new mt(i.data+s.data,i.getAttributes());l._removeChildren(e-1,2),l._insertChild(e-1,c)}}function od(l){const e=l.textNode,i=l.parent;if(e){const s=l.offset-e.startOffset,c=e.index;i._removeChildren(c,1);const u=new mt(e.data.substr(0,s),e.getAttributes()),h=new mt(e.data.substr(s),e.getAttributes());i._insertChild(c,[u,h])}}function ia(l,e){const i=l.getAttributes(),s=e.getAttributes();for(const c of i){if(c[1]!==e.getAttribute(c[0]))return!1;s.next()}return s.next().done}const Hn=function(l,e){return Js(l,e)};class Xt extends To{constructor(e,i,s,c,u){super(u),this.range=e.clone(),this.key=i,this.oldValue=void 0===s?null:s,this.newValue=void 0===c?null:c}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new Xt(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Xt(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new A("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!Hn(e.getAttribute(this.key),this.oldValue))throw new A("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&e.hasAttribute(this.key))throw new A("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){Hn(this.oldValue,this.newValue)||function(e,i,s){od(e.start),od(e.end);for(const c of e.getItems({shallow:!0})){const u=c.is("$textProxy")?c.textNode:c;null!==s?u._setAttribute(i,s):u._removeAttribute(i),nd(u.parent,u.index)}nd(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,i){return new Xt(oe.fromJSON(e.range,i),e.key,e.oldValue,e.newValue,e.baseVersion)}}class nb extends To{constructor(e,i){super(null),this.sourcePosition=e.clone(),this.howMany=i}get type(){return"detach"}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new A("detach-operation-on-document-node",this)}_execute(){eb(oe._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class At extends To{constructor(e,i,s,c){super(c),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=i,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent,s=this.sourcePosition.offset,c=this.targetPosition.offset;if(s+this.howMany>e.maxOffset)throw new A("move-operation-nodes-do-not-exist",this);if(e===i&&s<c&&c<s+this.howMany)throw new A("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Xn(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const u=this.sourcePosition.path.length-1;if(this.targetPosition.path[u]>=s&&this.targetPosition.path[u]<s+this.howMany)throw new A("move-operation-node-into-itself",this)}}_execute(){Cc(oe._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,i){const s=he.fromJSON(e.sourcePosition,i),c=he.fromJSON(e.targetPosition,i);return new this(s,e.howMany,c,e.baseVersion)}}class wt extends To{constructor(e,i,s){super(s),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Ei(tb(i)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const e=new Ei([...this.nodes].map(s=>s._clone(!0))),i=new wt(this.position,e,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}getReversed(){const i=new he(this.position.root.document.graveyard,[0]);return new At(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new A("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Ei([...e].map(i=>i._clone(!0))),xh(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,i){const s=[];for(const u of e.nodes)s.push(u.name?xt.fromJSON(u):mt.fromJSON(u));const c=new wt(he.fromJSON(e.position,i),s,e.baseVersion);return c.shouldReceiveAttributes=e.shouldReceiveAttributes,c}}class xn extends To{constructor(e,i,s,c,u,h){super(h),this.name=e,this.oldRange=i?i.clone():null,this.newRange=s?s.clone():null,this.affectsData=u,this._markers=c}get type(){return"marker"}clone(){return new xn(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new xn(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this._markers[this.newRange?"_set":"_remove"](this.name,this.newRange,!0,this.affectsData)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,i){return new xn(e.name,e.oldRange?oe.fromJSON(e.oldRange,i):null,e.newRange?oe.fromJSON(e.newRange,i):null,i.model.markers,e.affectsData,e.baseVersion)}}class Gn extends To{constructor(e,i,s,c){super(c),this.position=e,this.position.stickiness="toNext",this.oldName=i,this.newName=s}get type(){return"rename"}clone(){return new Gn(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Gn(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof xt))throw new A("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new A("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,i){return new Gn(he.fromJSON(e.position,i),e.oldName,e.newName,e.baseVersion)}}class Ji extends To{constructor(e,i,s,c,u){super(u),this.root=e,this.key=i,this.oldValue=s,this.newValue=c}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new Ji(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ji(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new A("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new A("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new A("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,i){if(!i.getRoot(e.root))throw new A("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Ji(i.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class wn extends To{constructor(e,i,s,c,u){super(u),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=i,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=c.clone()}get type(){return"merge"}get deletionPosition(){return new he(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new oe(this.sourcePosition,e)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),s=new he(this.sourcePosition.root,i)._getTransformedByMergeOperation(this);return new Lt(e,this.howMany,s,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent;if(!e.parent)throw new A("merge-operation-source-position-invalid",this);if(!i.parent)throw new A("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new A("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Cc(oe._createIn(e),this.targetPosition),Cc(oe._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,i){const s=he.fromJSON(e.sourcePosition,i),c=he.fromJSON(e.targetPosition,i),u=he.fromJSON(e.graveyardPosition,i);return new this(s,e.howMany,c,u,e.baseVersion)}}class Lt extends To{constructor(e,i,s,c,u){super(u),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=i,this.insertionPosition=s,this.graveyardPosition=c?c.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new he(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new oe(this.splitPosition,e)}clone(){return new this.constructor(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const i=new he(this.splitPosition.root.document.graveyard,[0]);return new wn(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent;if(!e||e.maxOffset<this.splitPosition.offset)throw new A("split-operation-position-invalid",this);if(!e.parent)throw new A("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new A("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new A("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Cc(oe._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=e._clone();xh(this.insertionPosition,i)}Cc(new oe(he._createAt(e,this.splitPosition.offset),he._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const i=e.path.slice(0,-1);return i[i.length-1]++,new he(e.root,i,"toPrevious")}static fromJSON(e,i){const s=he.fromJSON(e.splitPosition,i),c=he.fromJSON(e.insertionPosition,i),u=e.graveyardPosition?he.fromJSON(e.graveyardPosition,i):null;return new this(s,e.howMany,c,u,e.baseVersion)}}class Mh extends xt{constructor(e,i,s="main"){super(i),this._document=e,this.rootName=s}get document(){return this._document}is(e,i){return i?i===this.name&&("rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e):"rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e||"node"===e||"model:node"===e}toJSON(){return this.rootName}}class ob{constructor(e,i){this.model=e,this.batch=i}createText(e,i){return new mt(e,i)}createElement(e,i){return new xt(e,i)}createDocumentFragment(){return new Yi}cloneElement(e,i=!0){return e._clone(i)}insert(e,i,s=0){if(this._assertWriterUsedCorrectly(),e instanceof mt&&""==e.data)return;const c=he._createAt(i,s);if(e.parent){if(id(e.root,c.root))return void this.move(oe._createOn(e),c);if(e.root.document)throw new A("model-writer-insert-forbidden-move",this);this.remove(e)}const h=new wt(c,e,c.root.document?c.root.document.version:null);if(e instanceof mt&&(h.shouldReceiveAttributes=!0),this.batch.addOperation(h),this.model.applyOperation(h),e instanceof Yi)for(const[g,m]of e.markers){const w=he._createAt(m.root,0),k={range:new oe(m.start._getCombined(w,c),m.end._getCombined(w,c)),usingOperation:!0,affectsData:!0};this.model.markers.has(g)?this.updateMarker(g,k):this.addMarker(g,k)}}insertText(e,i,s,c){i instanceof Yi||i instanceof xt||i instanceof he?this.insert(this.createText(e),i,s):this.insert(this.createText(e,i),s,c)}insertElement(e,i,s,c){i instanceof Yi||i instanceof xt||i instanceof he?this.insert(this.createElement(e),i,s):this.insert(this.createElement(e,i),s,c)}append(e,i){this.insert(e,i,"end")}appendText(e,i,s){i instanceof Yi||i instanceof xt?this.insert(this.createText(e),i,"end"):this.insert(this.createText(e,i),s,"end")}appendElement(e,i,s){i instanceof Yi||i instanceof xt?this.insert(this.createElement(e),i,"end"):this.insert(this.createElement(e,i),s,"end")}setAttribute(e,i,s){if(this._assertWriterUsedCorrectly(),s instanceof oe){const c=s.getMinimalFlatRanges();for(const u of c)ib(this,e,i,u)}else Ih(this,e,i,s)}setAttributes(e,i){for(const[s,c]of Gi(e))this.setAttribute(s,c,i)}removeAttribute(e,i){if(this._assertWriterUsedCorrectly(),i instanceof oe){const s=i.getMinimalFlatRanges();for(const c of s)ib(this,e,null,c)}else Ih(this,e,null,i)}clearAttributes(e){this._assertWriterUsedCorrectly();const i=s=>{for(const c of s.getAttributeKeys())this.removeAttribute(c,s)};if(e instanceof oe)for(const s of e.getItems())i(s);else i(e)}move(e,i,s){if(this._assertWriterUsedCorrectly(),!(e instanceof oe))throw new A("writer-move-invalid-range",this);if(!e.isFlat)throw new A("writer-move-range-not-flat",this);const c=he._createAt(i,s);if(c.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!id(e.root,c.root))throw new A("writer-move-different-document",this);const h=new At(e.start,e.end.offset-e.start.offset,c,e.root.document?e.root.document.version:null);this.batch.addOperation(h),this.model.applyOperation(h)}remove(e){this._assertWriterUsedCorrectly();const i=(e instanceof oe?e:oe._createOn(e)).getMinimalFlatRanges().reverse();for(const s of i)this._addOperationForAffectedMarkers("move",s),OC(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const i=e.nodeBefore,s=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(i instanceof xt))throw new A("writer-merge-no-element-before",this);if(!(s instanceof xt))throw new A("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,i,s){return this.model.createPositionFromPath(e,i,s)}createPositionAt(e,i){return this.model.createPositionAt(e,i)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,i){return this.model.createRange(e,i)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(e,i,s){return this.model.createSelection(e,i,s)}_mergeDetached(e){const i=e.nodeBefore,s=e.nodeAfter;this.move(oe._createIn(s),he._createAt(i,"end")),this.remove(s)}_merge(e){const i=he._createAt(e.nodeBefore,"end"),s=he._createAt(e.nodeAfter,0),u=new he(e.root.document.graveyard,[0]),g=new wn(s,e.nodeAfter.maxOffset,i,u,e.root.document.version);this.batch.addOperation(g),this.model.applyOperation(g)}rename(e,i){if(this._assertWriterUsedCorrectly(),!(e instanceof xt))throw new A("writer-rename-not-element-instance",this);const s=e.root.document?e.root.document.version:null,c=new Gn(he._createBefore(e),e.name,i,s);this.batch.addOperation(c),this.model.applyOperation(c)}split(e,i){this._assertWriterUsedCorrectly();let s,c,u=e.parent;if(!u.parent)throw new A("writer-split-element-no-parent",this);if(i||(i=u.parent),!e.parent.getAncestors({includeSelf:!0}).includes(i))throw new A("writer-split-invalid-limit-element",this);do{const h=u.root.document?u.root.document.version:null,g=u.maxOffset-e.offset,m=Lt.getInsertionPosition(e),w=new Lt(e,g,m,null,h);this.batch.addOperation(w),this.model.applyOperation(w),s||c||(s=u,c=e.parent.nextSibling),u=(e=this.createPositionAfter(e.parent)).parent}while(u!==i);return{position:e,range:new oe(he._createAt(s,"end"),he._createAt(c,0))}}wrap(e,i){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new A("writer-wrap-range-not-flat",this);const s=i instanceof xt?i:new xt(i);if(s.childCount>0)throw new A("writer-wrap-element-not-empty",this);if(null!==s.parent)throw new A("writer-wrap-element-attached",this);this.insert(s,e.start);const c=new oe(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(c,he._createAt(s,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new A("writer-unwrap-element-no-parent",this);this.move(oe._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,i){if(this._assertWriterUsedCorrectly(),!i||"boolean"!=typeof i.usingOperation)throw new A("writer-addmarker-no-usingoperation",this);const s=i.usingOperation,c=i.range,u=void 0!==i.affectsData&&i.affectsData;if(this.model.markers.has(e))throw new A("writer-addmarker-marker-exists",this);if(!c)throw new A("writer-addmarker-no-range",this);return s?(yc(this,e,null,c,u),this.model.markers.get(e)):this.model.markers._set(e,c,s,u)}updateMarker(e,i){this._assertWriterUsedCorrectly();const s="string"==typeof e?e:e.name,c=this.model.markers.get(s);if(!c)throw new A("writer-updatemarker-marker-not-exists",this);if(!i)return Q("writer-updatemarker-reconvert-using-editingcontroller",{markerName:s}),void this.model.markers._refresh(c);const u="boolean"==typeof i.usingOperation,h="boolean"==typeof i.affectsData,g=h?i.affectsData:c.affectsData;if(!u&&!i.range&&!h)throw new A("writer-updatemarker-wrong-options",this);const m=c.getRange(),w=i.range?i.range:m;u&&i.usingOperation!==c.managedUsingOperations?i.usingOperation?yc(this,s,null,w,g):(yc(this,s,m,null,g),this.model.markers._set(s,w,void 0,g)):c.managedUsingOperations?yc(this,s,m,w,g):this.model.markers._set(s,w,void 0,g)}removeMarker(e){this._assertWriterUsedCorrectly();const i="string"==typeof e?e:e.name;if(!this.model.markers.has(i))throw new A("writer-removemarker-no-marker",this);const s=this.model.markers.get(i);s.managedUsingOperations?yc(this,i,s.getRange(),null,s.affectsData):this.model.markers._remove(i)}setSelection(e,i,s){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(e,i,s)}setSelectionFocus(e,i){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,i)}setSelectionAttribute(e,i){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._setSelectionAttribute(e,i);else for(const[s,c]of Gi(e))this._setSelectionAttribute(s,c)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._removeSelectionAttribute(e);else for(const i of e)this._removeSelectionAttribute(i)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,i){const s=this.model.document.selection;if(s.isCollapsed&&s.anchor.parent.isEmpty){const c=po._getStoreAttributeKey(e);this.setAttribute(c,i,s.anchor.parent)}s._setAttribute(e,i)}_removeSelectionAttribute(e){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const s=po._getStoreAttributeKey(e);this.removeAttribute(s,i.anchor.parent)}i._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new A("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,i){for(const s of this.model.markers){if(!s.managedUsingOperations)continue;const c=s.getRange();let u=!1;if("move"===e)u=i.containsPosition(c.start)||i.start.isEqual(c.start)||i.containsPosition(c.end)||i.end.isEqual(c.end);else{const g=i.nodeAfter,w=c.end.parent==g&&0==c.end.offset,k=c.end.nodeAfter==g,v=c.start.nodeAfter==g;u=c.start.parent==i.nodeBefore&&c.start.isAtEnd||w||k||v}u&&this.updateMarker(s.name,{range:c})}}}function ib(l,e,i,s){const c=l.model,u=c.document;let h,g,m,w=s.start;for(const v of s.getWalker({shallow:!0}))m=v.item.getAttribute(e),h&&g!=m&&(g!=i&&k(),w=h),h=v.nextPosition,g=m;function k(){const v=new oe(w,h),F=new Xt(v,e,g,i,v.root.document?u.version:null);l.batch.addOperation(F),c.applyOperation(F)}h instanceof he&&h!=w&&g!=i&&k()}function Ih(l,e,i,s){const c=l.model,u=c.document,h=s.getAttribute(e);let g,m;h!=i&&(s.root===s?m=new Ji(s,e,h,i,s.document?u.version:null):(g=new oe(he._createBefore(s),l.createPositionAfter(s)),m=new Xt(g,e,h,i,g.root.document?u.version:null)),l.batch.addOperation(m),c.applyOperation(m))}function yc(l,e,i,s,c){const u=l.model,g=new xn(e,i,s,u.markers,c,u.document.version);l.batch.addOperation(g),u.applyOperation(g)}function OC(l,e,i,s){let c;if(l.root.document){const u=s.document,h=new he(u.graveyard,[0]);c=new At(l,e,h,u.version)}else c=new nb(l,e);i.addOperation(c),s.applyOperation(c)}function id(l,e){return l===e||l instanceof Mh&&e instanceof Mh}class RC{constructor(e){this._markerCollection=e,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}bufferOperation(e){switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const i of e.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break;case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;const i=this._isInInsertedElement(e.sourcePosition.parent),s=this._isInInsertedElement(e.targetPosition.parent);i||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),s||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const i=oe._createFromPositionAndShift(e.position,1);for(const s of this._markerCollection.getMarkersIntersectingRange(i)){const c=s.getData();this.bufferMarkerChange(s.name,c,c)}break}case"split":{const i=e.splitPosition.parent;this._isInInsertedElement(i)||this._markRemove(i,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break}case"merge":{const i=e.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1),this._markInsert(e.graveyardPosition.parent,e.graveyardPosition.offset,1);const c=e.targetPosition.parent;this._isInInsertedElement(c)||this._markInsert(c,e.targetPosition.offset,i.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(e,i,s){const c=this._changedMarkers.get(e);c?(c.newMarkerData=s,null==c.oldMarkerData.range&&null==s.range&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{newMarkerData:s,oldMarkerData:i})}getMarkersToRemove(){const e=[];for(const[i,s]of this._changedMarkers)null!=s.oldMarkerData.range&&e.push({name:i,range:s.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[i,s]of this._changedMarkers)null!=s.newMarkerData.range&&e.push({name:i,range:s.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,i])=>({name:e,data:{oldRange:i.oldMarkerData.range,newRange:i.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:i}of this._changedMarkers.values()){if(e.affectsData!==i.affectsData)return!0;if(e.affectsData){const s=e.range&&!i.range,c=!e.range&&i.range,u=e.range&&i.range&&!e.range.isEqual(i.range);if(s||c||u)return!0}}return!1}getChanges(e={includeChangesInGraveyard:!1}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let i=[];for(const s of this._changesInElement.keys()){const c=this._changesInElement.get(s).sort((k,v)=>k.offset===v.offset?k.type!=v.type?"remove"==k.type?-1:1:0:k.offset<v.offset?-1:1),u=this._elementSnapshots.get(s),h=rb(s.getChildren()),g=Sh(u.length,c);let m=0,w=0;for(const k of g)if("i"===k)i.push(this._getInsertDiff(s,m,h[m])),m++;else if("r"===k)i.push(this._getRemoveDiff(s,m,u[w])),w++;else if("a"===k){const v=h[m].attributes,y=u[w].attributes;let F;if("$text"==h[m].name)F=new oe(he._createAt(s,m),he._createAt(s,m+1));else{const G=s.offsetToIndex(m);F=new oe(he._createAt(s,m),he._createAt(s.getChild(G),0))}i.push(...this._getAttributesDiff(F,y,v)),m++,w++}else m++,w++}i.sort((s,c)=>s.position.root!=c.position.root?s.position.root.rootName<c.position.root.rootName?-1:1:s.position.isEqual(c.position)?s.changeCount-c.changeCount:s.position.isBefore(c.position)?-1:1);for(let s=1,c=0;s<i.length;s++){const u=i[c],h=i[s],g="remove"==u.type&&"remove"==h.type&&"$text"==u.name&&"$text"==h.name&&u.position.isEqual(h.position),m="insert"==u.type&&"insert"==h.type&&"$text"==u.name&&"$text"==h.name&&u.position.parent==h.position.parent&&u.position.offset+u.length==h.position.offset,w="attribute"==u.type&&"attribute"==h.type&&u.position.parent==h.position.parent&&u.range.isFlat&&h.range.isFlat&&u.position.offset+u.length==h.position.offset&&u.attributeKey==h.attributeKey&&u.attributeOldValue==h.attributeOldValue&&u.attributeNewValue==h.attributeNewValue;g||m||w?(u.length++,w&&(u.range.end=u.range.end.getShiftedBy(1)),i[s]=null):c=s}i=i.filter(s=>s);for(const s of i)delete s.changeCount,"attribute"==s.type&&(delete s.position,delete s.length);return this._changeCount=0,this._cachedChangesWithGraveyard=i,this._cachedChanges=i.filter(BC),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const i=oe._createOn(e);for(const s of this._markerCollection.getMarkersIntersectingRange(i)){const c=s.getData();this.bufferMarkerChange(s.name,c,c)}this._cachedChanges=null}_markInsert(e,i,s){const c={type:"insert",offset:i,howMany:s,count:this._changeCount++};this._markChange(e,c)}_markRemove(e,i,s){const c={type:"remove",offset:i,howMany:s,count:this._changeCount++};this._markChange(e,c),this._removeAllNestedChanges(e,i,s)}_markAttribute(e){const i={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,i)}_markChange(e,i){this._makeSnapshot(e);const s=this._getChangesForElement(e);this._handleChange(i,s),s.push(i);for(let c=0;c<s.length;c++)s[c].howMany<1&&(s.splice(c,1),c--)}_getChangesForElement(e){let i;return this._changesInElement.has(e)?i=this._changesInElement.get(e):(i=[],this._changesInElement.set(e,i)),i}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,rb(e.getChildren()))}_handleChange(e,i){e.nodesToHandle=e.howMany;for(const s of i){const c=e.offset+e.howMany,u=s.offset+s.howMany;if("insert"==e.type&&("insert"==s.type&&(e.offset<=s.offset?s.offset+=e.howMany:e.offset<u&&(s.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==s.type&&e.offset<s.offset&&(s.offset+=e.howMany),"attribute"==s.type))if(e.offset<=s.offset)s.offset+=e.howMany;else if(e.offset<u){const h=s.howMany;s.howMany=e.offset-s.offset,i.unshift({type:"attribute",offset:c,howMany:h-s.howMany,count:this._changeCount++})}if("remove"==e.type){if("insert"==s.type)if(c<=s.offset)s.offset-=e.howMany;else if(c<=u)if(e.offset<s.offset){const h=c-s.offset;s.offset=e.offset,s.howMany-=h,e.nodesToHandle-=h}else s.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=s.offset)e.nodesToHandle-=s.howMany,s.howMany=0;else if(e.offset<u){const h=u-e.offset;s.howMany-=h,e.nodesToHandle-=h}if("remove"==s.type&&(c<=s.offset?s.offset-=e.howMany:e.offset<s.offset&&(e.nodesToHandle+=s.howMany,s.howMany=0)),"attribute"==s.type)if(c<=s.offset)s.offset-=e.howMany;else if(e.offset<s.offset){const h=c-s.offset;s.offset=e.offset,s.howMany-=h}else if(e.offset<u)if(c<=u){const h=s.howMany;s.howMany=e.offset-s.offset,i.unshift({type:"attribute",offset:e.offset,howMany:h-s.howMany-e.nodesToHandle,count:this._changeCount++})}else s.howMany-=u-e.offset}if("attribute"==e.type){if("insert"==s.type)if(e.offset<s.offset&&c>s.offset){if(c>u){const h={type:"attribute",offset:u,howMany:c-u,count:this._changeCount++};this._handleChange(h,i),i.push(h)}e.nodesToHandle=s.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=s.offset&&e.offset<u&&(c>u?(e.nodesToHandle=c-u,e.offset=u):e.nodesToHandle=0);if("remove"==s.type&&e.offset<s.offset&&c>s.offset){const h={type:"attribute",offset:s.offset,howMany:c-s.offset,count:this._changeCount++};this._handleChange(h,i),i.push(h),e.nodesToHandle=s.offset-e.offset,e.howMany=e.nodesToHandle}"attribute"==s.type&&(e.offset>=s.offset&&c<=u?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=s.offset&&c>=u&&(s.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,i,s){return{type:"insert",position:he._createAt(e,i),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,i,s){return{type:"remove",position:he._createAt(e,i),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,i,s){const c=[];s=new Map(s);for(const[u,h]of i){const g=s.has(u)?s.get(u):null;g!==h&&c.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:u,attributeOldValue:h,attributeNewValue:g,changeCount:this._changeCount++}),s.delete(u)}for(const[u,h]of s)c.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:u,attributeOldValue:null,attributeNewValue:h,changeCount:this._changeCount++});return c}_isInInsertedElement(e){const i=e.parent;if(!i)return!1;const s=this._changesInElement.get(i),c=e.startOffset;if(s)for(const u of s)if("insert"==u.type&&c>=u.offset&&c<u.offset+u.howMany)return!0;return this._isInInsertedElement(i)}_removeAllNestedChanges(e,i,s){const c=new oe(he._createAt(e,i),he._createAt(e,i+s));for(const u of c.getItems({shallow:!0}))u.is("element")&&(this._elementSnapshots.delete(u),this._changesInElement.delete(u),this._removeAllNestedChanges(u,0,u.maxOffset))}}function rb(l){const e=[];for(const i of l)if(i.is("$text"))for(let s=0;s<i.data.length;s++)e.push({name:"$text",attributes:new Map(i.getAttributes())});else e.push({name:i.name,attributes:new Map(i.getAttributes())});return e}function Sh(l,e){const i=[];let s=0,c=0;for(const u of e){if(u.offset>s){for(let h=0;h<u.offset-s;h++)i.push("e");c+=u.offset-s}if("insert"==u.type){for(let h=0;h<u.howMany;h++)i.push("i");s=u.offset+u.howMany}else if("remove"==u.type){for(let h=0;h<u.howMany;h++)i.push("r");s=u.offset,c+=u.howMany}else i.push(..."a".repeat(u.howMany).split("")),s=u.offset+u.howMany,c+=u.howMany}if(c<l)for(let u=0;u<l-c-s;u++)i.push("e");return i}function BC(l){return!(l.position&&"$graveyard"==l.position.root.rootName||l.range&&"$graveyard"==l.range.root.rootName)}class FC{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new A("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,i=this.version){if(!this._operations.length)return[];const s=this._operations[0];void 0===e&&(e=s.baseVersion);let c=i-1;for(const[g,m]of this._gaps)e>g&&e<m&&(e=m),c>g&&c<m&&(c=g-1);if(c<s.baseVersion||e>this.lastOperation.baseVersion)return[];let u=this._baseVersionToOperationIndex.get(e);void 0===u&&(u=0);let h=this._baseVersionToOperationIndex.get(c);return void 0===h&&(h=this._operations.length-1),this._operations.slice(u,h+1)}getOperation(e){const i=this._baseVersionToOperationIndex.get(e);if(void 0!==i)return this._operations[i]}setOperationAsUndone(e,i){this._undoPairs.set(i,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}function ra(l,e){return!!(i=l.charAt(e-1))&&1==i.length&&/[\ud800-\udbff]/.test(i)&&!!(s=l.charAt(e))&&1==s.length&&/[\udc00-\udfff]/.test(s);var s,i}function sb(l,e){return!!(i=l.charAt(e))&&1==i.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i);var i}const LC=function(){const l=/\p{Regional_Indicator}{2}/u.source,e="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map(i=>i.source).join("|")+")";return new RegExp(`${l}|${e}(?:\u200d${e})*`,"ug")}();function jC(l,e){const i=String(l).matchAll(LC);return Array.from(i).some(s=>s.index<e&&e<s.index+s[0].length)}const Th="$graveyard";class ab{constructor(e){this.model=e,this.history=new FC,this.selection=new po(this),this.roots=new fo({idProperty:"rootName"}),this.differ=new RC(e.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Th),this.listenTo(e,"applyOperation",(i,s)=>{const c=s[0];c.isDocumentOperation&&this.differ.bufferOperation(c)},{priority:"high"}),this.listenTo(e,"applyOperation",(i,s)=>{const c=s[0];c.isDocumentOperation&&this.history.addOperation(c)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(i,s,c,u,h)=>{const g=wl(He({},s.getData()),{range:u});this.differ.bufferMarkerChange(s.name,h,g),null===c&&s.on("change",(m,w)=>{const k=s.getData();this.differ.bufferMarkerChange(s.name,wl(He({},k),{range:w}),k)})})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Th)}createRoot(e="$root",i="main"){if(this.roots.get(i))throw new A("model-document-createroot-name-exists",this,{name:i});const s=new Mh(this,e,i);return this.roots.add(s),s}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(){return Array.from(this.roots,e=>e.rootName).filter(e=>e!=Th)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=Gv(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const e of this.roots)if(e!==this.graveyard)return e;return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),i=this.model,s=i.schema,c=i.createPositionFromPath(e,[0]);return s.getNearestSelectionRange(c)||i.createRange(c)}_validateSelectionRange(e){return Nh(e.start)&&Nh(e.end)}_callPostFixers(e){let i=!1;do{for(const s of this._postFixers)if(this.selection.refresh(),i=s(e),i)break}while(i)}}function Nh(l){const e=l.textNode;if(e){const i=e.data,s=l.offset-e.startOffset;return!ra(i,s)&&!sb(i,s)}return!0}Ae(ab,ne);class cb{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){return this._markers.has(e instanceof sa?e.name:e)}get(e){return this._markers.get(e)||null}_set(e,i,s=!1,c=!1){const u=e instanceof sa?e.name:e;if(u.includes(","))throw new A("markercollection-incorrect-marker-name",this);const h=this._markers.get(u);if(h){const w=h.getData(),k=h.getRange();let v=!1;return k.isEqual(i)||(h._attachLiveRange(oo.fromRange(i)),v=!0),s!=h.managedUsingOperations&&(h._managedUsingOperations=s,v=!0),"boolean"==typeof c&&c!=h.affectsData&&(h._affectsData=c,v=!0),v&&this.fire("update:"+u,h,k,i,w),h}const g=oo.fromRange(i),m=new sa(u,g,s,c);return this._markers.set(u,m),this.fire("update:"+u,m,null,i,wl(He({},m.getData()),{range:null})),m}_remove(e){const i=e instanceof sa?e.name:e,s=this._markers.get(i);return!!s&&(this._markers.delete(i),this.fire("update:"+i,s,s.getRange(),null,s.getData()),this._destroyMarker(s),!0)}_refresh(e){const i=e instanceof sa?e.name:e,s=this._markers.get(i);if(!s)throw new A("markercollection-refresh-marker-not-exists",this);const c=s.getRange();this.fire("update:"+i,s,c,c,s.getData())}*getMarkersAtPosition(e){for(const i of this)i.getRange().containsPosition(e)&&(yield i)}*getMarkersIntersectingRange(e){for(const i of this)null!==i.getRange().getIntersection(e)&&(yield i)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const i of this._markers.values())i.name.startsWith(e+":")&&(yield i)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}Ae(cb,ne);class sa{constructor(e,i,s,c){this.name=e,this._liveRange=this._attachLiveRange(i),this._managedUsingOperations=s,this._affectsData=c}get managedUsingOperations(){if(!this._liveRange)throw new A("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new A("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new A("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new A("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new A("marker-destroyed",this);return this._liveRange.toRange()}is(e){return"marker"===e||"model:marker"===e}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ae(sa,ne);class Mn extends To{get type(){return"noop"}clone(){return new Mn(this.baseVersion)}getReversed(){return new Mn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}const ui={};ui[Xt.className]=Xt,ui[wt.className]=wt,ui[xn.className]=xn,ui[At.className]=At,ui[Mn.className]=Mn,ui[To.className]=To,ui[Gn.className]=Gn,ui[Ji.className]=Ji,ui[Lt.className]=Lt,ui[wn.className]=wn;class Pn extends he{constructor(e,i,s="toNone"){if(super(e,i,s),!this.root.is("rootElement"))throw new A("model-liveposition-root-not-rootelement",e);zC.call(this)}detach(){this.stopListening()}is(e){return"livePosition"===e||"model:livePosition"===e||"position"==e||"model:position"===e}toPosition(){return new he(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,i){return new this(e.root,e.path.slice(),i||e.stickiness)}}function zC(){this.listenTo(this.root.document.model,"applyOperation",(l,e)=>{const i=e[0];i.isDocumentOperation&&VC.call(this,i)},{priority:"low"})}function VC(l){const e=this.getTransformedByOperation(l);if(!this.isEqual(e)){const i=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",i)}}Ae(Pn,ne);class UC{constructor(e,i,s){this.model=e,this.writer=i,this.position=s,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=i.createDocumentFragment(),this._documentFragmentPosition=i.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(e){for(const i of Array.from(e))this._handleNode(i);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const i=this.writer.createPositionAfter(this._lastNode),s=this.writer.createPositionAfter(e);if(s.isAfter(i)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new A("insertcontent-invalid-insertion-position",this);this.position=s,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this.nodeToSelect?oe._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new oe(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let i=this._checkAndAutoParagraphToAllowedPosition(e);i||(i=this._checkAndSplitToAllowedPosition(e),i)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Pn.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new A("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.nodeToSelect=this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?e:null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Pn.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Pn.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof xt&&this._canMergeLeft(e)))return;const i=Pn._createBefore(e);i.stickiness="toNext";const s=Pn.fromPosition(this.position,"toNext");this._affectedStart.isEqual(i)&&(this._affectedStart.detach(),this._affectedStart=Pn._createAt(i.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Pn._createAt(i.nodeBefore,"end","toNext")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof xt&&this._canMergeRight(e)))return;const i=Pn._createAfter(e);if(i.stickiness="toNext",!this.position.isEqual(i))throw new A("insertcontent-invalid-insertion-position",this);this.position=he._createAt(i.nodeBefore,"end");const s=Pn.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(i)&&(this._affectedEnd.detach(),this._affectedEnd=Pn._createAt(i.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Pn._createAt(i.nodeBefore,0,"toPrevious")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_canMergeLeft(e){const i=e.previousSibling;return i instanceof xt&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(i,e)}_canMergeRight(e){const i=e.nextSibling;return i instanceof xt&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(e,i)}_tryAutoparagraphing(e){const i=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,i)&&this.schema.checkChild(i,e)&&(i._appendChild(e),this._handleNode(i))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const i=this.writer.createElement("paragraph");return this.writer.insert(i,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=i,this.position=this.writer.createPositionAt(i,0),!0}_checkAndSplitToAllowedPosition(e){const i=this._getAllowedIn(this.position.parent,e);if(!i)return!1;for(i!=this.position.parent&&this._insertPartialFragment();i!=this.position.parent;)if(this.position.isAtStart){const s=this.position.parent;this.position=this.writer.createPositionBefore(s),s.isEmpty&&s.parent===i&&this.writer.remove(s)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const s=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=s,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,i){return this.schema.checkChild(e,i)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,i)}}function as(l,e,i="auto"){const s=l.getSelectedElement();if(s&&e.schema.isObject(s)&&!e.schema.isInline(s))return["before","after"].includes(i)?e.createRange(e.createPositionAt(s,i)):e.createRangeOn(s);const c=vn(l.getSelectedBlocks());if(!c)return e.createRange(l.focus);if(c.isEmpty)return e.createRange(e.createPositionAt(c,0));const u=e.createPositionAfter(c);return l.focus.isTouching(u)?e.createRange(u):e.createRange(e.createPositionBefore(c))}function DE(l,e,i={}){if(e.isCollapsed)return;const s=e.getFirstRange();if("$graveyard"==s.root.rootName)return;const c=l.schema;l.change(u=>{if(!i.doNotResetEntireContent&&function(w,k){const v=w.getLimitElement(k);if(!k.containsEntireContent(v))return!1;const y=k.getFirstRange();return y.start.parent!=y.end.parent&&w.checkChild(v,"paragraph")}(c,e))return void function(w,k){const v=w.model.schema.getLimitElement(k);w.remove(w.createRangeIn(v)),mo(w,w.createPositionAt(v,0),k)}(u,e);const h={};if(!i.doNotAutoparagraph){const w=e.getSelectedElement();w&&Object.assign(h,c.getAttributesWithProperty(w,"copyOnReplace",!0))}const[g,m]=function(w){const k=w.root.document.model,v=w.start;let y=w.end;if(k.hasContent(w,{ignoreMarkers:!0})){const F=function(G){const $=G.parent,K=$.root.document.model.schema,Y=$.getAncestors({parentFirst:!0,includeSelf:!0});for(const ee of Y){if(K.isLimit(ee))return null;if(K.isBlock(ee))return ee}}(y);if(F&&y.isTouching(k.createPositionAt(F,0))){const G=k.createSelection(w);k.modifySelection(G,{direction:"backward"});const $=G.getLastPosition(),K=k.createRange($,y);k.hasContent(K,{ignoreMarkers:!0})||(y=$)}}return[Pn.fromPosition(v,"toPrevious"),Pn.fromPosition(y,"toNext")]}(s);g.isTouching(m)||u.remove(u.createRange(g,m)),i.leaveUnmerged||(function(w,k,v){const y=w.model;if(!lb(w.model.schema,k,v))return;const[F,G]=function($,K){const Y=$.getAncestors(),ee=K.getAncestors();let ce=0;for(;Y[ce]&&Y[ce]==ee[ce];)ce++;return[Y[ce],ee[ce]]}(k,v);!F||!G||(!y.hasContent(F,{ignoreMarkers:!0})&&y.hasContent(G,{ignoreMarkers:!0})?Ph(w,k,v,F.parent):HC(w,k,v,F.parent))}(u,g,m),c.removeDisallowedAttributes(g.parent.getChildren(),u)),rd(u,e,g),!i.doNotAutoparagraph&&function(w,k){const v=w.checkChild(k,"$text"),y=w.checkChild(k,"paragraph");return!v&&y}(c,g)&&mo(u,g,e,h),g.detach(),m.detach()})}function HC(l,e,i,s){const c=e.parent,u=i.parent;if(c!=s&&u!=s){for(e=l.createPositionAfter(c),(i=l.createPositionBefore(u)).isEqual(e)||l.insert(u,e),l.merge(e);i.parent.isEmpty;){const h=i.parent;i=l.createPositionBefore(h),l.remove(h)}lb(l.model.schema,e,i)&&HC(l,e,i,s)}}function Ph(l,e,i,s){const c=e.parent,u=i.parent;if(c!=s&&u!=s){for(e=l.createPositionAfter(c),(i=l.createPositionBefore(u)).isEqual(e)||l.insert(c,i);e.parent.isEmpty;){const h=e.parent;e=l.createPositionBefore(h),l.remove(h)}i=l.createPositionBefore(u),function(h,g){const m=g.nodeBefore,w=g.nodeAfter;m.name!=w.name&&h.rename(m,w.name),h.clearAttributes(m),h.setAttributes(Object.fromEntries(w.getAttributes()),m),h.merge(g)}(l,i),lb(l.model.schema,e,i)&&Ph(l,e,i,s)}}function lb(l,e,i){const s=e.parent,c=i.parent;return s!=c&&!l.isLimit(s)&&!l.isLimit(c)&&function(u,h,g){const m=new oe(u,h);for(const w of m.getWalker())if(g.isLimit(w.item))return!1;return!0}(e,i,l)}function mo(l,e,i,s={}){const c=l.createElement("paragraph");l.model.schema.setAllowedAttributes(c,s,l),l.insert(c,e),rd(l,i,l.createPositionAt(c,0))}function rd(l,e,i){e instanceof po?l.setSelection(i):e.setTo(i)}const sd=' ,.?!:;"-()';function GC(l,e){const{isForward:i,walker:s,unit:c,schema:u,treatEmojiAsSingleUnit:h}=l,{type:g,item:m,nextPosition:w}=e;if("text"==g)return"word"===l.unit?function(k,v){let y=k.position.textNode;if(y){let F=k.position.offset-y.startOffset;for(;!Ac(y.data,F,v)&&!ub(y,F,v);){k.next();const G=v?k.position.nodeAfter:k.position.nodeBefore;if(G&&G.is("$text")){const $=G.data.charAt(v?0:G.data.length-1);sd.includes($)||(k.next(),y=k.position.textNode)}F=k.position.offset-y.startOffset}}return k.position}(s,i):function(k,v,y){const F=k.position.textNode;if(F){const G=F.data;let $=k.position.offset-F.startOffset;for(;ra(G,$)||"character"==v&&sb(G,$)||y&&jC(G,$);)k.next(),$=k.position.offset-F.startOffset}return k.position}(s,c,h);if(g==(i?"elementStart":"elementEnd")){if(u.isSelectable(m))return he._createAt(m,i?"after":"before");if(u.checkChild(w,"$text"))return w}else{if(u.isLimit(m))return void s.skip(()=>!0);if(u.checkChild(w,"$text"))return w}}function db(l,e){const s=he._createAt(l.root,e?"end":0);return e?new oe(l,s):new oe(s,l)}function Ac(l,e,i){return sd.includes(l.charAt(e+(i?0:-1)))}function ub(l,e,i){return e===(i?l.endOffset:0)}function Oh(l,e){const i=[];Array.from(l.getItems({direction:"backward"})).map(s=>e.createRangeOn(s)).filter(s=>(s.start.isAfter(l.start)||s.start.isEqual(l.start))&&(s.end.isBefore(l.end)||s.end.isEqual(l.end))).forEach(s=>{i.push(s.start.parent),e.remove(s)}),i.forEach(s=>{let c=s;for(;c.parent&&c.isEmpty;){const u=e.createRangeOn(c);c=c.parent,e.remove(u)}})}function Bh(l,e){return l.isCollapsed?function(i,s){const c=i.start,u=s.getNearestSelectionRange(c);if(!u){const g=c.getAncestors().reverse().find(m=>s.isObject(m));return g?oe._createOn(g):null}if(!u.isCollapsed)return u;const h=u.start;return c.isEqual(h)?null:new oe(h)}(l,e):function(i,s){const{start:c,end:u}=i,h=s.checkChild(c,"$text"),g=s.checkChild(u,"$text"),m=s.getLimitElement(c),w=s.getLimitElement(u);if(m===w){if(h&&g)return null;if(function(y,F,G){const $=y.nodeAfter&&!G.isLimit(y.nodeAfter)||G.checkChild(y,"$text"),K=F.nodeBefore&&!G.isLimit(F.nodeBefore)||G.checkChild(F,"$text");return $||K}(c,u,s)){const y=c.nodeAfter&&s.isSelectable(c.nodeAfter)?null:s.getNearestSelectionRange(c,"forward"),F=u.nodeBefore&&s.isSelectable(u.nodeBefore)?null:s.getNearestSelectionRange(u,"backward");return new oe(y?y.start:c,F?F.end:u)}}const k=m&&!m.is("rootElement"),v=w&&!w.is("rootElement");if(k||v){const y=c.nodeAfter&&u.nodeBefore&&c.nodeAfter.parent===u.nodeBefore.parent,F=k&&(!y||!$C(c.nodeAfter,s)),G=v&&(!y||!$C(u.nodeBefore,s));let $=c,K=u;return F&&($=he._createBefore(Fh(m,s))),G&&(K=he._createAfter(Fh(w,s))),new oe($,K)}return null}(l,e)}function Fh(l,e){let i=l,s=i;for(;e.isLimit(s)&&s.parent;)i=s,s=s.parent;return i}function $C(l,e){return l&&e.isSelectable(l)}class cs{constructor(){this.markers=new cb,this.document=new ab(this),this.schema=new _h,this._pendingChanges=[],this._currentWriter=null,["insertContent","insertObject","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,i)=>{i[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,i)=>{if("$marker"===i.name)return!0}),function Rh(l){l.document.registerPostFixer(e=>function(i,s){const c=s.document.selection,u=s.schema,h=[];let g=!1;for(const m of c.getRanges()){const w=Bh(m,u);w&&!w.isEqual(m)?(h.push(w),g=!0):h.push(m)}g&&i.setSelection(function(m){const w=[...m],k=new Set;let v=1;for(;v<w.length;){const y=w[v],F=w.slice(0,v);for(const[G,$]of F.entries())if(!k.has(G))if(y.isEqual($))k.add(G);else if(y.isIntersecting($)){k.add(G),k.add(v);const K=y.getJoined($);w.push(K)}v++}return w.filter((y,F)=>!k.has(F))}(h),{backward:c.isBackward})}(e,l))}(this),this.document.registerPostFixer(MC)}change(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Mi,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(i){A.rethrowUnexpectedError(i,this)}}enqueueChange(e,i){try{e?"function"==typeof e?(i=e,e=new Mi):e instanceof Mi||(e=new Mi(e)):e=new Mi,this._pendingChanges.push({batch:e,callback:i}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(s){A.rethrowUnexpectedError(s,this)}}applyOperation(e){e._execute()}insertContent(e,i,s){return u=e,h=i,g=s,(c=this).change(m=>{let w;w=h?h instanceof Zi||h instanceof po?h:m.createSelection(h,g):c.document.selection,w.isCollapsed||c.deleteContent(w,{doNotAutoparagraph:!0});const k=new UC(c,m,w.anchor);let v;v=u.is("documentFragment")?u.getChildren():[u],k.handleNodes(v);const y=k.getSelectionRange();y&&(w instanceof po?m.setSelection(y):w.setTo(y));const F=k.getAffectedRange()||c.createRange(w.anchor);return k.destroy(),F});var c,u,h,g}insertObject(e,i,s,c){return function Ii(l,e,i,s,c={}){if(!l.schema.isObject(e))throw new A("insertobject-element-not-an-object",l,{object:e});let u;u=i?i.is("selection")?i:l.createSelection(i,s):l.document.selection;let h=u;c.findOptimalPosition&&l.schema.isBlock(e)&&(h=l.createSelection(as(u,l,c.findOptimalPosition)));const g=vn(u.getSelectedBlocks()),m={};return g&&Object.assign(m,l.schema.getAttributesWithProperty(g,"copyOnReplace",!0)),l.change(w=>{h.isCollapsed||l.deleteContent(h,{doNotAutoparagraph:!0});let k=e;const v=h.anchor.parent;!l.schema.checkChild(v,e)&&l.schema.checkChild(v,"paragraph")&&l.schema.checkChild("paragraph",e)&&(k=w.createElement("paragraph"),w.insert(e,k)),l.schema.setAllowedAttributes(k,m,w);const y=l.insertContent(k,h);return y.isCollapsed||c.setSelection&&function(F,G,$,K){const Y=F.model;if("after"==$){let ee=G.nextSibling;!(ee&&Y.schema.checkChild(ee,"$text"))&&Y.schema.checkChild(G.parent,"paragraph")&&(ee=F.createElement("paragraph"),Y.schema.setAllowedAttributes(ee,K,F),Y.insertContent(ee,F.createPositionAfter(G))),ee&&F.setSelection(ee,0)}else{if("on"!=$)throw new A("insertobject-invalid-place-parameter-value",Y);F.setSelection(G,"on")}}(w,e,c.setSelection,m),y})}(this,e,i,s,c)}deleteContent(e,i){DE(this,e,i)}modifySelection(e,i){!function(s,c,u={}){const h=s.schema,g="backward"!=u.direction,m=u.unit?u.unit:"character",w=!!u.treatEmojiAsSingleUnit,v=new xi({boundaries:db(c.focus,g),singleCharacters:!0,direction:g?"forward":"backward"}),y={walker:v,schema:h,isForward:g,unit:m,treatEmojiAsSingleUnit:w};let F;for(;F=v.next();){if(F.done)return;const G=GC(y,F.value);if(G)return void(c instanceof po?s.change($=>{$.setSelectionFocus(G)}):c.setFocus(G))}}(this,e,i)}getSelectedContent(e){return function(i,s){return i.change(c=>{const u=c.createDocumentFragment(),h=s.getFirstRange();if(!h||h.isCollapsed)return u;const g=h.start.root,m=h.start.getCommonPath(h.end),w=g.getNodeByPath(m);let k;k=h.start.parent==h.end.parent?h:c.createRange(c.createPositionAt(w,h.start.path[m.length]),c.createPositionAt(w,h.end.path[m.length]+1));const v=k.end.offset-k.start.offset;for(const y of k.getItems({shallow:!0}))y.is("$textProxy")?c.appendText(y.data,y.getAttributes(),u):c.append(c.cloneElement(y,!0),u);if(k!=h){const y=h._getTransformedByMove(k.start,c.createPositionAt(u,0),v)[0],F=c.createRange(c.createPositionAt(u,0),y.start);Oh(c.createRange(y.end,c.createPositionAt(u,"end")),c),Oh(F,c)}return u})}(this,e)}hasContent(e,i={}){const s=e instanceof xt?oe._createIn(e):e;if(s.isCollapsed)return!1;const{ignoreWhitespaces:c=!1,ignoreMarkers:u=!1}=i;if(!u)for(const h of this.markers.getMarkersIntersectingRange(s))if(h.affectsData)return!0;for(const h of s.getItems())if(this.schema.isContent(h)&&(!h.is("$textProxy")||!c||-1!==h.data.search(/\S/)))return!0;return!1}createPositionFromPath(e,i,s){return new he(e,i,s)}createPositionAt(e,i){return he._createAt(e,i)}createPositionAfter(e){return he._createAfter(e)}createPositionBefore(e){return he._createBefore(e)}createRange(e,i){return new oe(e,i)}createRangeIn(e){return oe._createIn(e)}createRangeOn(e){return oe._createOn(e)}createSelection(e,i,s){return new Zi(e,i,s)}createBatch(e){return new Mi(e)}createOperationFromJSON(e){return class{static fromJSON(i,s){return ui[i.__className].fromJSON(i,s)}}.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){this._currentWriter=new ob(this,this._pendingChanges[0].batch);const s=this._pendingChanges[0].callback(this._currentWriter);e.push(s),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),e}}Ae(cs,je);class Lh extends xr{constructor(e){super(),this.editor=e}set(e,i,s={}){if("string"==typeof i){const c=i;i=(u,h)=>{this.editor.execute(c),h()}}super.set(e,i,s)}}class jh{constructor(e={}){this._context=e.context||new oE({language:e.language||this.constructor.defaultConfig&&this.constructor.defaultConfig.language}),this._context._addEditor(this,!e.context);const s=Array.from(this.constructor.builtinPlugins||[]);this.config=new Jp(e,this.constructor.defaultConfig),this.config.define("plugins",s),this.config.define(this._context._getEditorConfig()),this.plugins=new Vs(this,s,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new _c,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new cs;const c=new Ye;this.data=new Jm(this.model,c),this.editing=new di(this.model,c),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new bn([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Lh(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new A("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new A("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),1===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new A("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),0===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,i=e.get("plugins"),s=e.get("removePlugins")||[],c=e.get("extraPlugins")||[],u=e.get("substitutePlugins")||[];return this.plugins.init(i.concat(c),s,u)}destroy(){let e=Promise.resolve();return"initializing"==this.state&&(e=new Promise(i=>this.once("ready",i))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(...e){try{return this.commands.execute(...e)}catch(i){A.rethrowUnexpectedError(i,this)}}focus(){this.editing.view.focus()}}Ae(jh,je);class WC{constructor(e){this.editor=e,this._components=new Map}*names(){for(const e of this._components.values())yield e.originalName}add(e,i){this._components.set(Dc(e),{callback:i,originalName:e})}create(e){if(!this.has(e))throw new A("componentfactory-item-missing",this,{name:e});return this._components.get(Dc(e)).callback(this.editor.locale)}has(e){return this._components.has(Dc(e))}}function Dc(l){return String(l).toLowerCase()}class hb{constructor(e){this.editor=e,this.componentFactory=new WC(e),this.focusTracker=new So,this.set("viewportOffset",this._readViewportOffsetFromConfig()),this._editableElementsMap=new Map,this.listenTo(e.editing.view.document,"layoutChanged",()=>this.update())}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null;this._editableElementsMap=new Map}setEditableElement(e,i){this._editableElementsMap.set(e,i),i.ckeditorInstance||(i.ckeditorInstance=this.editor)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,i=e.config.get("ui.viewportOffset");if(i)return i;const s=e.config.get("toolbar.viewportTopOffset");return s?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:s}):{top:0}}}Ae(hb,je);const qC={setData(l){this.data.set(l)},getData(l){return this.data.get(l)}},QC=qC,KC={updateSourceElement(l=this.data.get()){if(!this.sourceElement)throw new A("editor-missing-sourceelement",this);const e=this.config.get("updateSourceElementOnDestroy"),i=this.sourceElement instanceof HTMLTextAreaElement;!function ZC(l,e){l instanceof HTMLTextAreaElement&&(l.value=e),l.innerHTML=e}(this.sourceElement,e||i?l:"")}};class fb extends Sl{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new fo({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if("string"!=typeof e)throw new A("pendingactions-add-invalid-message",this);const i=Object.create(je);return i.set("message",e),this._actions.add(i),this.hasAny=!0,i}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const zh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',bo={cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:zh};function ad({emitter:l,activator:e,callback:i,contextElements:s}){l.listenTo(document,"mousedown",(c,u)=>{if(!e())return;const h="function"==typeof u.composedPath?u.composedPath():[];for(const g of s)if(g.contains(u.target)||h.includes(g))return;i()})}function Ec(l){l.set("_isCssTransitionsDisabled",!1),l.disableCssTransitions=()=>{l._isCssTransitionsDisabled=!0},l.enableCssTransitions=()=>{l._isCssTransitionsDisabled=!1},l.extendTemplate({attributes:{class:[l.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function Vh({view:l}){l.listenTo(l.element,"submit",(e,i)=>{i.preventDefault(),l.fire("submit")},{useCapture:!0})}class ls extends fo{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(i,s,c)=>{this._renderViewIntoCollectionParent(s,c)}),this.on("remove",(i,s)=>{s.element&&this._parentElement&&s.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const i of this)this._renderViewIntoCollectionParent(i)}delegate(...e){if(!e.length||!e.every(i=>"string"==typeof i))throw new A("ui-viewcollection-delegate-wrong-events",this);return{to:i=>{for(const s of this)for(const c of e)s.delegate(c).to(i);this.on("add",(s,c)=>{for(const u of e)c.delegate(u).to(i)}),this.on("remove",(s,c)=>{for(const u of e)c.stopDelegating(u,i)})}}}_renderViewIntoCollectionParent(e,i){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[i])}}var Uh=P(4793);Fe()(Uh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Qe{constructor(e){this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new fo,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(i,s)=>{s.locale=e}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=wo.bind(this,this)}createCollection(e){const i=new ls(e);return this._viewCollections.add(i),i}registerChild(e){nn(e)||(e=[e]);for(const i of e)this._unboundChildren.add(i)}deregisterChild(e){nn(e)||(e=[e]);for(const i of e)this._unboundChildren.remove(i)}setTemplate(e){this.template=new wo(e)}extendTemplate(e){wo.extend(this.template,e)}render(){if(this.isRendered)throw new A("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}Ae(Qe,lc),Ae(Qe,je);class wo{constructor(e){Object.assign(this,Mc($h(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new A("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(i){if(i.children)for(const s of i.children)Ir(s)?yield s:Qh(s)&&(yield*e(s))}(this)}static bind(e,i){return{to:(s,c)=>new YC({eventNameOrFunction:s,attribute:s,observable:e,emitter:i,callback:c}),if:(s,c,u)=>new xc({observable:e,emitter:i,attribute:s,valueIfTrue:c,callback:u})}}static extend(e,i){if(e._isRendered)throw new A("template-extend-render",[this,e]);qh(e,Mc($h(i)))}_renderNode(e){let i;if(i=e.node?this.tag&&this.text:this.tag?this.text:!this.text,i)throw new A("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let i=e.node;return i||(i=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),i}_renderText(e){let i=e.node;return i?e.revertData.text=i.textContent:i=e.node=document.createTextNode(""),cd(this.text)?this._bindToObservable({schema:this.text,updater:pb(i),data:e}):i.textContent=this.text.join(""),i}_renderAttributes(e){let i,s,c,u;if(!this.attributes)return;const h=e.node,g=e.revertData;for(i in this.attributes)if(c=h.getAttribute(i),s=this.attributes[i],g&&(g.attributes[i]=c),u=Pe(s[0])&&s[0].ns?s[0].ns:null,cd(s)){const m=u?s[0].value:s;g&&bb(i)&&m.unshift(c),this._bindToObservable({schema:m,updater:mb(h,i,u),data:e})}else"style"==i&&"string"!=typeof s[0]?this._renderStyleAttribute(s[0],e):(g&&c&&bb(i)&&s.unshift(c),s=s.map(m=>m&&m.value||m).reduce((m,w)=>m.concat(w),[]).reduce(Wh,""),Mr(s)||h.setAttributeNS(u,i,s))}_renderStyleAttribute(e,i){const s=i.node;for(const c in e){const u=e[c];cd(u)?this._bindToObservable({schema:[u],updater:Gh(s,c),data:i}):s.style[c]=u}}_renderElementChildren(e){const i=e.node,s=e.intoFragment?document.createDocumentFragment():i,c=e.isApplying;let u=0;for(const h of this.children)if(dd(h)){if(!c){h.setParent(i);for(const g of h)s.appendChild(g.element)}}else if(Ir(h))c||(h.isRendered||h.render(),s.appendChild(h.element));else if(ci(h))s.appendChild(h);else if(c){const g={children:[],bindings:[],attributes:{}};e.revertData.children.push(g),h._renderNode({node:s.childNodes[u++],isApplying:!0,revertData:g})}else s.appendChild(h.render());e.intoFragment&&i.appendChild(s)}_setUpListeners(e){if(this.eventListeners)for(const i in this.eventListeners){const s=this.eventListeners[i].map(c=>{const[u,h]=i.split("@");return c.activateDomEventListener(u,h,e)});e.revertData&&e.revertData.bindings.push(s)}}_bindToObservable({schema:e,updater:i,data:s}){const c=s.revertData;Hh(e,i,s);const u=e.filter(h=>!Mr(h)).filter(h=>h.observable).map(h=>h.activateAttributeListener(e,i,s));c&&c.bindings.push(u)}_revertTemplateFromNode(e,i){for(const s of i.bindings)for(const c of s)c();if(i.text)e.textContent=i.text;else{for(const s in i.attributes){const c=i.attributes[s];null===c?e.removeAttribute(s):e.setAttribute(s,c)}for(let s=0;s<i.children.length;++s)this._revertTemplateFromNode(e.childNodes[s],i.children[s])}}}Ae(wo,ne);class aa{constructor(e){Object.assign(this,e)}getValue(e){const i=this.observable[this.attribute];return this.callback?this.callback(i,e):i}activateAttributeListener(e,i,s){const c=()=>Hh(e,i,s);return this.emitter.listenTo(this.observable,"change:"+this.attribute,c),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,c)}}}class YC extends aa{activateDomEventListener(e,i,s){const c=(u,h)=>{i&&!h.target.matches(i)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(h):this.observable.fire(this.eventNameOrFunction,h))};return this.emitter.listenTo(s.node,e,c),()=>{this.emitter.stopListening(s.node,e,c)}}}class xc extends aa{getValue(e){return!Mr(super.getValue(e))&&(this.valueIfTrue||!0)}}function cd(l){return!!l&&(l.value&&(l=l.value),Array.isArray(l)?l.some(cd):l instanceof aa)}function Hh(l,e,{node:i}){let s=(u=i,l.map(h=>h instanceof aa?h.getValue(u):h));var u;s=1==l.length&&l[0]instanceof xc?s[0]:s.reduce(Wh,""),Mr(s)?e.remove():e.set(s)}function pb(l){return{set(e){l.textContent=e},remove(){l.textContent=""}}}function mb(l,e,i){return{set(s){l.setAttributeNS(i,e,s)},remove(){l.removeAttributeNS(i,e)}}}function Gh(l,e){return{set(i){l.style[e]=i},remove(){l.style[e]=null}}}function $h(l){return Vo(l,e=>{if(e&&(e instanceof aa||Qh(e)||Ir(e)||dd(e)))return e})}function Mc(l){if("string"==typeof l?l=function(e){return{text:[e]}}(l):l.text&&function(e){e.text=Pt(e.text)}(l),l.on&&(l.eventListeners=function(e){for(const i in e)Ic(e,i);return e}(l.on),delete l.on),!l.text){l.attributes&&function(i){for(const s in i)i[s].value&&(i[s].value=Pt(i[s].value)),Ic(i,s)}(l.attributes);const e=[];if(l.children)if(dd(l.children))e.push(l.children);else for(const i of l.children)Qh(i)||Ir(i)||ci(i)?e.push(i):e.push(new wo(i));l.children=e}return l}function Ic(l,e){l[e]=Pt(l[e])}function Wh(l,e){return Mr(e)?l:Mr(l)?e:`${l} ${e}`}function ld(l,e){for(const i in e)l[i]?l[i].push(...e[i]):l[i]=e[i]}function qh(l,e){if(e.attributes&&(l.attributes||(l.attributes={}),ld(l.attributes,e.attributes)),e.eventListeners&&(l.eventListeners||(l.eventListeners={}),ld(l.eventListeners,e.eventListeners)),e.text&&l.text.push(...e.text),e.children&&e.children.length){if(l.children.length!=e.children.length)throw new A("ui-template-extend-children-mismatch",l);let i=0;for(const s of e.children)qh(l.children[i++],s)}}function Mr(l){return!l&&0!==l}function Ir(l){return l instanceof Qe}function Qh(l){return l instanceof wo}function dd(l){return l instanceof ls}function bb(l){return"class"==l||"style"==l}class JC extends ls{constructor(e,i=[]){super(i),this.locale=e}attachToDom(){this._bodyCollectionContainer=new wo({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=Im(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&0==e.childElementCount&&e.remove()}}var Zh=P(6574);Fe()(Zh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Sc extends Qe{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),i=e.getAttribute("viewBox");for(i&&(this.viewBox=i),this.element.innerHTML="";e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}var XC=P(3332);Fe()(XC.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class kb extends Qe{constructor(e){super(e),this.set("text",""),this.set("position","s");const i=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",i.to("position",s=>"ck-tooltip_"+s),i.if("text","ck-hidden",s=>!s.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:i.to("text")}]}]})}}var Yh=P(4906);Fe()(Yh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Ht extends Qe{constructor(e){super(e);const i=this.bindTemplate,s=U();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(s),this.iconView=new Sc,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const c={tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",u=>!u),i.if("isVisible","ck-hidden",u=>!u),i.to("isOn",u=>u?"ck-on":"ck-off"),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],type:i.to("type",u=>u||"button"),tabindex:i.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${s}`,"aria-disabled":i.if("isEnabled",!0,u=>!u),"aria-pressed":i.to("isOn",u=>!!this.isToggleable&&String(!!u))},children:this.children,on:{click:i.to(u=>{this.isEnabled?this.fire("execute"):u.preventDefault()})}};yt.isSafari&&(c.on.mousedown=i.to(u=>{this.focus(),u.preventDefault()})),this.setTemplate(c)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createTooltipView(){const e=new kb;return e.bind("text").to(this,"_tooltipString"),e.bind("position").to(this,"tooltipPosition"),e}_createLabelView(e){const i=new Qe;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:this.bindTemplate.to("labelStyle"),id:`ck-editor__aria-label_${e}`},children:[{text:this.bindTemplate.to("label")}]}),i}_createKeystrokeView(){const e=new Qe;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",i=>Gu(i))}]}),e}_getTooltipString(e,i,s){return e?"string"==typeof e?e:(s&&(s=Gu(s)),e instanceof Function?e(i,s):`${i}${s?` (${s})`:""}`):""}}var Qo=P(5332);Fe()(Qo.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Tc extends Ht{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Qe;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var _b=P(6781);Fe()(_b.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const vb='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Cb extends Ht{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Sc;return e.content=vb,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}var Jh=P(7686);Fe()(Jh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class yb extends Qe{constructor(e){super(e);const i=this.bindTemplate;this.set("class"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new xr,this.focusTracker=new So,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.to("class"),i.if("isVisible","ck-hidden",s=>!s),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,i)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),i())}),this.keystrokes.set("arrowleft",(e,i)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),i())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new Ht;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new Ht,i=e.bindTemplate;return e.icon=vb,e.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":i.to("isOn",s=>String(s))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}class iy extends Qe{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",s=>`ck-dropdown__panel_${s}`),i.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:i.to(s=>s.preventDefault())}})}focus(){this.children.length&&("function"==typeof this.children.first.focus?this.children.first.focus():Q("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this}))}focusLast(){if(this.children.length){const e=this.children.last;"function"==typeof e.focusLast?e.focusLast():e.focus()}}}var Ze=P(5485);function Xh({element:l,target:e,positions:i,limiter:s,fitInViewport:c,viewportOffsetConfig:u}){Hr(e)&&(e=e()),Hr(s)&&(s=s());const h=(y=l)&&y.parentNode?y.offsetParent===Vt.document.body?null:y.offsetParent:null,g=new Ft(l),m=new Ft(e);var y;let w;const k=c&&function(y){y=Object.assign({top:0,bottom:0,left:0,right:0},y);const F=new Ft(Vt.window);return F.top+=y.top,F.height-=y.top,F.bottom-=y.bottom,F.height-=y.bottom,F}(u)||null,v={targetRect:m,elementRect:g,positionedElementAncestor:h,viewportRect:k};if(s||c){const y=s&&new Ft(s).getVisible();Object.assign(v,{limiterRect:y,viewportRect:k}),w=function(F,G){const{elementRect:$}=G,K=$.getArea(),Y=F.map(Ie=>new ca(Ie,G)).filter(Ie=>!!Ie.name);let ee=0,ce=null;for(const Ie of Y){const{limiterIntersectionArea:Le,viewportIntersectionArea:jt}=Ie;if(Le===K)return Ie;const ut=jt**2+Le**2;ut>ee&&(ee=ut,ce=Ie)}return ce}(i,v)||new ca(i[0],v)}else w=new ca(i[0],v);return w}function ef(l){const{scrollX:e,scrollY:i}=Vt.window;return l.clone().moveBy(e,i)}Fe()(Ze.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ca{constructor(e,i){const s=e(i.targetRect,i.elementRect,i.viewportRect);if(!s)return;const{left:c,top:u,name:h,config:g}=s;this.name=h,this.config=g,this._positioningFunctionCorrdinates={left:c,top:u},this._options=i}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;if(e){const i=this._options.viewportRect;if(!i)return e.getIntersectionArea(this._rect);{const s=e.getIntersection(i);if(s)return s.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const e=this._options.viewportRect;return e?e.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=ef(this._rect),this._options.positionedElementAncestor&&function(e,i){const s=ef(new Ft(i)),c=Sm(i);let u=0,h=0;u-=s.left,h-=s.top,u+=i.scrollLeft,h+=i.scrollTop,u-=c.left,h-=c.top,e.moveBy(u,h)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}class $n extends Qe{constructor(e,i,s){super(e);const c=this.bindTemplate;this.buttonView=i,this.panelView=s,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("id"),this.set("panelPosition","auto"),this.keystrokes=new xr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",c.to("class"),c.if("isEnabled","ck-disabled",u=>!u)],id:c.to("id"),"aria-describedby":c.to("ariaDescribedById")},children:[i,s]}),i.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",()=>{this.isOpen?(this.panelView.position="auto"===this.panelPosition?$n._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelPosition,this.panelView.focus()):this.focus()}),this.keystrokes.listenTo(this.element);const e=(i,s)=>{this.isOpen&&(this.isOpen=!1,s())};this.keystrokes.set("arrowdown",(i,s)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,s())}),this.keystrokes.set("arrowright",(i,s)=>{this.isOpen&&s()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:i,southEast:s,southWest:c,northEast:u,northWest:h,southMiddleEast:g,southMiddleWest:m,northMiddleEast:w,northMiddleWest:k}=$n.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[s,c,g,m,e,u,h,w,k,i]:[c,s,m,g,e,h,u,k,w,i]}}function tf(l){return!!(l&&l.getClientRects&&l.getClientRects().length)}$n.defaultPanelPositions={south:(l,e)=>({top:l.bottom,left:l.left-(e.width-l.width)/2,name:"s"}),southEast:l=>({top:l.bottom,left:l.left,name:"se"}),southWest:(l,e)=>({top:l.bottom,left:l.left-e.width+l.width,name:"sw"}),southMiddleEast:(l,e)=>({top:l.bottom,left:l.left-(e.width-l.width)/4,name:"sme"}),southMiddleWest:(l,e)=>({top:l.bottom,left:l.left-3*(e.width-l.width)/4,name:"smw"}),north:(l,e)=>({top:l.top-e.height,left:l.left-(e.width-l.width)/2,name:"n"}),northEast:(l,e)=>({top:l.top-e.height,left:l.left,name:"ne"}),northWest:(l,e)=>({top:l.top-e.height,left:l.left-e.width+l.width,name:"nw"}),northMiddleEast:(l,e)=>({top:l.top-e.height,left:l.left-(e.width-l.width)/4,name:"nme"}),northMiddleWest:(l,e)=>({top:l.top-e.height,left:l.left-3*(e.width-l.width)/4,name:"nmw"})},$n._getOptimalPosition=Xh;class la{constructor(e){if(Object.assign(this,e),e.actions&&e.keystrokeHandler)for(const i in e.actions){let s=e.actions[i];"string"==typeof s&&(s=[s]);for(const c of s)e.keystrokeHandler.set(c,(u,h)=>{this[i](),h()})}}get first(){return this.focusables.find(Nc)||null}get last(){return this.focusables.filter(Nc).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((i,s)=>{const c=i.element===this.focusTracker.focusedElement;return c&&(e=s),c}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const i=this.current,s=this.focusables.length;if(!s)return null;if(null===i)return this[1===e?"first":"last"];let c=(i+s+e)%s;do{const u=this.focusables.get(c);if(Nc(u))return u;c=(c+s+e)%s}while(c!==i);return null}}function Nc(l){return!(!l.focus||!tf(l.element))}class Ti extends Qe{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class nf extends Qe{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function of(l){return Array.isArray(l)?{items:l,removeItems:[]}:l?Object.assign({items:[],removeItems:[]},l):{items:[],removeItems:[]}}var ud=P(5542);Fe()(ud.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class hd extends Qe{constructor(e,i){super(e);const s=this.bindTemplate,c=this.t;this.options=i||{},this.set("ariaLabel",c("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new So,this.keystrokes=new xr,this.set("class"),this.set("isCompact",!1),this.itemsView=new xE(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const u="rtl"===e.uiLanguageDirection;this._focusCycler=new la({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[u?"arrowright":"arrowleft","arrowup"],focusNext:[u?"arrowleft":"arrowright","arrowdown"]}});const h=["ck","ck-toolbar",s.to("class"),s.if("isCompact","ck-toolbar_compact")];var g;this.options.shouldGroupWhenFull&&this.options.isFloating&&h.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:h,role:"toolbar","aria-label":s.to("ariaLabel"),style:{maxWidth:s.to("maxWidth")}},children:this.children,on:{mousedown:(g=this,g.bindTemplate.to(m=>{m.target===g.element&&m.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new gd(this):new fd(this)}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(e,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,i){const s=of(e),c=s.items.filter((h,g,m)=>"|"===h||-1===s.removeItems.indexOf(h)&&("-"===h?!this.options.shouldGroupWhenFull||(Q("toolbarview-line-break-ignored-when-grouping-items",m),!1):!!i.has(h)||(Q("toolbarview-item-unavailable",{name:h}),!1))),u=this._cleanSeparators(c).map(h=>"|"===h?new Ti:"-"===h?new nf:i.create(h));this.items.addMany(u)}_cleanSeparators(e){const i=h=>"-"!==h&&"|"!==h,s=e.length,c=e.findIndex(i),u=s-e.slice().reverse().findIndex(i);return e.slice(c,u).filter((h,g,m)=>!!i(h)||!(g>0&&m[g-1]===h))}}class xE extends Qe{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class fd{constructor(e){const i=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(s=>s),e.focusables.bindTo(e.items).using(s=>s),e.extendTemplate({attributes:{class:[i.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class gd{constructor(e){this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,e.itemsView.children.bindTo(this.ungroupedItems).using(i=>i),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),e.children.on("add",this._updateFocusCycleableItems.bind(this)),e.children.on("remove",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(i,s)=>{const c=s.index;for(const u of s.removed)c>=this.ungroupedItems.length?this.groupedItems.remove(u):this.ungroupedItems.remove(u);for(let u=c;u<c+s.added.length;u++){const h=s.added[u-c];u>this.ungroupedItems.length?this.groupedItems.add(h,u-this.ungroupedItems.length):this.ungroupedItems.add(h,u)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!tf(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let i;for(;this._areItemsOverflowing;)this._groupLastItem(),i=!0;if(!i&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,i=this.viewLocale.uiLanguageDirection,s=new Ft(e.lastChild),c=new Ft(e);if(!this.cachedPadding){const u=Vt.window.getComputedStyle(e);this.cachedPadding=Number.parseInt(u["ltr"===i?"paddingRight":"paddingLeft"])}return"ltr"===i?s.right>c.right-this.cachedPadding:s.left<c.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Qt(this.viewElement,i=>{e&&e===i.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=i.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Ti),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,i=e.t,s=da(e);return s.class="ck-toolbar__grouped-dropdown",s.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se",xb(s,[]),s.buttonView.set({label:i("Show more items"),tooltip:!0,tooltipPosition:"rtl"===e.uiLanguageDirection?"se":"sw",icon:zh}),s.toolbarView.items.bindTo(this.groupedItems).using(c=>c),s}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var pd=P(1046);Fe()(pd.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class sf extends Qe{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new So,this.keystrokes=new xr,this._focusCycler=new la({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(e,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class ry extends Qe{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}class sy extends Qe{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var Ab=P(7339);Fe()(Ab.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Db=P(3949);function da(l,e=Cb){const i=new e(l),s=new iy(l),c=new $n(l,i,s);return i.bind("isEnabled").to(c),i instanceof Cb?i.bind("isOn").to(c,"isOpen"):i.arrowView.bind("isOn").to(c,"isOpen"),(h=u=c).on("render",()=>{ad({emitter:h,activator:()=>h.isOpen,callback:()=>{h.isOpen=!1},contextElements:[h.element]})}),function(h){h.on("execute",g=>{g.source instanceof Tc||(h.isOpen=!1)})}(u),function(h){h.keystrokes.set("arrowdown",(g,m)=>{h.isOpen&&(h.panelView.focus(),m())}),h.keystrokes.set("arrowup",(g,m)=>{h.isOpen&&(h.panelView.focusLast(),m())})}(u),c;var u,h}function xb(l,e,i={}){const s=l.locale,c=s.t,u=l.toolbarView=new hd(s);u.set("ariaLabel",c("Dropdown toolbar")),l.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),e.map(h=>u.items.add(h)),i.enableActiveItemFocusOnDropdownOpen&&af(l,()=>u.items.find(h=>h.isOn)),l.panelView.children.add(u),u.items.delegate("execute").to(l)}function cy(l,e){const i=l.locale,s=l.listView=new sf(i);s.items.bindTo(e).using(({type:c,model:u})=>{if("separator"===c)return new sy(i);if("button"===c||"switchbutton"===c){const h=new ry(i);let g;return g="button"===c?new Ht(i):new Tc(i),g.bind(...Object.keys(u)).to(u),g.delegate("execute").to(h),h.children.add(g),h}}),l.panelView.children.add(s),s.items.delegate("execute").to(l),af(l,()=>s.items.find(c=>c instanceof ry&&c.children.first.isOn))}function af(l,e){l.on("change:isOpen",()=>{if(!l.isOpen)return;const i=e();i&&("function"==typeof i.focus?i.focus():Q("ui-dropdown-focus-child-on-open-child-missing-focus",{view:i}))},{priority:"low"})}Fe()(Db.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var cf=P(9688);Fe()(cf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class lf extends Qe{constructor(e){super(e),this.body=new JC(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}var dy=P(3662);Fe()(dy.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class uy extends Qe{constructor(e){super(e),this.set("text"),this.set("for"),this.id=`ck-editor__label_${U()}`;const i=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:i.to("for")},children:[{text:i.to("text")}]})}}class IE extends lf{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,i=new uy;return i.text=e("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}class SE extends Qe{constructor(e,i,s){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=s,this._hasExternalElement=!!this._editableElement,this._editingView=i}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const e=this._editingView;function i(s){e.change(c=>{const u=e.document.getRoot(s.name);c.addClass(s.isFocused?"ck-focused":"ck-blurred",u),c.removeClass(s.isFocused?"ck-blurred":"ck-focused",u)})}e.isRenderingInProgress?function s(c){e.once("change:isRenderingInProgress",(u,h,g)=>{g?s(c):i(c)})}(this):i(this)}}class TE extends SE{constructor(e,i,s,c={}){super(e,i,s);const u=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=c.label||(()=>u("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(i=>{const s=e.document.getRoot(this.name);i.setAttribute("aria-label",this._generateLabel(this),s)})}}var hy=P(8847);Fe()(hy.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var fy=P(4879);Fe()(fy.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Sr extends Qe{constructor(e){super(e),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById"),this.focusTracker=new So,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",i.if("isFocused","ck-input_focused"),i.if("isEmpty","ck-input-text_empty"),i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),readonly:i.to("isReadOnly"),inputmode:i.to("inputMode"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById")},on:{input:i.to((...s)=>{this.fire("input",...s),this._updateIsEmpty()}),change:i.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,i,s)=>{this._setDomElementValue(s),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||0===e?e:""}}class df extends Sr{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var Mb=P(2577);Fe()(Mb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Pc extends Qe{constructor(e,i){super(e);const s=`ck-labeled-field-view-${U()}`,c=`ck-labeled-field-view-status-${U()}`;this.fieldView=i(this,s,c),this.set("label"),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class"),this.set("placeholder"),this.labelView=this._createLabelView(s),this.statusView=this._createStatusView(c),this.bind("_statusText").to(this,"errorText",this,"infoText",(h,g)=>h||g);const u=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",u.to("class"),u.if("isEnabled","ck-disabled",h=>!h),u.if("isEmpty","ck-labeled-field-view_empty"),u.if("isFocused","ck-labeled-field-view_focused"),u.if("placeholder","ck-labeled-field-view_placeholder"),u.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:[this.fieldView,this.labelView]},this.statusView]})}_createLabelView(e){const i=new uy(this.locale);return i.for=e,i.bind("text").to(this,"label"),i}_createStatusView(e){const i=new Qe(this.locale),s=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",s.if("errorText","ck-labeled-field-view__status_error"),s.if("_statusText","ck-hidden",c=>!c)],id:e,role:s.if("errorText","alert")},children:[{text:s.to("_statusText")}]}),i}focus(){this.fieldView.focus()}}function md(l,e,i){const s=new df(l.locale);return s.set({id:e,ariaDescribedById:i}),s.bind("isReadOnly").to(l,"isEnabled",c=>!c),s.bind("hasError").to(l,"errorText",c=>!!c),s.on("input",()=>{l.errorText=null}),l.bind("isEmpty","isFocused","placeholder").to(s),s}class Oc extends Sl{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,i)=>{window.alert(i.message)},{priority:"lowest"})}showSuccess(e,i={}){this._showNotification({message:e,type:"success",namespace:i.namespace,title:i.title})}showInfo(e,i={}){this._showNotification({message:e,type:"info",namespace:i.namespace,title:i.title})}showWarning(e,i={}){this._showNotification({message:e,type:"warning",namespace:i.namespace,title:i.title})}_showNotification(e){this.fire(`show:${e.type}`+(e.namespace?`:${e.namespace}`:""),{message:e.message,type:e.type,title:e.title||""})}}class uf{constructor(e,i){i&&qs(this,i),e&&this.set(e)}}function No(l){return e=>e+l}Ae(uf,je);var hf=P(8793);Fe()(hf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const bd=No("px"),Sb=Vt.document.body;class io extends Qe{constructor(e){super(e);const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",i.to("position",s=>`ck-balloon-panel_${s}`),i.if("isVisible","ck-balloon-panel_visible"),i.if("withArrow","ck-balloon-panel_with-arrow"),i.to("class")],style:{top:i.to("top",bd),left:i.to("left",bd)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const i=io.defaultPositions,s=Object.assign({},{element:this.element,positions:[i.southArrowNorth,i.southArrowNorthMiddleWest,i.southArrowNorthMiddleEast,i.southArrowNorthWest,i.southArrowNorthEast,i.northArrowSouth,i.northArrowSouthMiddleWest,i.northArrowSouthMiddleEast,i.northArrowSouthWest,i.northArrowSouthEast,i.viewportStickyNorth],limiter:Sb,fitInViewport:!0},e),c=io._getOptimalPosition(s),u=parseInt(c.left),h=parseInt(c.top),{name:g,config:m={}}=c,{withArrow:w=!0}=m;Object.assign(this,{top:h,left:u,position:g,withArrow:w})}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const i=ff(e.target),s=e.limiter?ff(e.limiter):Sb;this.listenTo(Vt.document,"scroll",(c,u)=>{const h=u.target,g=i&&h.contains(i),m=s&&h.contains(s);!g&&!m&&i&&s||this.attachTo(e)},{useCapture:!0}),this.listenTo(Vt.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(Vt.document,"scroll"),this.stopListening(Vt.window,"resize")}}function ff(l){return kt(l)?l:ns(l)?l.commonAncestorContainer:"function"==typeof l?ff(l()):null}io.arrowHorizontalOffset=25,io.arrowVerticalOffset=10,io.stickyVerticalOffset=20,io._getOptimalPosition=Xh,io.defaultPositions=function({horizontalOffset:l=io.arrowHorizontalOffset,verticalOffset:e=io.arrowVerticalOffset,stickyVerticalOffset:i=io.stickyVerticalOffset,config:s}={}){return{northWestArrowSouthWest:(h,g)=>He({top:c(h,g),left:h.left-l,name:"arrow_sw"},s&&{config:s}),northWestArrowSouthMiddleWest:(h,g)=>He({top:c(h,g),left:h.left-.25*g.width-l,name:"arrow_smw"},s&&{config:s}),northWestArrowSouth:(h,g)=>He({top:c(h,g),left:h.left-g.width/2,name:"arrow_s"},s&&{config:s}),northWestArrowSouthMiddleEast:(h,g)=>He({top:c(h,g),left:h.left-.75*g.width+l,name:"arrow_sme"},s&&{config:s}),northWestArrowSouthEast:(h,g)=>He({top:c(h,g),left:h.left-g.width+l,name:"arrow_se"},s&&{config:s}),northArrowSouthWest:(h,g)=>He({top:c(h,g),left:h.left+h.width/2-l,name:"arrow_sw"},s&&{config:s}),northArrowSouthMiddleWest:(h,g)=>He({top:c(h,g),left:h.left+h.width/2-.25*g.width-l,name:"arrow_smw"},s&&{config:s}),northArrowSouth:(h,g)=>He({top:c(h,g),left:h.left+h.width/2-g.width/2,name:"arrow_s"},s&&{config:s}),northArrowSouthMiddleEast:(h,g)=>He({top:c(h,g),left:h.left+h.width/2-.75*g.width+l,name:"arrow_sme"},s&&{config:s}),northArrowSouthEast:(h,g)=>He({top:c(h,g),left:h.left+h.width/2-g.width+l,name:"arrow_se"},s&&{config:s}),northEastArrowSouthWest:(h,g)=>He({top:c(h,g),left:h.right-l,name:"arrow_sw"},s&&{config:s}),northEastArrowSouthMiddleWest:(h,g)=>He({top:c(h,g),left:h.right-.25*g.width-l,name:"arrow_smw"},s&&{config:s}),northEastArrowSouth:(h,g)=>He({top:c(h,g),left:h.right-g.width/2,name:"arrow_s"},s&&{config:s}),northEastArrowSouthMiddleEast:(h,g)=>He({top:c(h,g),left:h.right-.75*g.width+l,name:"arrow_sme"},s&&{config:s}),northEastArrowSouthEast:(h,g)=>He({top:c(h,g),left:h.right-g.width+l,name:"arrow_se"},s&&{config:s}),southWestArrowNorthWest:(h,g)=>He({top:u(h),left:h.left-l,name:"arrow_nw"},s&&{config:s}),southWestArrowNorthMiddleWest:(h,g)=>He({top:u(h),left:h.left-.25*g.width-l,name:"arrow_nmw"},s&&{config:s}),southWestArrowNorth:(h,g)=>He({top:u(h),left:h.left-g.width/2,name:"arrow_n"},s&&{config:s}),southWestArrowNorthMiddleEast:(h,g)=>He({top:u(h),left:h.left-.75*g.width+l,name:"arrow_nme"},s&&{config:s}),southWestArrowNorthEast:(h,g)=>He({top:u(h),left:h.left-g.width+l,name:"arrow_ne"},s&&{config:s}),southArrowNorthWest:(h,g)=>He({top:u(h),left:h.left+h.width/2-l,name:"arrow_nw"},s&&{config:s}),southArrowNorthMiddleWest:(h,g)=>He({top:u(h),left:h.left+h.width/2-.25*g.width-l,name:"arrow_nmw"},s&&{config:s}),southArrowNorth:(h,g)=>He({top:u(h),left:h.left+h.width/2-g.width/2,name:"arrow_n"},s&&{config:s}),southArrowNorthMiddleEast:(h,g)=>He({top:u(h),left:h.left+h.width/2-.75*g.width+l,name:"arrow_nme"},s&&{config:s}),southArrowNorthEast:(h,g)=>He({top:u(h),left:h.left+h.width/2-g.width+l,name:"arrow_ne"},s&&{config:s}),southEastArrowNorthWest:(h,g)=>He({top:u(h),left:h.right-l,name:"arrow_nw"},s&&{config:s}),southEastArrowNorthMiddleWest:(h,g)=>He({top:u(h),left:h.right-.25*g.width-l,name:"arrow_nmw"},s&&{config:s}),southEastArrowNorth:(h,g)=>He({top:u(h),left:h.right-g.width/2,name:"arrow_n"},s&&{config:s}),southEastArrowNorthMiddleEast:(h,g)=>He({top:u(h),left:h.right-.75*g.width+l,name:"arrow_nme"},s&&{config:s}),southEastArrowNorthEast:(h,g)=>He({top:u(h),left:h.right-g.width+l,name:"arrow_ne"},s&&{config:s}),viewportStickyNorth:(h,g,m)=>h.getIntersection(m)?{top:m.top+i,left:h.left+h.width/2-g.width/2,name:"arrowless",config:He({withArrow:!1},s)}:null};function c(h,g){return h.top-g.height-e}function u(h){return h.bottom+e}}();var Tb=P(4650);Fe()(Tb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var ds=P(7676);Fe()(ds.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Xi=No("px");class Tr extends be{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this.positionLimiter=()=>{const i=this.editor.editing.view,s=i.document.selection.editableElement;return s?i.domConverter.mapViewToDom(s.root):null},this.set("visibleView",null),this.view=new io(e.locale),e.ui.view.body.add(this.view),e.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}destroy(){super.destroy(),this.view.destroy(),this._rotatorView.destroy(),this._fakePanelsView.destroy()}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this.hasView(e.view))throw new A("contextualballoon-add-view-exist",[this,e]);const i=e.stackId||"main";if(!this._idToStack.has(i))return this._idToStack.set(i,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(i));const s=this._idToStack.get(i);e.singleViewMode&&this.showStack(i),s.set(e.view,e),this._viewToStack.set(e.view,s),s===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new A("contextualballoon-remove-view-not-exist",[this,e]);const i=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===i.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),1===i.size?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const i=this._idToStack.get(e);if(!i)throw new A("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(i=>i[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)+1;e[i]||(i=0),this.showStack(this._getStackId(e[i]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)-1;e[i]||(i=e.length-1),this.showStack(this._getStackId(e[i]))}_createRotatorView(){const e=new ua(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(s,c)=>!c&&s>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(s,c)=>{if(c<2)return"";const u=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return i("%0 of %1",[u,c])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new py(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(i,s)=>!s&&i>=2?Math.min(i-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:i="",withArrow:s=!0,singleViewMode:c=!1}){this.view.class=i,this.view.withArrow=s,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),c&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class ua extends Qe{constructor(e){super(e);const i=e.t,s=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new So,this.buttonPrevView=this._createButtonView(i("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(i("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",s.to("isNavigationVisible",c=>c?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:s.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,i){const s=new Ht(this.locale);return s.set({label:e,icon:i,tooltip:!0}),s}}class py extends Qe{constructor(e,i){super(e);const s=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=i,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",s.to("numberOfPanels",c=>c?"":"ck-hidden")],style:{top:s.to("top",Xi),left:s.to("left",Xi),width:s.to("width",Xi),height:s.to("height",Xi)}},children:this.content}),this.on("change:numberOfPanels",(c,u,h,g)=>{h>g?this._addPanels(h-g):this._removePanels(g-h),this.updatePosition()})}_addPanels(e){for(;e--;){const i=new Qe;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}_removePanels(e){for(;e--;){const i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:i}=this._balloonPanelView,{width:s,height:c}=new Ft(this._balloonPanelView.element);Object.assign(this,{top:e,left:i,width:s,height:c})}}}var pf=P(5868);Fe()(pf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const us=No("px");class mf extends Qe{constructor(e){super(e);const i=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new wo({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",s=>s?"block":"none"),height:i.to("isSticky",s=>s?us(this._panelRect.height):null)}}}).render(),this._contentPanel=new wo({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",s=>s?us(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:i.to("_hasViewportTopOffset",s=>s?us(this.viewportTopOffset):null),bottom:i.to("_isStickyToTheLimiter",s=>s?us(this.limiterBottomOffset):null),marginLeft:i.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(Vt.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const e=this._panelRect=this._contentPanel.getBoundingClientRect();let i;this.limiterElement?(i=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&i.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<i.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=i.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:us(-Vt.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}No("px");var bf=P(9695);Fe()(bf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),No("px"),No("px");var Pb=P(4717);Fe()(Pb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const wf=new WeakMap;function kf(l){const{view:e,element:i,text:s,isDirectHost:c=!0,keepOnFocus:u=!1}=l,h=e.document;wf.has(h)||(wf.set(h,new Map),h.registerPostFixer(g=>Bb(h,g))),wf.get(h).set(i,{text:s,isDirectHost:c,keepOnFocus:u,hostElement:c?i:null}),e.change(g=>Bb(h,g))}function Bb(l,e){const i=wf.get(l),s=[];let c=!1;for(const[u,h]of i)h.isDirectHost&&(s.push(u),_f(e,u,h)&&(c=!0));for(const[u,h]of i){if(h.isDirectHost)continue;const g=my(u);g&&(s.includes(g)||(h.hostElement=g,_f(e,u,h)&&(c=!0)))}return c}function _f(l,e,i){const{text:s,isDirectHost:c,hostElement:u}=i;let h=!1;return u.getAttribute("data-placeholder")!==s&&(l.setAttribute("data-placeholder",s,u),h=!0),(c||1==e.childCount)&&function(g,m){if(!g.isAttached()||Array.from(g.getChildren()).some(y=>!y.is("uiElement")))return!1;if(m)return!0;const k=g.document;if(!k.isFocused)return!0;const v=k.selection.anchor;return v&&v.parent!==g}(u,i.keepOnFocus)?(g=l,!(m=u).hasClass("ck-placeholder")&&(g.addClass("ck-placeholder",m),!0)&&(h=!0)):function Rb(l,e){return!!e.hasClass("ck-placeholder")&&(l.removeClass("ck-placeholder",e),!0)}(l,u)&&(h=!0),h;var g,m}function my(l){if(l.childCount){const e=l.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}const vf=new Map;function Ke(l,e,i){let s=vf.get(l);s||(s=new Map,vf.set(l,s)),s.set(e,i)}function by(l){return[l]}function Fb(l,e,i={}){const s=function(c,u){const h=vf.get(c);return h&&h.has(u)?h.get(u):by}(l.constructor,e.constructor);try{return s(l=l.clone(),e,i)}catch(c){throw c}}function OE(l,e,i){l=l.slice(),e=e.slice();const s=new RE(i.document,i.useRelations,i.forceWeakRemove);s.setOriginalOperations(l),s.setOriginalOperations(e);const c=s.originalOperations;if(0==l.length||0==e.length)return{operationsA:l,operationsB:e,originalOperations:c};const u=new WeakMap;for(const m of l)u.set(m,0);const h={nextBaseVersionA:l[l.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:l.length,originalOperationsBCount:e.length};let g=0;for(;g<l.length;){const m=l[g],w=u.get(m);if(w==e.length){g++;continue}const k=e[w],v=Fb(m,k,s.getContext(m,k,!0)),y=Fb(k,m,s.getContext(k,m,!1));s.updateRelation(m,k),s.setOriginalOperations(v,m),s.setOriginalOperations(y,k);for(const F of v)u.set(F,w+y.length);l.splice(g,1,...v),e.splice(w,1,...y)}if(i.padWithNoOps){const m=l.length-h.originalOperationsACount,w=e.length-h.originalOperationsBCount;wy(l,w-m),wy(e,m-w)}return Cf(l,h.nextBaseVersionB),Cf(e,h.nextBaseVersionA),{operationsA:l,operationsB:e,originalOperations:c}}class RE{constructor(e,i,s=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=i,this._forceWeakRemove=!!s,this._relations=new Map}setOriginalOperations(e,i=null){const s=i?this.originalOperations.get(i):null;for(const c of e)this.originalOperations.set(c,s||c)}updateRelation(e,i){switch(e.constructor){case At:switch(i.constructor){case wn:e.targetPosition.isEqual(i.sourcePosition)||i.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,i,"insertAtSource"):e.targetPosition.isEqual(i.deletionPosition)?this._setRelation(e,i,"insertBetween"):e.targetPosition.isAfter(i.sourcePosition)&&this._setRelation(e,i,"moveTargetAfter");break;case At:e.targetPosition.isEqual(i.sourcePosition)||e.targetPosition.isBefore(i.sourcePosition)?this._setRelation(e,i,"insertBefore"):this._setRelation(e,i,"insertAfter")}break;case Lt:switch(i.constructor){case wn:e.splitPosition.isBefore(i.sourcePosition)&&this._setRelation(e,i,"splitBefore");break;case At:if(e.splitPosition.isEqual(i.sourcePosition)||e.splitPosition.isBefore(i.sourcePosition))this._setRelation(e,i,"splitBefore");else{const s=oe._createFromPositionAndShift(i.sourcePosition,i.howMany);e.splitPosition.hasSameParentAs(i.sourcePosition)&&s.containsPosition(e.splitPosition)&&this._setRelation(e,i,{howMany:s.end.offset-e.splitPosition.offset,offset:e.splitPosition.offset-s.start.offset})}}break;case wn:switch(i.constructor){case wn:e.targetPosition.isEqual(i.sourcePosition)||this._setRelation(e,i,"mergeTargetNotMoved"),e.sourcePosition.isEqual(i.targetPosition)&&this._setRelation(e,i,"mergeSourceNotMoved"),e.sourcePosition.isEqual(i.sourcePosition)&&this._setRelation(e,i,"mergeSameElement");break;case Lt:e.sourcePosition.isEqual(i.splitPosition)&&this._setRelation(e,i,"splitAtSource")}break;case xn:{const s=e.newRange;if(!s)return;switch(i.constructor){case At:{const c=oe._createFromPositionAndShift(i.sourcePosition,i.howMany),u=c.containsPosition(s.start)||c.start.isEqual(s.start),h=c.containsPosition(s.end)||c.end.isEqual(s.end);!u&&!h||c.containsRange(s)||this._setRelation(e,i,{side:u?"left":"right",path:u?s.start.path.slice():s.end.path.slice()});break}case wn:{const c=s.start.isEqual(i.targetPosition),u=s.start.isEqual(i.deletionPosition),h=s.end.isEqual(i.deletionPosition),g=s.end.isEqual(i.sourcePosition);(c||u||h||g)&&this._setRelation(e,i,{wasInLeftElement:c,wasStartBeforeMergedElement:u,wasEndBeforeMergedElement:h,wasInRightElement:g});break}}break}}}getContext(e,i,s){return{aIsStrong:s,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(i),abRelation:this._useRelations?this._getRelation(e,i):null,baRelation:this._useRelations?this._getRelation(i,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const i=this.originalOperations.get(e);return i.wasUndone||this._history.isUndoneOperation(i)}_getRelation(e,i){const s=this.originalOperations.get(i),c=this._history.getUndoneOperation(s);if(!c)return null;const u=this.originalOperations.get(e),h=this._relations.get(u);return h&&h.get(c)||null}_setRelation(e,i,s){const c=this.originalOperations.get(e),u=this.originalOperations.get(i);let h=this._relations.get(c);h||(h=new Map,this._relations.set(c,h)),h.set(u,s)}}function Cf(l,e){for(const i of l)i.baseVersion=e++}function wy(l,e){for(let i=0;i<e;i++)l.push(new Mn(0))}function Lb(l,e,i){const s=l.nodes.getNode(0).getAttribute(e);if(s==i)return null;const c=new oe(l.position,l.position.getShiftedBy(l.howMany));return new Xt(c,e,s,i,0)}function kd(l,e){return null===l.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function hs(l,e){const i=[];for(let s=0;s<l.length;s++){const c=l[s],u=new At(c.start,c.end.offset-c.start.offset,e,0);i.push(u);for(let h=s+1;h<l.length;h++)l[h]=l[h]._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany)[0];e=e._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany)}return i}Ke(Xt,Xt,(l,e,i)=>{if(l.key===e.key&&l.range.start.hasSameParentAs(e.range.start)){const s=l.range.getDifference(e.range).map(u=>new Xt(u,l.key,l.oldValue,l.newValue,0)),c=l.range.getIntersection(e.range);return c&&i.aIsStrong&&s.push(new Xt(c,e.key,e.newValue,l.newValue,0)),0==s.length?[new Mn(0)]:s}return[l]}),Ke(Xt,wt,(l,e)=>{if(l.range.start.hasSameParentAs(e.position)&&l.range.containsPosition(e.position)){const i=l.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(s=>new Xt(s,l.key,l.oldValue,l.newValue,l.baseVersion));if(e.shouldReceiveAttributes){const s=Lb(e,l.key,l.oldValue);s&&i.unshift(s)}return i}return l.range=l.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[l]}),Ke(Xt,wn,(l,e)=>{const i=[];l.range.start.hasSameParentAs(e.deletionPosition)&&(l.range.containsPosition(e.deletionPosition)||l.range.start.isEqual(e.deletionPosition))&&i.push(oe._createFromPositionAndShift(e.graveyardPosition,1));const s=l.range._getTransformedByMergeOperation(e);return s.isCollapsed||i.push(s),i.map(c=>new Xt(c,l.key,l.oldValue,l.newValue,l.baseVersion))}),Ke(Xt,At,(l,e)=>function(s,c){const u=oe._createFromPositionAndShift(c.sourcePosition,c.howMany);let h=null,g=[];u.containsRange(s,!0)?h=s:s.start.hasSameParentAs(u.start)?(g=s.getDifference(u),h=s.getIntersection(u)):g=[s];const m=[];for(let w of g){w=w._getTransformedByDeletion(c.sourcePosition,c.howMany);const k=c.getMovedRangeStart(),v=w.start.hasSameParentAs(k);w=w._getTransformedByInsertion(k,c.howMany,v),m.push(...w)}return h&&m.push(h._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany,!1)[0]),m}(l.range,e).map(s=>new Xt(s,l.key,l.oldValue,l.newValue,l.baseVersion))),Ke(Xt,Lt,(l,e)=>{if(l.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||l.range.end.offset++,[l];if(l.range.start.hasSameParentAs(e.splitPosition)&&l.range.containsPosition(e.splitPosition)){const i=l.clone();return i.range=new oe(e.moveTargetPosition.clone(),l.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),l.range.end=e.splitPosition.clone(),l.range.end.stickiness="toPrevious",[l,i]}return l.range=l.range._getTransformedBySplitOperation(e),[l]}),Ke(wt,Xt,(l,e)=>{const i=[l];if(l.shouldReceiveAttributes&&l.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(l.position)){const s=Lb(l,e.key,e.newValue);s&&i.push(s)}return i}),Ke(wt,wt,(l,e,i)=>(l.position.isEqual(e.position)&&i.aIsStrong||(l.position=l.position._getTransformedByInsertOperation(e)),[l])),Ke(wt,At,(l,e)=>(l.position=l.position._getTransformedByMoveOperation(e),[l])),Ke(wt,Lt,(l,e)=>(l.position=l.position._getTransformedBySplitOperation(e),[l])),Ke(wt,wn,(l,e)=>(l.position=l.position._getTransformedByMergeOperation(e),[l])),Ke(xn,wt,(l,e)=>(l.oldRange&&(l.oldRange=l.oldRange._getTransformedByInsertOperation(e)[0]),l.newRange&&(l.newRange=l.newRange._getTransformedByInsertOperation(e)[0]),[l])),Ke(xn,xn,(l,e,i)=>{if(l.name==e.name){if(!i.aIsStrong)return[new Mn(0)];l.oldRange=e.newRange?e.newRange.clone():null}return[l]}),Ke(xn,wn,(l,e)=>(l.oldRange&&(l.oldRange=l.oldRange._getTransformedByMergeOperation(e)),l.newRange&&(l.newRange=l.newRange._getTransformedByMergeOperation(e)),[l])),Ke(xn,At,(l,e,i)=>{if(l.oldRange&&(l.oldRange=oe._createFromRanges(l.oldRange._getTransformedByMoveOperation(e))),l.newRange){if(i.abRelation){const s=oe._createFromRanges(l.newRange._getTransformedByMoveOperation(e));if("left"==i.abRelation.side&&e.targetPosition.isEqual(l.newRange.start))return l.newRange.start.path=i.abRelation.path,l.newRange.end=s.end,[l];if("right"==i.abRelation.side&&e.targetPosition.isEqual(l.newRange.end))return l.newRange.start=s.start,l.newRange.end.path=i.abRelation.path,[l]}l.newRange=oe._createFromRanges(l.newRange._getTransformedByMoveOperation(e))}return[l]}),Ke(xn,Lt,(l,e,i)=>{if(l.oldRange&&(l.oldRange=l.oldRange._getTransformedBySplitOperation(e)),l.newRange){if(i.abRelation){const s=l.newRange._getTransformedBySplitOperation(e);return l.newRange.start.isEqual(e.splitPosition)&&i.abRelation.wasStartBeforeMergedElement?l.newRange.start=he._createAt(e.insertionPosition):l.newRange.start.isEqual(e.splitPosition)&&!i.abRelation.wasInLeftElement&&(l.newRange.start=he._createAt(e.moveTargetPosition)),l.newRange.end=l.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasInRightElement?he._createAt(e.moveTargetPosition):l.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasEndBeforeMergedElement?he._createAt(e.insertionPosition):s.end,[l]}l.newRange=l.newRange._getTransformedBySplitOperation(e)}return[l]}),Ke(wn,wt,(l,e)=>(l.sourcePosition.hasSameParentAs(e.position)&&(l.howMany+=e.howMany),l.sourcePosition=l.sourcePosition._getTransformedByInsertOperation(e),l.targetPosition=l.targetPosition._getTransformedByInsertOperation(e),[l])),Ke(wn,wn,(l,e,i)=>{if(l.sourcePosition.isEqual(e.sourcePosition)&&l.targetPosition.isEqual(e.targetPosition)){if(i.bWasUndone){const s=e.graveyardPosition.path.slice();return s.push(0),l.sourcePosition=new he(e.graveyardPosition.root,s),l.howMany=0,[l]}return[new Mn(0)]}if(l.sourcePosition.isEqual(e.sourcePosition)&&!l.targetPosition.isEqual(e.targetPosition)&&!i.bWasUndone&&"splitAtSource"!=i.abRelation){const s="$graveyard"==l.targetPosition.root.rootName,c="$graveyard"==e.targetPosition.root.rootName;if(c&&!s||(!s||c)&&i.aIsStrong){const h=e.targetPosition._getTransformedByMergeOperation(e),g=l.targetPosition._getTransformedByMergeOperation(e);return[new At(h,l.howMany,g,0)]}return[new Mn(0)]}return l.sourcePosition.hasSameParentAs(e.targetPosition)&&(l.howMany+=e.howMany),l.sourcePosition=l.sourcePosition._getTransformedByMergeOperation(e),l.targetPosition=l.targetPosition._getTransformedByMergeOperation(e),l.graveyardPosition.isEqual(e.graveyardPosition)&&i.aIsStrong||(l.graveyardPosition=l.graveyardPosition._getTransformedByMergeOperation(e)),[l]}),Ke(wn,At,(l,e,i)=>{const s=oe._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!i.bWasUndone&&!i.forceWeakRemove&&l.deletionPosition.hasSameParentAs(e.sourcePosition)&&s.containsPosition(l.sourcePosition)?[new Mn(0)]:(l.sourcePosition.hasSameParentAs(e.targetPosition)&&(l.howMany+=e.howMany),l.sourcePosition.hasSameParentAs(e.sourcePosition)&&(l.howMany-=e.howMany),l.sourcePosition=l.sourcePosition._getTransformedByMoveOperation(e),l.targetPosition=l.targetPosition._getTransformedByMoveOperation(e),l.graveyardPosition.isEqual(e.targetPosition)||(l.graveyardPosition=l.graveyardPosition._getTransformedByMoveOperation(e)),[l])}),Ke(wn,Lt,(l,e,i)=>{if(e.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),l.deletionPosition.isEqual(e.graveyardPosition)&&(l.howMany=e.howMany)),l.targetPosition.isEqual(e.splitPosition)){const s=0!=e.howMany,c=e.graveyardPosition&&l.deletionPosition.isEqual(e.graveyardPosition);if(s||c||"mergeTargetNotMoved"==i.abRelation)return l.sourcePosition=l.sourcePosition._getTransformedBySplitOperation(e),[l]}if(l.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==i.abRelation)return l.howMany=0,l.targetPosition=l.targetPosition._getTransformedBySplitOperation(e),[l];if("mergeSameElement"==i.abRelation||l.sourcePosition.offset>0)return l.sourcePosition=e.moveTargetPosition.clone(),l.targetPosition=l.targetPosition._getTransformedBySplitOperation(e),[l]}return l.sourcePosition.hasSameParentAs(e.splitPosition)&&(l.howMany=e.splitPosition.offset),l.sourcePosition=l.sourcePosition._getTransformedBySplitOperation(e),l.targetPosition=l.targetPosition._getTransformedBySplitOperation(e),[l]}),Ke(At,wt,(l,e)=>{const i=oe._createFromPositionAndShift(l.sourcePosition,l.howMany)._getTransformedByInsertOperation(e,!1)[0];return l.sourcePosition=i.start,l.howMany=i.end.offset-i.start.offset,l.targetPosition.isEqual(e.position)||(l.targetPosition=l.targetPosition._getTransformedByInsertOperation(e)),[l]}),Ke(At,At,(l,e,i)=>{const s=oe._createFromPositionAndShift(l.sourcePosition,l.howMany),c=oe._createFromPositionAndShift(e.sourcePosition,e.howMany);let u,h=i.aIsStrong,g=!i.aIsStrong;if("insertBefore"==i.abRelation||"insertAfter"==i.baRelation?g=!0:"insertAfter"!=i.abRelation&&"insertBefore"!=i.baRelation||(g=!1),u=l.targetPosition.isEqual(e.targetPosition)&&g?l.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):l.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),kd(l,e)&&kd(e,l))return[e.getReversed()];if(s.containsPosition(e.targetPosition)&&s.containsRange(c,!0))return s.start=s.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),s.end=s.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),hs([s],u);if(c.containsPosition(l.targetPosition)&&c.containsRange(s,!0))return s.start=s.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),s.end=s.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),hs([s],u);const m=Xn(l.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==m||"extension"==m)return s.start=s.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),s.end=s.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),hs([s],u);"remove"!=l.type||"remove"==e.type||i.aWasUndone||i.forceWeakRemove?"remove"==l.type||"remove"!=e.type||i.bWasUndone||i.forceWeakRemove||(h=!1):h=!0;const w=[],k=s.getDifference(c);for(const y of k){y.start=y.start._getTransformedByDeletion(e.sourcePosition,e.howMany),y.end=y.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const F="same"==Xn(y.start.getParentPath(),e.getMovedRangeStart().getParentPath()),G=y._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,F);w.push(...G)}const v=s.getIntersection(c);return null!==v&&h&&(v.start=v.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),v.end=v.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===w.length?w.push(v):1==w.length?c.start.isBefore(s.start)||c.start.isEqual(s.start)?w.unshift(v):w.push(v):w.splice(1,0,v)),0===w.length?[new Mn(l.baseVersion)]:hs(w,u)}),Ke(At,Lt,(l,e,i)=>{let s=l.targetPosition.clone();l.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=i.abRelation||(s=l.targetPosition._getTransformedBySplitOperation(e));const c=oe._createFromPositionAndShift(l.sourcePosition,l.howMany);if(c.end.isEqual(e.insertionPosition))return e.graveyardPosition||l.howMany++,l.targetPosition=s,[l];if(c.start.hasSameParentAs(e.splitPosition)&&c.containsPosition(e.splitPosition)){let h=new oe(e.splitPosition,c.end);return h=h._getTransformedBySplitOperation(e),hs([new oe(c.start,e.splitPosition),h],s)}l.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==i.abRelation&&(s=e.moveTargetPosition),l.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==i.abRelation&&(s=l.targetPosition);const u=[c._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const h=c.start.isEqual(e.graveyardPosition)||c.containsPosition(e.graveyardPosition);l.howMany>1&&h&&!i.aWasUndone&&u.push(oe._createFromPositionAndShift(e.insertionPosition,1))}return hs(u,s)}),Ke(At,wn,(l,e,i)=>{const s=oe._createFromPositionAndShift(l.sourcePosition,l.howMany);if(e.deletionPosition.hasSameParentAs(l.sourcePosition)&&s.containsPosition(e.sourcePosition))if("remove"!=l.type||i.forceWeakRemove){if(1==l.howMany)return i.bWasUndone?(l.sourcePosition=e.graveyardPosition.clone(),l.targetPosition=l.targetPosition._getTransformedByMergeOperation(e),[l]):[new Mn(0)]}else if(!i.aWasUndone){const u=[];let h=e.graveyardPosition.clone(),g=e.targetPosition._getTransformedByMergeOperation(e);l.howMany>1&&(u.push(new At(l.sourcePosition,l.howMany-1,l.targetPosition,0)),h=h._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany-1),g=g._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany-1));const m=e.deletionPosition._getCombined(l.sourcePosition,l.targetPosition),w=new At(h,1,m,0),k=w.getMovedRangeStart().path.slice();k.push(0);const v=new he(w.targetPosition.root,k);g=g._getTransformedByMove(h,m,1);const y=new At(g,e.howMany,v,0);return u.push(w),u.push(y),u}const c=oe._createFromPositionAndShift(l.sourcePosition,l.howMany)._getTransformedByMergeOperation(e);return l.sourcePosition=c.start,l.howMany=c.end.offset-c.start.offset,l.targetPosition=l.targetPosition._getTransformedByMergeOperation(e),[l]}),Ke(Gn,wt,(l,e)=>(l.position=l.position._getTransformedByInsertOperation(e),[l])),Ke(Gn,wn,(l,e)=>l.position.isEqual(e.deletionPosition)?(l.position=e.graveyardPosition.clone(),l.position.stickiness="toNext",[l]):(l.position=l.position._getTransformedByMergeOperation(e),[l])),Ke(Gn,At,(l,e)=>(l.position=l.position._getTransformedByMoveOperation(e),[l])),Ke(Gn,Gn,(l,e,i)=>{if(l.position.isEqual(e.position)){if(!i.aIsStrong)return[new Mn(0)];l.oldName=e.newName}return[l]}),Ke(Gn,Lt,(l,e)=>{if("same"==Xn(l.position.path,e.splitPosition.getParentPath())&&!e.graveyardPosition){const i=new Gn(l.position.getShiftedBy(1),l.oldName,l.newName,0);return[l,i]}return l.position=l.position._getTransformedBySplitOperation(e),[l]}),Ke(Ji,Ji,(l,e,i)=>{if(l.root===e.root&&l.key===e.key){if(!i.aIsStrong||l.newValue===e.newValue)return[new Mn(0)];l.oldValue=e.newValue}return[l]}),Ke(Lt,wt,(l,e)=>(l.splitPosition.hasSameParentAs(e.position)&&l.splitPosition.offset<e.position.offset&&(l.howMany+=e.howMany),l.splitPosition=l.splitPosition._getTransformedByInsertOperation(e),l.insertionPosition=l.insertionPosition._getTransformedByInsertOperation(e),[l])),Ke(Lt,wn,(l,e,i)=>{if(!l.graveyardPosition&&!i.bWasUndone&&l.splitPosition.hasSameParentAs(e.sourcePosition)){const s=e.graveyardPosition.path.slice();s.push(0);const c=new he(e.graveyardPosition.root,s),u=Lt.getInsertionPosition(new he(e.graveyardPosition.root,s)),h=new Lt(c,0,u,null,0);return l.splitPosition=l.splitPosition._getTransformedByMergeOperation(e),l.insertionPosition=Lt.getInsertionPosition(l.splitPosition),l.graveyardPosition=h.insertionPosition.clone(),l.graveyardPosition.stickiness="toNext",[h,l]}return l.splitPosition.hasSameParentAs(e.deletionPosition)&&!l.splitPosition.isAfter(e.deletionPosition)&&l.howMany--,l.splitPosition.hasSameParentAs(e.targetPosition)&&(l.howMany+=e.howMany),l.splitPosition=l.splitPosition._getTransformedByMergeOperation(e),l.insertionPosition=Lt.getInsertionPosition(l.splitPosition),l.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedByMergeOperation(e)),[l]}),Ke(Lt,At,(l,e,i)=>{const s=oe._createFromPositionAndShift(e.sourcePosition,e.howMany);if(l.graveyardPosition){const u=s.start.isEqual(l.graveyardPosition)||s.containsPosition(l.graveyardPosition);if(!i.bWasUndone&&u){const h=l.splitPosition._getTransformedByMoveOperation(e),g=l.graveyardPosition._getTransformedByMoveOperation(e),m=g.path.slice();m.push(0);const w=new he(g.root,m);return[new At(h,l.howMany,w,0)]}l.graveyardPosition=l.graveyardPosition._getTransformedByMoveOperation(e)}const c=l.splitPosition.isEqual(e.targetPosition);if(c&&("insertAtSource"==i.baRelation||"splitBefore"==i.abRelation))return l.howMany+=e.howMany,l.splitPosition=l.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),l.insertionPosition=Lt.getInsertionPosition(l.splitPosition),[l];if(c&&i.abRelation&&i.abRelation.howMany){const{howMany:u,offset:h}=i.abRelation;return l.howMany+=u,l.splitPosition=l.splitPosition.getShiftedBy(h),[l]}return l.splitPosition.hasSameParentAs(e.sourcePosition)&&s.containsPosition(l.splitPosition)?(l.howMany-=e.howMany-(l.splitPosition.offset-e.sourcePosition.offset),l.splitPosition.hasSameParentAs(e.targetPosition)&&l.splitPosition.offset<e.targetPosition.offset&&(l.howMany+=e.howMany),l.splitPosition=e.sourcePosition.clone(),l.insertionPosition=Lt.getInsertionPosition(l.splitPosition),[l]):(e.sourcePosition.isEqual(e.targetPosition)||(l.splitPosition.hasSameParentAs(e.sourcePosition)&&l.splitPosition.offset<=e.sourcePosition.offset&&(l.howMany-=e.howMany),l.splitPosition.hasSameParentAs(e.targetPosition)&&l.splitPosition.offset<e.targetPosition.offset&&(l.howMany+=e.howMany)),l.splitPosition.stickiness="toNone",l.splitPosition=l.splitPosition._getTransformedByMoveOperation(e),l.splitPosition.stickiness="toNext",l.insertionPosition=l.graveyardPosition?l.insertionPosition._getTransformedByMoveOperation(e):Lt.getInsertionPosition(l.splitPosition),[l])}),Ke(Lt,Lt,(l,e,i)=>{if(l.splitPosition.isEqual(e.splitPosition)){if(!l.graveyardPosition&&!e.graveyardPosition)return[new Mn(0)];if(l.graveyardPosition&&e.graveyardPosition&&l.graveyardPosition.isEqual(e.graveyardPosition))return[new Mn(0)];if("splitBefore"==i.abRelation)return l.howMany=0,l.graveyardPosition=l.graveyardPosition._getTransformedBySplitOperation(e),[l]}if(l.graveyardPosition&&e.graveyardPosition&&l.graveyardPosition.isEqual(e.graveyardPosition)){const s="$graveyard"==l.splitPosition.root.rootName,c="$graveyard"==e.splitPosition.root.rootName;if(c&&!s||(!s||c)&&i.aIsStrong){const h=[];return e.howMany&&h.push(new At(e.moveTargetPosition,e.howMany,e.splitPosition,0)),l.howMany&&h.push(new At(l.splitPosition,l.howMany,l.moveTargetPosition,0)),h}return[new Mn(0)]}if(l.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedBySplitOperation(e)),l.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==i.abRelation)return l.howMany++,[l];if(e.splitPosition.isEqual(l.insertionPosition)&&"splitBefore"==i.baRelation){const s=e.insertionPosition.path.slice();s.push(0);const c=new he(e.insertionPosition.root,s);return[l,new At(l.insertionPosition,1,c,0)]}return l.splitPosition.hasSameParentAs(e.splitPosition)&&l.splitPosition.offset<e.splitPosition.offset&&(l.howMany-=e.howMany),l.splitPosition=l.splitPosition._getTransformedBySplitOperation(e),l.insertionPosition=Lt.getInsertionPosition(l.splitPosition),[l]});class ky extends $o{constructor(e){super(e),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class _d extends $o{constructor(e){super(e),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class ha{constructor(e){this.document=e}createDocumentFragment(e){return new Xr(this.document,e)}createElement(e,i,s){return new Go(this.document,e,i,s)}createText(e){return new zt(this.document,e)}clone(e,i=!1){return e._clone(i)}appendChild(e,i){return i._appendChild(e)}insertChild(e,i,s){return s._insertChild(e,i)}removeChildren(e,i,s){return s._removeChildren(e,i)}remove(e){const i=e.parent;return i?this.removeChildren(i.getChildIndex(e),1,i):[]}replace(e,i){const s=e.parent;if(s){const c=s.getChildIndex(e);return this.removeChildren(c,1,s),this.insertChild(c,i,s),!0}return!1}unwrapElement(e){const i=e.parent;if(i){const s=i.getChildIndex(e);this.remove(e),this.insertChild(s,e.getChildren(),i)}}rename(e,i){const s=new Go(this.document,e,i.getAttributes(),i.getChildren());return this.replace(i,s)?s:null}setAttribute(e,i,s){s._setAttribute(e,i)}removeAttribute(e,i){i._removeAttribute(e)}addClass(e,i){i._addClass(e)}removeClass(e,i){i._removeClass(e)}setStyle(e,i,s){Lo(e)&&void 0===s&&(s=i),s._setStyle(e,i)}removeStyle(e,i){i._removeStyle(e)}setCustomProperty(e,i,s){s._setCustomProperty(e,i)}removeCustomProperty(e,i){return i._removeCustomProperty(e)}createPositionAt(e,i){return Ce._createAt(e,i)}createPositionAfter(e){return Ce._createAfter(e)}createPositionBefore(e){return Ce._createBefore(e)}createRange(e,i){return new Te(e,i)}createRangeOn(e){return Te._createOn(e)}createRangeIn(e){return Te._createIn(e)}createSelection(e,i,s){return new gn(e,i,s)}}class jb extends hb{constructor(e,i){super(e),this.view=i,this._toolbarConfig=of(e.config.get("toolbar")),this._elementReplacer=new bC}get element(){return this.view.element}init(e){const s=this.view,c=this.editor.editing.view,u=s.editable,h=c.document.getRoot();u.name=h.rootName,s.render();const g=u.element;this.setEditableElement(u.name,g),this.focusTracker.add(g),s.editable.bind("isFocused").to(this.focusTracker),c.attachDomRoot(g),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){const e=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.detachDomRoot(e.editable.name),e.destroy(),super.destroy()}_initToolbar(){const e=this.editor,i=this.view,s=e.editing.view;i.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),i.stickyPanel.limiterElement=i.element,i.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:c})=>c),i.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),function({origin:c,originKeystrokeHandler:u,originFocusTracker:h,toolbar:g,beforeFocus:m,afterBlur:w}){h.add(g.element),u.set("Alt+F10",(k,v)=>{h.isFocused&&!g.focusTracker.isFocused&&(m&&m(),g.focus(),v())}),g.keystrokes.set("Esc",(k,v)=>{g.focusTracker.isFocused&&(c.focus(),w&&w(),v())})}({origin:s,originFocusTracker:this.focusTracker,originKeystrokeHandler:e.keystrokes,toolbar:i.toolbar})}_initPlaceholder(){const e=this.editor,i=e.editing.view,s=i.document.getRoot(),c=e.sourceElement,u=e.config.get("placeholder")||c&&"textarea"===c.tagName.toLowerCase()&&c.getAttribute("placeholder");u&&kf({view:i,element:s,text:u,isDirectHost:!1,keepOnFocus:!0})}}var zb=P(3143);Fe()(zb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class _y extends IE{constructor(e,i,s={}){super(e),this.stickyPanel=new mf(e),this.toolbar=new hd(e,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull}),this.editable=new TE(e,i)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class yf extends jh{constructor(e,i={}){if(!kt(e)&&void 0!==i.initialData)throw new A("editor-create-initial-data",null);var u,h;super(i),void 0===this.config.get("initialData")&&this.config.set("initialData",kt(u=e)?(h=u)instanceof HTMLTextAreaElement?h.value:h.innerHTML:u),kt(e)&&(this.sourceElement=e),this.model.document.createRoot();const s=!this.config.get("toolbar.shouldNotGroupWhenFull"),c=new _y(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:s});this.ui=new jb(this,c),function(u){if(!Hr(u.updateSourceElement))throw new A("attachtoform-missing-elementapi-interface",u);const h=u.sourceElement;if(h&&"textarea"===h.tagName.toLowerCase()&&h.form){let g;const m=h.form,w=()=>u.updateSourceElement();Hr(m.submit)&&(g=m.submit,m.submit=()=>{w(),g.apply(m)}),m.addEventListener("submit",w),u.on("destroy",()=>{m.removeEventListener("submit",w),g&&(m.submit=g)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,i={}){return new Promise(s=>{const c=new this(e,i);s(c.initPlugins().then(()=>c.ui.init(kt(e)?e:null)).then(()=>c.data.init(c.config.get("initialData"))).then(()=>c.fire("ready")).then(()=>c))})}}Ae(yf,QC),Ae(yf,KC);class Ub{constructor(e){this.files=function(i){const s=Array.from(i.files||[]),c=Array.from(i.items||[]);return s.length?s:c.filter(u=>"file"===u.kind).map(u=>u.getAsFile())}(e),this._native=e}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,i){this._native.setData(e,i)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}class vd extends $o{constructor(e){super(e);const i=this.document;function s(c){return(u,h)=>{h.preventDefault();const g=h.dropRange?[h.dropRange]:null,m=new I(i,c);i.fire(m,{dataTransfer:h.dataTransfer,method:u.name,targetRanges:g,target:h.target}),m.stop.called&&h.stopPropagation()}}this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],this.listenTo(i,"paste",s("clipboardInput"),{priority:"low"}),this.listenTo(i,"drop",s("clipboardInput"),{priority:"low"}),this.listenTo(i,"dragover",s("dragging"),{priority:"low"})}onDomEvent(e){const i={dataTransfer:new Ub(e.clipboardData?e.clipboardData:e.dataTransfer)};"drop"!=e.type&&"dragover"!=e.type||(i.dropRange=function(s,c){const u=c.target.ownerDocument,h=c.clientX,g=c.clientY;let m;return u.caretRangeFromPoint&&u.caretRangeFromPoint(h,g)?m=u.caretRangeFromPoint(h,g):c.rangeParent&&(m=u.createRange(),m.setStart(c.rangeParent,c.rangeOffset),m.collapse(!0)),m?s.domConverter.domRangeToView(m):null}(this.view,e)),this.fire(e.type,e,i)}}const Hb=["figcaption","li"];function hi(l){let e="";if(l.is("$text")||l.is("$textProxy"))e=l.data;else if(l.is("element","img")&&l.hasAttribute("alt"))e=l.getAttribute("alt");else if(l.is("element","br"))e="\n";else{let i=null;for(const s of l.getChildren()){const c=hi(s);i&&(i.is("containerElement")||s.is("containerElement"))&&(Hb.includes(i.name)||Hb.includes(s.name)?e+="\n":e+="\n\n"),e+=c,i=s}}return e}class Zo extends be{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(vd),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const e=this.editor,i=e.model,s=e.editing.view,c=s.document;this.listenTo(c,"clipboardInput",u=>{e.isReadOnly&&u.stop()},{priority:"highest"}),this.listenTo(c,"clipboardInput",(u,h)=>{const g=h.dataTransfer;let m=h.content||"";var w;m||(g.getData("text/html")?m=g.getData("text/html").replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(y,F)=>1==F.length?" ":F).replace(/<!--[\s\S]*?-->/g,""):g.getData("text/plain")&&(((w=(w=g.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||w.includes("<br>"))&&(w=`<p>${w}</p>`),m=w),m=this.editor.data.htmlProcessor.toView(m));const k=new I(this,"inputTransformation");this.fire(k,{content:m,dataTransfer:g,targetRanges:h.targetRanges,method:h.method}),k.stop.called&&u.stop(),s.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(u,h)=>{if(h.content.isEmpty)return;const g=this.editor.data.toModel(h.content,"$clipboardHolder");0!=g.childCount&&(u.stop(),i.change(()=>{this.fire("contentInsertion",{content:g,method:h.method,dataTransfer:h.dataTransfer,targetRanges:h.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(u,h)=>{h.resultRange=i.insertContent(h.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,i=e.model.document,s=e.editing.view.document;function c(u,h){const g=h.dataTransfer;h.preventDefault();const m=e.data.toView(e.model.getSelectedContent(i.selection));s.fire("clipboardOutput",{dataTransfer:g,content:m,method:u.name})}this.listenTo(s,"copy",c,{priority:"low"}),this.listenTo(s,"cut",(u,h)=>{e.isReadOnly?h.preventDefault():c(u,h)},{priority:"low"}),this.listenTo(s,"clipboardOutput",(u,h)=>{h.content.isEmpty||(h.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(h.content)),h.dataTransfer.setData("text/plain",hi(h.content))),"cut"==h.method&&e.model.deleteContent(i.selection)},{priority:"low"})}}function*Gb(l,e){for(const i of e)i&&l.getAttributeProperties(i[0]).copyOnEnter&&(yield i)}class vy extends st{execute(){const e=this.editor.model,i=e.document;e.change(s=>{(function(c,u,h,g){const m=h.isCollapsed,w=h.getFirstRange(),k=w.start.parent,v=w.end.parent;if(g.isLimit(k)||g.isLimit(v))m||k!=v||c.deleteContent(h);else if(m){const y=Gb(u.model.schema,h.getAttributes());Cy(u,w.start),u.setSelectionAttribute(y)}else{const y=!(w.start.isAtStart&&w.end.isAtEnd),F=k==v;c.deleteContent(h,{leaveUnmerged:y}),y&&(F?Cy(u,h.focus):u.setSelection(v,0))}})(this.editor.model,s,i.selection,e.schema),this.fire("afterExecute",{writer:s})})}}function Cy(l,e){l.split(e),l.setSelection(e.parent.nextSibling,0)}class Af extends no{constructor(e){super(e);const i=this.document;i.on("keydown",(s,c)=>{if(this.isEnabled&&c.keyCode==Xe.enter){const u=new Jr(i,"enter",i.selection.getFirstRange());i.fire(u,new dc(i,c.domEvent,{isSoft:c.shiftKey})),u.stop.called&&s.stop()}})}observe(){}}class Cd extends be{static get pluginName(){return"Enter"}init(){const e=this.editor,i=e.editing.view,s=i.document;i.addObserver(Af),e.commands.add("enter",new vy(e)),this.listenTo(s,"enter",(c,u)=>{u.preventDefault(),u.isSoft||(e.execute("enter"),i.scrollToTheSelection())},{priority:"low"})}}class $b{constructor(e,i=20){this.model=e,this.size=0,this.limit=i,this.isLocked=!1,this._changeCallback=(s,c)=>{c.isLocal&&c.isUndoable&&c!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}input(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e){this.isLocked&&!e||(this._batch=null,this.size=0)}}class Wb extends st{constructor(e,i){super(e),this.direction=i,this._buffer=new $b(e.model,e.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(e={}){const i=this.editor.model,s=i.document;i.enqueueChange(this._buffer.batch,c=>{this._buffer.lock();const u=c.createSelection(e.selection||s.selection),h=e.sequence||1,g=u.isCollapsed;if(u.isCollapsed&&i.modifySelection(u,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(h))return void this._replaceEntireContentWithParagraph(c);if(this._shouldReplaceFirstBlockWithParagraph(u,h))return void this.editor.execute("paragraph",{selection:u});if(u.isCollapsed)return;let m=0;u.getFirstRange().getMinimalFlatRanges().forEach(w=>{m+=Yr(w.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),i.deleteContent(u,{doNotResetEntireContent:g,direction:this.direction}),this._buffer.input(m),c.setSelection(u),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const i=this.editor.model,s=i.document.selection,c=i.schema.getLimitElement(s);if(!s.isCollapsed||!s.containsEntireContent(c)||!i.schema.checkChild(c,"paragraph"))return!1;const u=c.getChild(0);return!u||"paragraph"!==u.name}_replaceEntireContentWithParagraph(e){const i=this.editor.model,c=i.schema.getLimitElement(i.document.selection),u=e.createElement("paragraph");e.remove(e.createRangeIn(c)),e.insert(u,c),e.setSelection(u,0)}_shouldReplaceFirstBlockWithParagraph(e,i){const s=this.editor.model;if(i>1||"backward"!=this.direction||!e.isCollapsed)return!1;const c=e.getFirstPosition(),u=s.schema.getLimitElement(c),h=u.getChild(0);return c.parent==h&&!!e.containsEntireContent(h)&&!!s.schema.checkChild(u,"paragraph")&&"paragraph"!=h.name}}function yd(l){if(l.newChildren.length-l.oldChildren.length!=1)return;const e=function(s,c){const u=[];let h=0,g=null;return s.forEach(w=>{"equal"==w?(m(),h++):"insert"==w?(g&&"insert"==g.type?g.values.push(c[h]):(m(),g={type:"insert",index:h,values:[c[h]]}),h++):g&&"delete"==g.type?g.howMany++:(m(),g={type:"delete",index:h,howMany:1})}),m(),u;function m(){g&&(u.push(g),g=null)}}(yi(l.oldChildren,l.newChildren,yy),l.newChildren);if(e.length>1)return;const i=e[0];return i.values[0]&&i.values[0].is("$text")?i:void 0}function yy(l,e){return l&&l.is("$text")&&e&&e.is("$text")?l.data===e.data:l===e}function qb(l,e){return l.shiftKey&&l.keyCode===Xe.delete&&!e.selection.isCollapsed}class Ad extends no{constructor(e){super(e);const i=e.document;let s=0;function c(u,h,g){const m=new Jr(i,"delete",i.selection.getFirstRange());i.fire(m,new dc(i,h,g)),m.stop.called&&u.stop()}i.on("keyup",(u,h)=>{h.keyCode!=Xe.delete&&h.keyCode!=Xe.backspace||(s=0)}),i.on("keydown",(u,h)=>{if(yt.isWindows&&qb(h,i))return;const g={};if(h.keyCode==Xe.delete)g.direction="forward",g.unit="character";else{if(h.keyCode!=Xe.backspace)return;g.direction="backward",g.unit="codePoint"}g.unit=(yt.isMac?h.altKey:h.ctrlKey)?"word":g.unit,g.sequence=++s,c(u,h.domEvent,g)}),yt.isAndroid&&i.on("beforeinput",(u,h)=>{if("deleteContentBackward"!=h.domEvent.inputType)return;const g={unit:"codepoint",direction:"backward",sequence:1},m=h.domTarget.ownerDocument.defaultView.getSelection();m.anchorNode==m.focusNode&&m.anchorOffset+1!=m.focusOffset&&(g.selectionToRemove=e.domConverter.domSelectionToView(m)),c(u,h.domEvent,g)})}observe(){}}class Ni extends be{static get pluginName(){return"Delete"}init(){const e=this.editor,i=e.editing.view,s=i.document,c=e.model.document;i.addObserver(Ad),this._undoOnBackspace=!1;const u=new Wb(e,"forward");if(e.commands.add("deleteForward",u),e.commands.add("forwardDelete",u),e.commands.add("delete",new Wb(e,"backward")),this.listenTo(s,"delete",(h,g)=>{const m={unit:g.unit,sequence:g.sequence};if(g.selectionToRemove){const w=e.model.createSelection(),k=[];for(const v of g.selectionToRemove.getRanges())k.push(e.editing.mapper.toModelRange(v));w.setTo(k),m.selection=w}e.execute("forward"==g.direction?"deleteForward":"delete",m),g.preventDefault(),i.scrollToTheSelection()},{priority:"low"}),yt.isAndroid){let h=null;this.listenTo(s,"delete",(g,m)=>{const w=m.domTarget.ownerDocument.defaultView.getSelection();h={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}},{priority:"lowest"}),this.listenTo(s,"keyup",(g,m)=>{if(h){const w=m.domTarget.ownerDocument.defaultView.getSelection();w.collapse(h.anchorNode,h.anchorOffset),w.extend(h.focusNode,h.focusOffset),h=null}})}this.editor.plugins.has("UndoEditing")&&(this.listenTo(s,"delete",(h,g)=>{this._undoOnBackspace&&"backward"==g.direction&&1==g.sequence&&"codePoint"==g.unit&&(this._undoOnBackspace=!1,e.execute("undo"),g.preventDefault(),h.stop())},{context:"$capture"}),this.listenTo(c,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Qb{constructor(){this._stack=[]}add(e,i){const s=this._stack,c=s[0];this._insertDescriptor(e);const u=s[0];c===u||Bc(c,u)||this.fire("change:top",{oldDescriptor:c,newDescriptor:u,writer:i})}remove(e,i){const s=this._stack,c=s[0];this._removeDescriptor(e);const u=s[0];c===u||Bc(c,u)||this.fire("change:top",{oldDescriptor:c,newDescriptor:u,writer:i})}_insertDescriptor(e){const i=this._stack,s=i.findIndex(u=>u.id===e.id);if(Bc(e,i[s]))return;s>-1&&i.splice(s,1);let c=0;for(;i[c]&&Df(i[c],e);)c++;i.splice(c,0,e)}_removeDescriptor(e){const i=this._stack,s=i.findIndex(c=>c.id===e);s>-1&&i.splice(s,1)}}function Bc(l,e){return l&&e&&l.priority==e.priority&&Fc(l.classes)==Fc(e.classes)}function Df(l,e){return l.priority>e.priority||!(l.priority<e.priority)&&Fc(l.classes)>Fc(e.classes)}function Fc(l){return Array.isArray(l)?l.sort().join(","):l}Ae(Qb,ne);const Ay="ck-widget_selected";function Gt(l){return!!l.is("element")&&!!l.getCustomProperty("widget")}function Zb(l,e,i={}){if(!l.is("containerElement"))throw new A("widget-to-widget-wrong-element-type",null,{element:l});return e.setAttribute("contenteditable","false",l),e.addClass("ck-widget",l),e.setCustomProperty("widget",!0,l),l.getFillerOffset=er,i.label&&e.setCustomProperty("widgetLabel",i.label,l),i.hasSelectionHandle&&function(s,c){const u=c.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(h){const g=this.toDomElement(h),m=new Sc;return m.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),m.render(),g.appendChild(m.element),g});c.insert(c.createPositionAt(s,0),u),c.addClass(["ck-widget_with-selection-handle"],s)}(l,e),Ef(l,e),l}function Dy(l,e,i){if(e.classes&&i.addClass(Pt(e.classes),l),e.attributes)for(const s in e.attributes)i.setAttribute(s,e.attributes[s],l)}function Kb(l,e,i){if(e.classes&&i.removeClass(Pt(e.classes),l),e.attributes)for(const s in e.attributes)i.removeAttribute(s,l)}function Ef(l,e,i=Dy,s=Kb){const c=new Qb;c.on("change:top",(u,h)=>{h.oldDescriptor&&s(l,h.oldDescriptor,h.writer),h.newDescriptor&&i(l,h.newDescriptor,h.writer)}),e.setCustomProperty("addHighlight",(u,h,g)=>c.add(h,g),l),e.setCustomProperty("removeHighlight",(u,h,g)=>c.remove(h,g),l)}function Yb(l){const e=l.getCustomProperty("widgetLabel");return e?"function"==typeof e?e():e:""}function xf(l,e,i={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],l),e.setAttribute("role","textbox",l),i.label&&e.setAttribute("aria-label",i.label,l),e.setAttribute("contenteditable",l.isReadOnly?"false":"true",l),l.on("change:isReadOnly",(s,c,u)=>{e.setAttribute("contenteditable",u?"false":"true",l)}),l.on("change:isFocused",(s,c,u)=>{u?e.addClass("ck-editor__nested-editable_focused",l):e.removeClass("ck-editor__nested-editable_focused",l)}),Ef(l,e),l}function Mf(l,e){const i=l.getSelectedElement();if(i){const s=Nr(l);if(s)return e.createRange(e.createPositionAt(i,s))}return as(l,e)}function er(){return null}const Ko="widget-type-around";function fs(l,e,i){return l&&Gt(l)&&!i.isInline(e)}function Nr(l){return l.getAttribute(Ko)}const Ey=[ai("arrowUp"),ai("arrowRight"),ai("arrowDown"),ai("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let l=112;l<=135;l++)Ey.push(l);function Dd(l){return!(!l.ctrlKey&&!l.metaKey)||Ey.includes(l.keyCode)}var If=P(4921);Fe()(If.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const fa=["before","after"],xy=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,Ed="ck-widget__type-around_disabled";class Jb extends be{static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Cd,Ni]}constructor(e){super(e),this._currentFakeCaretModelElement=null}init(){const e=this.editor,i=e.editing.view;this.on("change:isEnabled",(s,c,u)=>{i.change(h=>{for(const g of i.document.roots)u?h.removeClass(Ed,g):h.addClass(Ed,g)}),u||e.model.change(h=>{h.removeSelectionAttribute(Ko)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){this._currentFakeCaretModelElement=null}_insertParagraph(e,i){const s=this.editor,c=s.editing.view,u=s.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);s.execute("insertParagraph",{position:s.model.createPositionAt(e,i),attributes:u}),c.focus(),c.scrollToTheSelection()}_listenToIfEnabled(e,i,s,c){this.listenTo(e,i,(...u)=>{this.isEnabled&&s(...u)},c)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,i=Nr(e);if(!i)return!1;const s=e.getSelectedElement();return this._insertParagraph(s,i),!0}_enableTypeAroundUIInjection(){const e=this.editor,i=e.model.schema,s=e.locale.t,c={before:s("Insert paragraph before block"),after:s("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(u,h,g)=>{const m=g.mapper.toViewElement(h.item);fs(m,h.item,i)&&function(w,k,v){const y=w.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(F){const G=this.toDomElement(F);return function($,K){for(const Y of fa){const ee=new wo({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${Y}`],title:K[Y]},children:[$.ownerDocument.importNode(xy,!0)]});$.appendChild(ee.render())}}(G,k),function($){const K=new wo({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});$.appendChild(K.render())}(G),G});w.insert(w.createPositionAt(v,"end"),y)}(g.writer,c,m)},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,i=e.model,s=i.document.selection,c=i.schema;function h(g){return`ck-widget_type-around_show-fake-caret_${g}`}this._listenToIfEnabled(e.editing.view.document,"arrowKey",(g,m)=>{this._handleArrowKeyPress(g,m)},{context:[Gt,"$text"],priority:"high"}),this._listenToIfEnabled(s,"change:range",(g,m)=>{m.directChange&&e.model.change(w=>{w.removeSelectionAttribute(Ko)})}),this._listenToIfEnabled(i.document,"change:data",()=>{const g=s.getSelectedElement();g&&fs(e.editing.mapper.toViewElement(g),g,c)||e.model.change(m=>{m.removeSelectionAttribute(Ko)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(g,m,w)=>{const k=w.writer;if(this._currentFakeCaretModelElement){const G=w.mapper.toViewElement(this._currentFakeCaretModelElement);G&&(k.removeClass(fa.map(h),G),this._currentFakeCaretModelElement=null)}const v=m.selection.getSelectedElement();if(!v)return;const y=w.mapper.toViewElement(v);if(!fs(y,v,c))return;const F=Nr(m.selection);F&&(k.addClass(h(F),y),this._currentFakeCaretModelElement=v)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(g,m,w)=>{w||e.model.change(k=>{k.removeSelectionAttribute(Ko)})})}_handleArrowKeyPress(e,i){const s=this.editor,c=s.model,u=c.document.selection,h=c.schema,g=s.editing.view,m=function(v,y){const F=Gs(v,y);return"down"===F||"right"===F}(i.keyCode,s.locale.contentLanguageDirection),w=g.document.selection.getSelectedElement();let k;fs(w,s.editing.mapper.toModelElement(w),h)?k=this._handleArrowKeyPressOnSelectedWidget(m):u.isCollapsed?k=this._handleArrowKeyPressWhenSelectionNextToAWidget(m):i.shiftKey||(k=this._handleArrowKeyPressWhenNonCollapsedSelection(m)),k&&(i.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const i=this.editor.model,s=Nr(i.document.selection);return i.change(c=>s?s!==(e?"after":"before")&&(c.removeSelectionAttribute(Ko),!0):(c.setSelectionAttribute(Ko,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const i=this.editor,s=i.model,c=s.schema,u=i.plugins.get("Widget"),h=u._getObjectElementNextToSelection(e);return!!fs(i.editing.mapper.toViewElement(h),h,c)&&(s.change(g=>{u._setSelectionOverElement(h),g.setSelectionAttribute(Ko,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const i=this.editor,s=i.model,c=s.schema,u=i.editing.mapper,h=s.document.selection,g=e?h.getLastPosition().nodeBefore:h.getFirstPosition().nodeAfter;return!!fs(u.toViewElement(g),g,c)&&(s.change(m=>{m.setSelection(g,"on"),m.setSelectionAttribute(Ko,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,i=e.editing.view;this._listenToIfEnabled(i.document,"mousedown",(s,c)=>{const u=c.domTarget.closest(".ck-widget__type-around__button");if(!u)return;const h=u.classList.contains("ck-widget__type-around__button_before")?"before":"after",g=function(w,k){const v=w.closest(".ck-widget");return k.mapDomToView(v)}(u,i.domConverter),m=e.editing.mapper.toModelElement(g);this._insertParagraph(m,h),c.preventDefault(),s.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,i=e.model.document.selection;this._listenToIfEnabled(e.editing.view.document,"enter",(c,u)=>{if("atTarget"!=c.eventPhase)return;const h=i.getSelectedElement(),g=e.editing.mapper.toViewElement(h),m=e.model.schema;let w;this._insertParagraphAccordingToFakeCaretPosition()?w=!0:fs(g,h,m)&&(this._insertParagraph(h,u.isSoft?"before":"after"),w=!0),w&&(u.preventDefault(),c.stop())},{context:Gt})}_enableInsertingParagraphsOnTypingKeystroke(){const i=[Xe.enter,Xe.delete,Xe.backspace];this._listenToIfEnabled(this.editor.editing.view.document,"keydown",(s,c)=>{i.includes(c.keyCode)||Dd(c)||this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,s=e.model,c=s.schema;this._listenToIfEnabled(e.editing.view.document,"delete",(u,h)=>{if("atTarget"!=u.eventPhase)return;const g=Nr(s.document.selection);if(!g)return;const m=h.direction,w=s.document.selection.getSelectedElement(),k="forward"==m;if("before"===g===k)e.execute("delete",{selection:s.createSelection(w,"on")});else{const v=c.getNearestSelectionRange(s.createPositionAt(w,g),m);if(v)if(v.isCollapsed){const y=s.createSelection(v.start);if(s.modifySelection(y,{direction:m}),y.focus.isEqual(v.start)){const F=function(G,$){let K=$;for(const Y of $.getAncestors({parentFirst:!0})){if(Y.childCount>1||G.isLimit(Y))break;K=Y}return K}(c,v.start.parent);s.deleteContent(s.createSelection(F,"on"),{doNotAutoparagraph:!0})}else s.change(F=>{F.setSelection(v),e.execute(k?"deleteForward":"delete")})}else s.change(y=>{y.setSelection(v),e.execute(k?"deleteForward":"delete")})}h.preventDefault(),u.stop()},{context:Gt})}_enableInsertContentIntegration(){const i=this.editor.model,s=i.document.selection;this._listenToIfEnabled(this.editor.model,"insertContent",(c,[u,h])=>{if(h&&!h.is("documentSelection"))return;const g=Nr(s);return g?(c.stop(),i.change(m=>{const w=s.getSelectedElement(),k=i.createPositionAt(w,g),v=m.createSelection(k),y=i.insertContent(u,v);return m.setSelection(v),y})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const i=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"insertObject",(s,c)=>{const[,u,,h={}]=c;if(u&&!u.is("documentSelection"))return;const g=Nr(i);g&&(h.findOptimalPosition=g,c[3]=h)},{priority:"high"})}_enableDeleteContentIntegration(){const i=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"deleteContent",(s,[c])=>{c&&!c.is("documentSelection")||Nr(i)&&s.stop()},{priority:"high"})}}function Tf(l,e,i){const s=l.schema,c=l.createRangeIn(e.root),u="forward"==i?"elementStart":"elementEnd";for(const{previousPosition:h,item:g,type:m}of c.getWalker({startPosition:e,direction:i})){if(s.isLimit(g)&&!s.isInline(g))return h;if(m==u&&s.isBlock(g))return null}return null}function ew(l,e,i){const s="backward"==i?e.end:e.start;if(l.checkChild(s,"$text"))return s;for(const{nextPosition:c}of e.getWalker({direction:i}))if(l.checkChild(c,"$text"))return c;return null}var xd=P(3488);Fe()(xd.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Lc extends be{static get pluginName(){return"Widget"}static get requires(){return[Jb,Ni]}init(){const e=this.editor,i=e.editing.view,s=i.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(c,u,h)=>{const g=h.writer,m=u.selection;if(m.isCollapsed)return;const w=m.getSelectedElement();if(!w)return;const k=e.editing.mapper.toViewElement(w);Gt(k)&&h.consumable.consume(m,"selection")&&g.setSelection(g.createRangeOn(k),{fake:!0,label:Yb(k)})}),this.editor.editing.downcastDispatcher.on("selection",(c,u,h)=>{this._clearPreviouslySelectedWidgets(h.writer);const g=h.writer,m=g.document.selection;let w=null;for(const k of m.getRanges())for(const v of k){const y=v.item;Gt(y)&&!tw(y,w)&&(g.addClass(Ay,y),this._previouslySelected.add(y),w=y)}},{priority:"low"}),i.addObserver(_d),this.listenTo(s,"mousedown",(...c)=>this._onMousedown(...c)),this.listenTo(s,"arrowKey",(...c)=>{this._handleSelectionChangeOnArrowKeyPress(...c)},{context:[Gt,"$text"]}),this.listenTo(s,"arrowKey",(...c)=>{this._preventDefaultOnArrowKeyPress(...c)},{context:"$root"}),this.listenTo(s,"arrowKey",function Xb(l){const e=l.model;return(i,s)=>{const u=s.keyCode==Xe.arrowdown,h=s.shiftKey,g=e.document.selection;if(s.keyCode!=Xe.arrowup&&!u)return;const m=u;if(h&&!(k=g).isCollapsed&&k.isBackward==m)return;var k;const w=function(k,v,y){const F=k.model;if(y){const G=v.isCollapsed?v.focus:v.getLastPosition(),$=Tf(F,G,"forward");if(!$)return null;const K=F.createRange(G,$),Y=ew(F.schema,K,"backward");return Y?F.createRange(G,Y):null}{const G=v.isCollapsed?v.focus:v.getFirstPosition(),$=Tf(F,G,"backward");if(!$)return null;const K=F.createRange($,G),Y=ew(F.schema,K,"forward");return Y?F.createRange(Y,G):null}}(l,g,m);if(w){if(w.isCollapsed&&(g.isCollapsed||h))return;(w.isCollapsed||function(k,v,y){const F=k.model,G=k.view.domConverter;if(y){const ce=F.createSelection(v.start);F.modifySelection(ce),ce.focus.isAtEnd||v.start.isEqual(ce.focus)||(v=F.createRange(ce.focus,v.end))}const $=k.mapper.toViewRange(v),K=G.viewRangeToDom($),Y=Ft.getDomRangeRects(K);let ee;for(const ce of Y)if(void 0!==ee){if(Math.round(ce.top)>=ee)return!1;ee=Math.max(ee,Math.round(ce.bottom))}else ee=Math.round(ce.bottom);return!0}(l,w,m))&&(e.change(k=>{const v=m?w.end:w.start;if(h){const y=e.createSelection(g.anchor);y.setFocus(v),k.setSelection(y)}else k.setSelection(v)}),i.stop(),s.preventDefault(),s.stopPropagation())}}}(this.editor.editing),{context:"$text"}),this.listenTo(s,"delete",(c,u)=>{this._handleDelete("forward"==u.direction)&&(u.preventDefault(),c.stop())},{context:"$root"})}_onMousedown(e,i){const s=this.editor,c=s.editing.view,u=c.document;let h=i.target;if(function(m){for(;m;){if(m.is("editableElement")&&!m.is("rootElement"))return!0;if(Gt(m))return!1;m=m.parent}return!1}(h)){if((yt.isSafari||yt.isGecko)&&i.domEvent.detail>=3){const m=s.editing.mapper,w=h.is("attributeElement")?h.findAncestor(v=>!v.is("attributeElement")):h,k=m.toModelElement(w);i.preventDefault(),this.editor.model.change(v=>{v.setSelection(k,"in")})}return}if(!Gt(h)&&(h=h.findAncestor(Gt),!h))return;yt.isAndroid&&i.preventDefault(),u.isFocused||c.focus();const g=s.editing.mapper.toModelElement(h);this._setSelectionOverElement(g)}_handleSelectionChangeOnArrowKeyPress(e,i){const s=i.keyCode,c=this.editor.model,u=c.schema,h=c.document.selection,g=h.getSelectedElement(),m=Gs(s,this.editor.locale.contentLanguageDirection),w="down"==m||"right"==m,k="up"==m||"down"==m;if(g&&u.isObject(g)){const y=w?h.getLastPosition():h.getFirstPosition(),F=u.getNearestSelectionRange(y,w?"forward":"backward");return void(F&&(c.change(G=>{G.setSelection(F)}),i.preventDefault(),e.stop()))}if(!h.isCollapsed&&!i.shiftKey){const y=h.getFirstPosition(),F=h.getLastPosition(),G=y.nodeAfter,$=F.nodeBefore;return void((G&&u.isObject(G)||$&&u.isObject($))&&(c.change(K=>{K.setSelection(w?F:y)}),i.preventDefault(),e.stop()))}if(!h.isCollapsed)return;const v=this._getObjectElementNextToSelection(w);if(v&&u.isObject(v)){if(u.isInline(v)&&k)return;this._setSelectionOverElement(v),i.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,i){const s=this.editor.model,c=s.schema,u=s.document.selection.getSelectedElement();u&&c.isObject(u)&&(i.preventDefault(),e.stop())}_handleDelete(e){if(this.editor.isReadOnly)return;const i=this.editor.model.document.selection;if(!i.isCollapsed)return;const s=this._getObjectElementNextToSelection(e);return s?(this.editor.model.change(c=>{let u=i.anchor.parent;for(;u.isEmpty;){const h=u;u=h.parent,c.remove(h)}this._setSelectionOverElement(s)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(i=>{i.setSelection(i.createRangeOn(e))})}_getObjectElementNextToSelection(e){const i=this.editor.model,s=i.schema,c=i.document.selection,u=i.createSelection(c);if(i.modifySelection(u,{direction:e?"forward":"backward"}),u.isEqual(c))return null;const h=e?u.focus.nodeBefore:u.focus.nodeAfter;return h&&s.isObject(h)?h:null}_clearPreviouslySelectedWidgets(e){for(const i of this._previouslySelected)e.removeClass(Ay,i);this._previouslySelected.clear()}}function tw(l,e){return!!e&&Array.from(l.getAncestors()).includes(e)}const gs=function(l,e,i){var s=!0,c=!0;if("function"!=typeof l)throw new TypeError("Expected a function");return Pe(i)&&(s="leading"in i?!!i.leading:s,c="trailing"in i?!!i.trailing:c),Un(l,e,{leading:s,maxWait:e,trailing:c})};var Nf=P(903);Fe()(Nf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Sy extends be{static get pluginName(){return"DragDrop"}static get requires(){return[Zo,Lc]}init(){const e=this.editor,i=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=gs(s=>this._updateDropMarker(s),40),this._removeDropMarkerDelayed=ow(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=ow(()=>this._clearDraggableAttributes(),40),i.addObserver(vd),i.addObserver(_d),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(s,c,u)=>{u?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(s,c,u)=>{u||this._finalizeDragging(!1)}),yt.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,i=e.model,s=i.document,c=e.editing.view,u=c.document;this.listenTo(u,"dragstart",(h,g)=>{const m=s.selection;if(g.target&&g.target.is("editableElement"))return void g.preventDefault();const w=g.target?iw(g.target):null;if(w){const y=e.editing.mapper.toModelElement(w);this._draggedRange=oo.fromRange(i.createRangeOn(y)),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!u.selection.isCollapsed){const y=u.selection.getSelectedElement();y&&Gt(y)||(this._draggedRange=oo.fromRange(m.getFirstRange()))}if(!this._draggedRange)return void g.preventDefault();this._draggingUid=U(),g.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",g.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const k=i.createSelection(this._draggedRange.toRange()),v=e.data.toView(i.getSelectedContent(k));u.fire("clipboardOutput",{dataTransfer:g.dataTransfer,content:v,method:h.name}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(u,"dragend",(h,g)=>{this._finalizeDragging(!g.dataTransfer.isCanceled&&"move"==g.dataTransfer.dropEffect)},{priority:"low"}),this.listenTo(u,"dragenter",()=>{this.isEnabled&&c.focus()}),this.listenTo(u,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(u,"dragging",(h,g)=>{if(!this.isEnabled)return void(g.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const m=ps(e,g.targetRanges,g.target);this._draggedRange||(g.dataTransfer.dropEffect="copy"),yt.isGecko||("copy"==g.dataTransfer.effectAllowed?g.dataTransfer.dropEffect="copy":["all","copyMove"].includes(g.dataTransfer.effectAllowed)&&(g.dataTransfer.dropEffect="move")),m&&this._updateDropMarkerThrottled(m)},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"clipboardInput",(s,c)=>{if("drop"!=c.method)return;const u=ps(e,c.targetRanges,c.target);return this._removeDropMarker(),u?(this._draggedRange&&this._draggingUid!=c.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),"move"==nw(c.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(u,!0)?(this._finalizeDragging(!1),void s.stop()):void(c.targetRanges=[e.editing.mapper.toViewRange(u)])):(this._finalizeDragging(!1),void s.stop())},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Zo);e.on("contentInsertion",(i,s)=>{if(!this.isEnabled||"drop"!==s.method)return;const c=s.targetRanges.map(u=>this.editor.editing.mapper.toModelRange(u));this.editor.model.change(u=>u.setSelection(c))},{priority:"high"}),e.on("contentInsertion",(i,s)=>{if(!this.isEnabled||"drop"!==s.method)return;const c="move"==nw(s.dataTransfer);this._finalizeDragging((!s.resultRange||!s.resultRange.isCollapsed)&&c)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,i=e.editing.view,s=i.document;this.listenTo(s,"mousedown",(c,u)=>{if(yt.isAndroid||!u)return;this._clearDraggableAttributesDelayed.cancel();let h=iw(u.target);if(yt.isBlink&&!e.isReadOnly&&!h&&!s.selection.isCollapsed){const g=s.selection.getSelectedElement();g&&Gt(g)||(h=s.selection.editableElement)}h&&(i.change(g=>{g.setAttribute("draggable","true",h)}),this._draggableElement=e.editing.mapper.toModelElement(h))}),this.listenTo(s,"mouseup",()=>{yt.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(i=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&i.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(i,{writer:s})=>{if(e.model.schema.checkChild(i.markerRange.start,"$text"))return s.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(c){const u=this.toDomElement(c);return u.innerHTML="&NoBreak;<span></span>&NoBreak;",u})}})}_updateDropMarker(e){const i=this.editor,s=i.model.markers;i.model.change(c=>{s.has("drop-target")?s.get("drop-target").getRange().isEqual(e)||c.updateMarker("drop-target",{range:e}):c.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(i=>{i.removeMarker("drop-target")})}_finalizeDragging(e){const i=this.editor,s=i.model;this._removeDropMarker(),this._clearDraggableAttributes(),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&s.deleteContent(s.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function ps(l,e,i){const s=l.model,c=l.editing.mapper;let u=null;const h=e?e[0].start:null;if(i.is("uiElement")&&(i=i.parent),u=function(w,k){const v=w.model,y=w.editing.mapper;if(Gt(k))return v.createRangeOn(y.toModelElement(k));if(!k.is("editableElement")){const F=k.findAncestor(G=>Gt(G)||G.is("editableElement"));if(Gt(F))return v.createRangeOn(y.toModelElement(F))}return null}(l,i),u)return u;const g=function(w,k){const v=w.editing.mapper,y=w.editing.view,F=v.toModelElement(k);if(F)return F;const G=y.createPositionBefore(k),$=v.findMappedViewAncestor(G);return v.toModelElement($)}(l,i),m=h?c.toModelPosition(h):null;return m?(u=function(w,k,v){const y=w.model;if(!y.schema.checkChild(v,"$block"))return null;const F=y.createPositionAt(v,0),G=k.path.slice(0,F.path.length),$=y.createPositionFromPath(k.root,G).nodeAfter;return $&&y.schema.isObject($)?y.createRangeOn($):null}(l,m,g),u||(u=s.schema.getNearestSelectionRange(m,yt.isGecko?"forward":"backward"),u||function(w,k){const v=w.model;for(;k;){if(v.schema.isObject(k))return v.createRangeOn(k);k=k.parent}}(l,m.parent))):function(w,k){const v=w.model,y=v.schema,F=v.createPositionAt(k,0);return y.getNearestSelectionRange(F,"forward")}(l,g)}function nw(l){return yt.isGecko?l.dropEffect:["all","copyMove"].includes(l.effectAllowed)?"move":"copy"}function ow(l,e){let i;function s(...c){s.cancel(),i=setTimeout(()=>l(...c),e)}return s.cancel=()=>{clearTimeout(i)},s}function iw(l){if(l.is("editableElement"))return null;if(l.hasClass("ck-widget__selection-handle"))return l.findAncestor(Gt);if(Gt(l))return l;const e=l.findAncestor(i=>Gt(i)||i.is("editableElement"));return Gt(e)?e:null}class Ty extends be{static get pluginName(){return"PastePlainText"}static get requires(){return[Zo]}init(){const e=this.editor,i=e.model,s=e.editing.view,c=s.document,u=i.document.selection;let h=!1;s.addObserver(vd),this.listenTo(c,"keydown",(g,m)=>{h=m.shiftKey}),e.plugins.get(Zo).on("contentInsertion",(g,m)=>{(h||function(w,k){if(w.childCount>1)return!1;const v=w.getChild(0);return!k.isObject(v)&&0==[...v.getAttributeKeys()].length}(m.content,i.schema))&&i.change(w=>{const k=Array.from(u.getAttributes()).filter(([y])=>i.schema.getAttributeProperties(y).isFormatting);u.isCollapsed||i.deleteContent(u,{doNotAutoparagraph:!0}),k.push(...u.getAttributes());const v=w.createRangeIn(m.content);for(const y of v.getItems())y.is("$textProxy")&&w.setAttributes(k,y)})})}}class Wn extends be{static get pluginName(){return"Clipboard"}static get requires(){return[Zo,Sy,Ty]}}class Pf extends st{execute(){const e=this.editor.model,i=e.document;e.change(s=>{(function(c,u,h){const g=h.isCollapsed,m=h.getFirstRange(),k=m.end.parent,v=m.start.parent==k;if(g){const y=Gb(c.schema,h.getAttributes());Of(c,u,m.end),u.removeSelectionAttribute(h.getAttributeKeys()),u.setSelectionAttribute(y)}else{const y=!(m.start.isAtStart&&m.end.isAtEnd);c.deleteContent(h,{leaveUnmerged:y}),v?Of(c,u,h.focus):y&&u.setSelection(k,0)}})(e,s,i.selection),this.fire("afterExecute",{writer:s})})}refresh(){const e=this.editor.model;this.isEnabled=function(s,c){if(c.rangeCount>1)return!1;const u=c.anchor;if(!u||!s.checkChild(u,"softBreak"))return!1;const h=c.getFirstRange(),g=h.start.parent,m=h.end.parent;return!((Md(g,s)||Md(m,s))&&g!==m)}(e.schema,e.document.selection)}}function Of(l,e,i){const s=e.createElement("softBreak");l.insertContent(s,i),e.setSelection(s,"after")}function Md(l,e){return!l.is("rootElement")&&(e.isLimit(l)||Md(l.parent,e))}class rw extends be{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,s=e.conversion,c=e.editing.view,u=c.document;e.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),s.for("upcast").elementToElement({model:"softBreak",view:"br"}),s.for("downcast").elementToElement({model:"softBreak",view:(h,{writer:g})=>g.createEmptyElement("br")}),c.addObserver(Af),e.commands.add("shiftEnter",new Pf(e)),this.listenTo(u,"enter",(h,g)=>{g.preventDefault(),g.isSoft&&(e.execute("shiftEnter"),c.scrollToTheSelection())},{priority:"low"})}}class sw extends st{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,i=e.document.selection;let s=e.schema.getLimitElement(i);if(i.containsEntireContent(s)||!aw(e.schema,s))do{if(s=s.parent,!s)return}while(!aw(e.schema,s));e.change(c=>{c.setSelection(s,"in")})}}function aw(l,e){return l.isLimit(e)&&(l.checkChild(e,"$text")||l.checkChild(e,"paragraph"))}const Ny=Ul("Ctrl+A");class Py extends be{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,i=e.editing.view.document;e.commands.add("selectAll",new sw(e)),this.listenTo(i,"keydown",(s,c)=>{ai(c)===Ny&&(e.execute("selectAll"),c.preventDefault())})}}class Oy extends be{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",i=>{const s=e.commands.get("selectAll"),c=new Ht(i);return c.set({label:(0,i.t)("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),c.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),c})}}class cw extends be{static get requires(){return[Py,Oy]}static get pluginName(){return"SelectAll"}}class FE extends st{constructor(e,i){super(e),this._buffer=new $b(e.model,i)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const i=this.editor.model,s=i.document,c=e.text||"",u=c.length,h=e.range?i.createSelection(e.range):s.selection,g=e.resultRange;i.enqueueChange(this._buffer.batch,m=>{this._buffer.lock(),i.deleteContent(h),c&&i.insertContent(m.createText(c,s.selection.getAttributes()),h),g?m.setSelection(g):h.is("documentSelection")||m.setSelection(h),this._buffer.unlock(),this._buffer.input(u)})}}class lw{constructor(e){this.editor=e,this.editing=this.editor.editing}handle(e,i){if(function(s){if(0==s.length)return!1;for(const c of s)if("children"===c.type&&!yd(c))return!0;return!1}(e))this._handleContainerChildrenMutations(e,i);else for(const s of e)this._handleTextMutation(s,i),this._handleTextNodeInsertion(s)}_handleContainerChildrenMutations(e,i){const s=function(Qn){const dn=Qn.map(at=>at.node).reduce((at,ei)=>at.getCommonAncestor(ei,{includeSelf:!0}));if(dn)return dn.getAncestors({includeSelf:!0,parentFirst:!0}).find(at=>at.is("containerElement")||at.is("rootElement"))}(e);if(!s)return;const c=this.editor.editing.view.domConverter.mapViewToDom(s),u=new ac(this.editor.editing.view.document),h=this.editor.data.toModel(u.domToView(c)).getChild(0),g=this.editor.editing.mapper.toModelElement(s);if(!g)return;const m=Array.from(h.getChildren()),w=Array.from(g.getChildren()),k=m[m.length-1],v=w[w.length-1],y=k&&k.is("element","softBreak"),F=v&&!v.is("element","softBreak");y&&F&&m.pop();const G=this.editor.model.schema;if(!dw(m,G)||!dw(w,G))return;const $=m.map(Qn=>Qn.is("$text")?Qn.data:"@").join("").replace(/\u00A0/g," "),K=w.map(Qn=>Qn.is("$text")?Qn.data:"@").join("").replace(/\u00A0/g," ");if(K===$)return;const Y=yi(K,$),{firstChangeAt:ee,insertions:ce,deletions:Ie}=uw(Y);let Le=null;i&&(Le=this.editing.mapper.toModelRange(i.getFirstRange()));const jt=$.substr(ee,ce),ut=this.editor.model.createRange(this.editor.model.createPositionAt(g,ee),this.editor.model.createPositionAt(g,ee+Ie));this.editor.execute("input",{text:jt,range:ut,resultRange:Le})}_handleTextMutation(e,i){if("text"!=e.type)return;const s=e.newText.replace(/\u00A0/g," "),c=e.oldText.replace(/\u00A0/g," ");if(c===s)return;const u=yi(c,s),{firstChangeAt:h,insertions:g,deletions:m}=uw(u);let w=null;i&&(w=this.editing.mapper.toModelRange(i.getFirstRange()));const k=this.editing.view.createPositionAt(e.node,h),v=this.editing.mapper.toModelPosition(k),y=this.editor.model.createRange(v,v.getShiftedBy(m)),F=s.substr(h,g);this.editor.execute("input",{text:F,range:y,resultRange:w})}_handleTextNodeInsertion(e){if("children"!=e.type)return;const i=yd(e),s=this.editing.view.createPositionAt(e.node,i.index),c=this.editing.mapper.toModelPosition(s);this.editor.execute("input",{text:i.values[0].data.replace(/\u00A0/g," "),range:this.editor.model.createRange(c)})}}function dw(l,e){return l.every(i=>e.isInline(i))}function uw(l){let e=null,i=null;for(let u=0;u<l.length;u++)"equal"!=l[u]&&(e=null===e?u:e,i=u);let s=0,c=0;for(let u=e;u<=i;u++)"insert"!=l[u]&&s++,"delete"!=l[u]&&c++;return{insertions:c,deletions:s,firstChangeAt:e}}class Ry extends be{static get pluginName(){return"Input"}init(){const e=this.editor,i=new FE(e,e.config.get("typing.undoStep")||20);var s;e.commands.add("input",i),function(s){let c=null;const u=s.model,h=s.editing.view,g=s.commands.get("input");function w(){const k=g.buffer;k.lock(),u.enqueueChange(k.batch,()=>{u.deleteContent(u.document.selection)}),k.unlock()}h.document.on(yt.isAndroid?"beforeinput":"keydown",(k,v)=>function m(k){if(yt.isWindows&&qb(k,h.document))return;const v=u.document,y=h.document.isComposing,F=c&&c.isEqual(v.selection);c=null,g.isEnabled&&(Dd(k)||v.selection.isCollapsed||y&&229===k.keyCode||!y&&229===k.keyCode&&F||w())}(v),{priority:"lowest"}),h.document.on("compositionstart",function(){const k=u.document,v=1!==k.selection.rangeCount||k.selection.getFirstRange().isFlat;k.selection.isCollapsed||v||w()},{priority:"lowest"}),h.document.on("compositionend",()=>{c=u.createSelection(u.document.selection)},{priority:"lowest"})}(e),(s=e).editing.view.document.on("mutations",(c,u,h)=>{new lw(s).handle(u,h)})}}class LE extends be{static get requires(){return[Ry,Ni]}static get pluginName(){return"Typing"}}function Id(l,e){let i=l.start;return{text:Array.from(l.getItems()).reduce((s,c)=>c.is("$text")||c.is("$textProxy")?s+c.data:(i=e.createPositionAfter(c),""),""),range:e.createRange(i,l.end)}}class Rf{constructor(e,i){this.model=e,this.testCallback=i,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(i,{directChange:s})=>{s&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this.hasMatch=!1))}),this.listenTo(e,"change:data",(i,s)=>{!s.isUndo&&s.isLocal&&this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(e,i={}){const s=this.model,c=s.document.selection,u=s.createRange(s.createPositionAt(c.focus.parent,0),c.focus),{text:h,range:g}=Id(u,s),m=this.testCallback(h);if(!m&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!m,m){const w=Object.assign(i,{text:h,range:g});"object"==typeof m&&Object.assign(w,m),this.fire(`matched:${e}`,w)}}}Ae(Rf,je);class Bf extends be{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,c=e.locale,u=e.model.document.selection;this.listenTo(e.editing.view.document,"arrowKey",(h,g)=>{if(!u.isCollapsed||g.shiftKey||g.altKey||g.ctrlKey)return;const m=g.keyCode==Xe.arrowright,w=g.keyCode==Xe.arrowleft;if(!m&&!w)return;const k=c.contentLanguageDirection;let v=!1;v="ltr"===k&&m||"rtl"===k&&w?this._handleForwardMovement(g):this._handleBackwardMovement(g),!0===v&&h.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(u,"change:range",(h,g)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!g.directChange&&Ff(u.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const i=this.attributes,s=this.editor.model.document.selection,c=s.getFirstPosition();return!this._isGravityOverridden&&(!c.isAtStart||!Sd(s,i))&&(Ff(c,i)?(ko(e),this._overrideGravity(),!0):void 0)}_handleBackwardMovement(e){const i=this.attributes,s=this.editor.model,c=s.document.selection,u=c.getFirstPosition();return this._isGravityOverridden?(ko(e),this._restoreGravity(),hw(s,i,u),!0):u.isAtStart?!!Sd(c,i)&&(ko(e),hw(s,i,u),!0):(g=i,Ff(u.getShiftedBy(-1),g)?u.isAtEnd&&!Sd(c,i)&&Ff(u,i)?(ko(e),hw(s,i,u),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):void 0);var g}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Sd(l,e){for(const i of e)if(l.hasAttribute(i))return!0;return!1}function hw(l,e,i){const s=i.nodeBefore;l.change(c=>{s?c.setSelectionAttribute(s.getAttributes()):c.removeSelectionAttribute(e)})}function ko(l){l.preventDefault()}function Ff(l,e){const{nodeBefore:i,nodeAfter:s}=l;for(const c of e){const u=i?i.getAttribute(c):void 0;if((s?s.getAttribute(c):void 0)!==u)return!0}return!1}var By=/[\\^$.*+?()[\]{}|]/g,fw=RegExp(By.source);const pw={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xbd",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xbc",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xbe",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:Pr('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:Pr("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:Pr("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:Pr('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:Pr('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:Pr("'"),to:[null,"\u201a",null,"\u2019"]}},mw={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},jE=["symbols","mathematical","typography","quotes"];function bw(l){return"string"==typeof l?new RegExp(`(${function(l){return(l=Tl(l))&&fw.test(l)?l.replace(By,"\\$&"):l}(l)})$`):l}function Mt(l){return"string"==typeof l?()=>[l]:l instanceof Array?()=>l:l}function Fy(l){return(l.textNode?l.textNode:l.nodeAfter).getAttributes()}function Pr(l){return new RegExp(`(^|\\s)(${l})([^${l}]*)(${l})$`)}function ga(l,e,i,s){return s.createRange(ww(l,e,i,!0,s),ww(l,e,i,!1,s))}function ww(l,e,i,s,c){let u=l.textNode||(s?l.nodeBefore:l.nodeAfter),h=null;for(;u&&u.getAttribute(e)==i;)h=u,u=s?u.previousSibling:u.nextSibling;return h?c.createPositionAt(h,s?"before":"after"):l}class kw extends st{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(e.data,"set",(i,s)=>{s[1]=He({},s[1]);const c=s[1];c.batchType||(c.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(i,s)=>{s[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}addBatch(e){const i=this.editor.model.document.selection,s={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:e,selection:s}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,i,s){const c=this.editor.model,u=c.document,h=[],g=e.map(w=>w.getTransformedByOperations(s)),m=g.flat();for(const w of g){const k=w.filter(v=>v.root!=u.graveyard).filter(v=>!jy(v,m));k.length&&(Ly(k),h.push(k[0]))}h.length&&c.change(w=>{w.setSelection(h,{backward:i})})}_undo(e,i){const s=this.editor.model,c=s.document;this._createdBatches.add(i);const u=e.operations.slice().filter(h=>h.isDocumentOperation);u.reverse();for(const h of u){const m=Array.from(c.history.getOperations(h.baseVersion+1)),w=OE([h.getReversed()],m,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const k of w)i.addOperation(k),s.applyOperation(k),c.history.setOperationAsUndone(h,k)}}}function Ly(l){l.sort((e,i)=>e.start.isBefore(i.start)?-1:1);for(let e=1;e<l.length;e++){const i=l[e-1].getJoined(l[e],!0);i&&(e--,l.splice(e,2,i))}}function jy(l,e){return e.some(i=>i!==l&&i.containsRange(l,!0))}class zy extends kw{execute(e=null){const i=e?this._stack.findIndex(u=>u.batch==e):this._stack.length-1,s=this._stack.splice(i,1)[0],c=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(c,()=>{this._undo(s.batch,c);const u=this.editor.model.document.history.getOperations(s.batch.baseVersion);this._restoreSelection(s.selection.ranges,s.selection.isBackward,u),this.fire("revert",s.batch,c)}),this.refresh()}}class Td extends kw{execute(){const e=this._stack.pop(),i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{const c=this.editor.model.document.history.getOperations(e.batch.operations[e.batch.operations.length-1].baseVersion+1);this._restoreSelection(e.selection.ranges,e.selection.isBackward,c),this._undo(e.batch,i)}),this.refresh()}}class pa extends be{static get pluginName(){return"UndoEditing"}constructor(e){super(e),this._batchRegistry=new WeakSet}init(){const e=this.editor;this._undoCommand=new zy(e),this._redoCommand=new Td(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(i,s)=>{const c=s[0];if(!c.isDocumentOperation)return;const u=c.batch,h=this._redoCommand._createdBatches.has(u),g=this._undoCommand._createdBatches.has(u);this._batchRegistry.has(u)||(this._batchRegistry.add(u),u.isUndoable&&(h?this._undoCommand.addBatch(u):g||(this._undoCommand.addBatch(u),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(i,s,c)=>{this._redoCommand.addBatch(c)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const _w='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',ma='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class Vy extends be{static get pluginName(){return"UndoUI"}init(){const e=this.editor,i=e.locale,s=e.t,c="ltr"==i.uiLanguageDirection?_w:ma,u="ltr"==i.uiLanguageDirection?ma:_w;this._addButton("undo",s("Undo"),"CTRL+Z",c),this._addButton("redo",s("Redo"),"CTRL+Y",u)}_addButton(e,i,s,c){const u=this.editor;u.ui.componentFactory.add(e,h=>{const g=u.commands.get(e),m=new Ht(h);return m.set({label:i,icon:c,keystroke:s,tooltip:!0}),m.bind("isEnabled").to(g,"isEnabled"),this.listenTo(m,"execute",()=>{u.execute(e),u.editing.view.focus()}),m})}}class vw extends be{static get requires(){return[pa,Vy]}static get pluginName(){return"Undo"}}class Nd{constructor(){const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=i=>{this.loaded=i.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const i=this._reader;return this.total=e.size,new Promise((s,c)=>{i.onload=()=>{const u=i.result;this._data=u,s(u)},i.onerror=()=>{c("error")},i.onabort=()=>{c("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}Ae(Nd,je);class ln extends be{static get pluginName(){return"FileRepository"}static get requires(){return[fb]}init(){this.loaders=new fo,this.loaders.on("add",()=>this._updatePendingAction()),this.loaders.on("remove",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,i)=>i?e/i*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return Q("filerepository-no-upload-adapter"),null;const i=new ms(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(i),this._loadersMap.set(e,i),e instanceof Promise&&i.file.then(s=>{this._loadersMap.set(s,i)}).catch(()=>{}),i.on("change:uploaded",()=>{let s=0;for(const c of this.loaders)s+=c.uploaded;this.uploaded=s}),i.on("change:uploadTotal",()=>{let s=0;for(const c of this.loaders)c.uploadTotal&&(s+=c.uploadTotal);this.uploadTotal=s}),i}destroyLoader(e){const i=e instanceof ms?e:this.getLoader(e);i._destroy(),this.loaders.remove(i),this._loadersMap.forEach((s,c)=>{s===i&&this._loadersMap.delete(c)})}_updatePendingAction(){const e=this.editor.plugins.get(fb);if(this.loaders.length){if(!this._pendingAction){const i=this.editor.t,s=c=>`${i("Upload in progress")} ${parseInt(c)}%.`;this._pendingAction=e.add(s(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",s)}}else e.remove(this._pendingAction),this._pendingAction=null}}Ae(ln,je);class ms{constructor(e,i){this.id=U(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=i(this),this._reader=new Nd,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(s,c)=>c?s/c*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new A("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if("reading"!==this.status)throw this.status;return this.status="idle",e}).catch(e=>{throw"aborted"===e?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if("idle"!=this.status)throw new A("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw"aborted"===this.status?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==e?this._reader.abort():"uploading"==e&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const i={};return i.promise=new Promise((s,c)=>{i.rejecter=c,i.isFulfilled=!1,e.then(u=>{i.isFulfilled=!0,s(u)}).catch(u=>{i.isFulfilled=!0,c(u)})}),i}}Ae(ms,je);class qn extends Qe{constructor(e){super(e),this.buttonView=new Ht(e),this._fileInputView=new bs(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class bs extends Qe{constructor(e){super(e),this.set("acceptedType"),this.set("allowMultipleFiles",!1);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const Po="abcdefghijklmnopqrstuvwxyz0123456789";class ba{constructor(e,i,s){this.loader=e,this.url=i,this.t=s}upload(){return this.loader.file.then(e=>new Promise((i,s)=>{this._initRequest(),this._initListeners(i,s,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,i,s){const c=this.xhr,u=this.loader,h=(0,this.t)("Cannot upload file:")+` ${s.name}.`;c.addEventListener("error",()=>i(h)),c.addEventListener("abort",()=>i()),c.addEventListener("load",()=>{const g=c.response;if(!g||!g.uploaded)return i(g&&g.error&&g.error.message?g.error.message:h);e({default:g.url})}),c.upload&&c.upload.addEventListener("progress",g=>{g.lengthComputable&&(u.uploadTotal=g.total,u.uploaded=g.loaded)})}_sendRequest(e){const i=new FormData;i.append("upload",e),i.append("ckCsrfToken",function Pi(){let l=function(s){s=s.toLowerCase();const c=document.cookie.split(";");for(const u of c){const h=u.split("=");if(decodeURIComponent(h[0].trim().toLowerCase())===s)return decodeURIComponent(h[1])}return null}("ckCsrfToken");var i;return l&&40==l.length||(l=function(s){let c="";const u=new Uint8Array(40);window.crypto.getRandomValues(u);for(let h=0;h<u.length;h++){const g=Po.charAt(u[h]%Po.length);c+=Math.random()>.5?g.toUpperCase():g}return c}(),i=l,document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(i)+";path=/"),l}()),this.xhr.send(i)}}function Oo(l,e,i,s){let c,u=null;"function"==typeof s?c=s:(u=l.commands.get(s),c=()=>{l.execute(s)}),l.model.document.on("change:data",(h,g)=>{if(u&&!u.isEnabled||!e.isEnabled)return;const m=vn(l.model.document.selection.getRanges());if(!m.isCollapsed||g.isUndo||!g.isLocal)return;const w=Array.from(l.model.document.differ.getChanges()),k=w[0];if(1!=w.length||"insert"!==k.type||"$text"!=k.name||1!=k.length)return;const v=k.position.parent;if(v.is("element","codeBlock")||v.is("element","listItem")&&"function"!=typeof s&&!["numberedList","bulletedList","todoList"].includes(s)||u&&!0===u.value)return;const y=v.getChild(0),F=l.model.createRangeOn(y);if(!F.containsRange(m)&&!m.end.isEqual(F.end))return;const G=i.exec(y.data.substr(0,m.end.offset));G&&l.model.enqueueChange($=>{const K=$.createPositionAt(v,0),Y=$.createPositionAt(v,G[0].length),ee=new oo(K,Y);if(!1!==c({match:G})){$.remove(ee);const ce=l.model.document.selection.getFirstRange(),Ie=$.createRangeIn(v);!v.isEmpty||Ie.isEqual(ce)||Ie.containsRange(ce,!0)||$.remove(v)}ee.detach(),l.model.enqueueChange(()=>{l.plugins.get("Delete").requestUndoOnBackspace()})})})}function fi(l,e,i,s){let c,u;i instanceof RegExp?c=i:u=i,u=u||(h=>{let g;const m=[],w=[];for(;null!==(g=c.exec(h))&&!(g&&g.length<4);){let{index:k,1:v,2:y,3:F}=g;k+=g[0].length-(v+y+F).length;const K=[k+v.length+y.length,k+v.length+y.length+F.length];m.push([k,k+v.length]),m.push(K),w.push([k+v.length,k+v.length+y.length])}return{remove:m,format:w}}),l.model.document.on("change:data",(h,g)=>{if(g.isUndo||!g.isLocal||!e.isEnabled)return;const m=l.model,w=m.document.selection;if(!w.isCollapsed)return;const k=Array.from(m.document.differ.getChanges()),v=k[0];if(1!=k.length||"insert"!==v.type||"$text"!=v.name||1!=v.length)return;const y=w.focus,F=y.parent,{text:G,range:$}=function(ce,Ie){let Le=ce.start;return{text:Array.from(ce.getItems()).reduce((jt,ut)=>!ut.is("$text")&&!ut.is("$textProxy")||ut.getAttribute("code")?(Le=Ie.createPositionAfter(ut),""):jt+ut.data,""),range:Ie.createRange(Le,ce.end)}}(m.createRange(m.createPositionAt(F,0),y),m),K=u(G),Y=ws($.start,K.format,m),ee=ws($.start,K.remove,m);Y.length&&ee.length&&m.enqueueChange(ce=>{if(!1!==s(ce,Y)){for(const Ie of ee.reverse())ce.remove(Ie);m.enqueueChange(()=>{l.plugins.get("Delete").requestUndoOnBackspace()})}})})}function ws(l,e,i){return e.filter(s=>void 0!==s[0]&&void 0!==s[1]).map(s=>i.createRange(l.getShiftedBy(s[0]),l.getShiftedBy(s[1])))}function tr(l,e){return(i,s)=>{if(!l.commands.get(e).isEnabled)return!1;const c=l.model.schema.getValidRanges(s,e);for(const u of c)i.setAttribute(e,!0,u);i.removeSelectionAttribute(e)}}class ks extends st{constructor(e,i){super(e),this.attributeKey=i}refresh(){const e=this.editor.model,i=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(e={}){const i=this.editor.model,s=i.document.selection,c=void 0===e.forceValue?!this.value:e.forceValue;i.change(u=>{if(s.isCollapsed)c?u.setSelectionAttribute(this.attributeKey,!0):u.removeSelectionAttribute(this.attributeKey);else{const h=i.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const g of h)c?u.setAttribute(this.attributeKey,c,g):u.removeAttribute(this.attributeKey,g)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,i=e.schema,s=e.document.selection;if(s.isCollapsed)return s.hasAttribute(this.attributeKey);for(const c of s.getRanges())for(const u of c.getItems())if(i.checkAttribute(u,this.attributeKey))return u.hasAttribute(this.attributeKey);return!1}}const gi="bold";class wa extends be{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:gi}),e.model.schema.setAttributeProperties(gi,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:gi,view:"strong",upcastAlso:["b",i=>{const s=i.getStyle("font-weight");return s?"bold"==s||Number(s)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),e.commands.add(gi,new ks(e,gi)),e.keystrokes.set("CTRL+B",gi)}}const Or="bold";class Cw extends be{static get pluginName(){return"BoldUI"}init(){const e=this.editor,i=e.t;e.ui.componentFactory.add(Or,s=>{const c=e.commands.get(Or),u=new Ht(s);return u.set({label:i("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(c,"value","isEnabled"),this.listenTo(u,"execute",()=>{e.execute(Or),e.editing.view.focus()}),u})}}const _s="italic";class yw extends be{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:_s}),e.model.schema.setAttributeProperties(_s,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:_s,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(_s,new ks(e,_s)),e.keystrokes.set("CTRL+I",_s)}}const Pd="italic";class Aw extends be{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,i=e.t;e.ui.componentFactory.add(Pd,s=>{const c=e.commands.get(Pd),u=new Ht(s);return u.set({label:i("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(c,"value","isEnabled"),this.listenTo(u,"execute",()=>{e.execute(Pd),e.editing.view.focus()}),u})}}class Dw extends st{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,s=i.schema,u=Array.from(i.document.selection.getSelectedBlocks()),h=void 0===e.forceValue?!this.value:e.forceValue;i.change(g=>{if(h){const m=u.filter(w=>zc(w)||jf(s,w));this._applyQuote(g,m)}else this._removeQuote(g,u.filter(zc))})}_getValue(){const e=vn(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!zc(e))}_checkEnabled(){if(this.value)return!0;const i=this.editor.model.schema,s=vn(this.editor.model.document.selection.getSelectedBlocks());return!!s&&jf(i,s)}_removeQuote(e,i){Lf(e,i).reverse().forEach(s=>{if(s.start.isAtStart&&s.end.isAtEnd)return void e.unwrap(s.start.parent);if(s.start.isAtStart){const u=e.createPositionBefore(s.start.parent);return void e.move(s,u)}s.end.isAtEnd||e.split(s.end);const c=e.createPositionAfter(s.end.parent);e.move(s,c)})}_applyQuote(e,i){const s=[];Lf(e,i).reverse().forEach(c=>{let u=zc(c.start);u||(u=e.createElement("blockQuote"),e.wrap(c,u)),s.push(u)}),s.reverse().reduce((c,u)=>c.nextSibling==u?(e.merge(e.createPositionAfter(c)),c):u)}}function zc(l){return"blockQuote"==l.parent.name?l.parent:null}function Lf(l,e){let i,s=0;const c=[];for(;s<e.length;){const u=e[s],h=e[s+1];i||(i=l.createPositionBefore(u)),h&&u.nextSibling==h||(c.push(l.createRange(i,l.createPositionAfter(u))),i=null),s++}return c}function jf(l,e){const i=l.checkChild(e.parent,"blockQuote"),s=l.checkChild(["$root","blockQuote"],e);return i&&s}class Uy extends be{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Cd,Ni]}init(){const e=this.editor,i=e.model.schema;e.commands.add("blockQuote",new Dw(e)),i.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(h=>{const g=e.model.document.differ.getChanges();for(const m of g)if("insert"==m.type){const w=m.position.nodeAfter;if(!w)continue;if(w.is("element","blockQuote")&&w.isEmpty)return h.remove(w),!0;if(w.is("element","blockQuote")&&!i.checkChild(m.position,w))return h.unwrap(w),!0;if(w.is("element")){const k=h.createRangeIn(w);for(const v of k.getItems())if(v.is("element","blockQuote")&&!i.checkChild(h.createPositionBefore(v),v))return h.unwrap(v),!0}}else if("remove"==m.type){const w=m.position.parent;if(w.is("element","blockQuote")&&w.isEmpty)return h.remove(w),!0}return!1});const s=this.editor.editing.view.document,c=e.model.document.selection,u=e.commands.get("blockQuote");this.listenTo(s,"enter",(h,g)=>{!c.isCollapsed||!u.value||c.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),g.preventDefault(),h.stop())},{context:"blockquote"}),this.listenTo(s,"delete",(h,g)=>{if("backward"!=g.direction||!c.isCollapsed||!u.value)return;const m=c.getLastPosition().parent;m.isEmpty&&!m.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),g.preventDefault(),h.stop())},{context:"blockquote"})}}var Vc=P(3062);Fe()(Vc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Gy extends be{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,i=e.t;e.ui.componentFactory.add("blockQuote",s=>{const c=e.commands.get("blockQuote"),u=new Ht(s);return u.set({label:i("Block quote"),icon:bo.quote,tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(c,"value","isEnabled"),this.listenTo(u,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),u})}}class Ew extends be{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor;if(!e.commands.get("ckbox"))return;const i=e.t;e.ui.componentFactory.add("ckbox",s=>{const c=e.commands.get("ckbox"),u=new Ht(s);return u.set({label:i("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),u.bind("isOn","isEnabled").to(c,"value","isEnabled"),u.on("execute",()=>{e.execute("ckbox")}),u})}}function xw({token:l,id:e,origin:i,width:s,extension:c}){const u=Mw(l),h=function(m){const k=Math.floor(Math.max(10*m/100,80)),v=[Math.min(m,4e3)];let y=v[0];for(;y-k>=k;)y-=k,v.unshift(y);return v}(s),g="bmp"===(m=c)||"tiff"===m||"jpg"===m?"jpeg":m;var m;return{imageFallbackUrl:zf({environmentId:u,id:e,origin:i,width:s,extension:g}),imageSources:[{srcset:h.map(m=>`${zf({environmentId:u,id:e,origin:i,width:m,extension:"webp"})} ${m}w`).join(","),sizes:`(max-width: ${s}px) 100vw, ${s}px`,type:"image/webp"}]}}function Mw(l){const[,e]=l.value.split(".");return JSON.parse(atob(e)).aud}function zf({environmentId:l,id:e,origin:i,width:s,extension:c}){return new URL(`${l}/assets/${e}/images/${s}.${c}`,i).toString()}class $y extends st{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return null!==this._wrapper}_checkEnabled(){const e=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");return!(!e.isEnabled&&!i.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,assetsOrigin:e.assetsOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:i=>this.fire("ckbox:choose",i)}}}_initListeners(){const e=this.editor,i=e.model,s=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=Im(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(c,u)=>{if(!this.isEnabled)return;const h=e.commands.get("insertImage"),g=e.commands.get("link"),m=e.plugins.get("CKBoxEditing"),w=function({assets:k,origin:v,token:y,isImageAllowed:F,isLinkAllowed:G}){return k.map($=>({id:$.data.id,type:Sw($)?"image":"link",attributes:Iw($,y,v)})).filter($=>"image"===$.type?F:G)}({assets:u,origin:e.config.get("ckbox.assetsOrigin"),token:m.getToken(),isImageAllowed:h.isEnabled,isLinkAllowed:g.isEnabled});0!==w.length&&i.change(k=>{for(const v of w)this._insertAsset(v,v===w[w.length-1],k),s&&(setTimeout(()=>this._chosenAssets.delete(v),1e3),this._chosenAssets.add(v))})}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,i,s){const c=this.editor.model.document.selection;s.removeSelectionAttribute("linkHref"),"image"===e.type?this._insertImage(e):this._insertLink(e,s),i||s.setSelection(c.getLastPosition())}_insertImage(e){const i=this.editor,{imageFallbackUrl:s,imageSources:c,imageTextAlternative:u}=e.attributes;i.execute("insertImage",{source:{src:s,sources:c,alt:u}})}_insertLink(e,i){const s=this.editor,c=s.model,u=c.document.selection,{linkName:h,linkHref:g}=e.attributes;if(u.isCollapsed){const m=Gi(u.getAttributes()),w=i.createText(h,m),k=c.insertContent(w);i.setSelection(k)}s.execute("link",g)}}function Iw(l,e,i){if(Sw(l)){const{imageFallbackUrl:s,imageSources:c}=xw({token:e,origin:i,id:l.data.id,width:l.data.metadata.width,extension:l.data.extension});return{imageFallbackUrl:s,imageSources:c,imageTextAlternative:l.data.metadata.description||""}}return{linkName:l.data.name,linkHref:Wy(l,e,i)}}function Sw(l){const e=l.data.metadata;return!!e&&e.width&&e.height}function Wy(l,e,i){const s=Mw(e),c=new URL(`${s}/assets/${l.data.id}/file`,i);return c.searchParams.set("download","true"),c.toString()}class zE extends be{static get requires(){return["ImageUploadEditing","ImageUploadProgress",ln,Uc]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){var e=this;return x(function*(){const i=e.editor,s=!!i.config.get("ckbox"),c=!!window.CKBox;if(!s&&!c)return;const u=i.plugins.get(ln),h=i.plugins.get(Uc);u.createUploadAdapter=w=>new qy(w,h.getToken(),i);const g=!i.config.get("ckbox.ignoreDataId"),m=i.plugins.get("ImageUploadEditing");g&&m.on("uploadComplete",(w,{imageElement:k,data:v})=>{i.model.change(y=>{y.setAttribute("ckboxImageId",v.ckboxImageId,k)})})})()}}class qy{constructor(e,i,s){this.loader=e,this.token=i,this.editor=s,this.controller=new AbortController,this.serviceOrigin=s.config.get("ckbox.serviceOrigin"),this.assetsOrigin=s.config.get("ckbox.assetsOrigin")}getAvailableCategories(e=0){var i=this;return x(function*(){const s=new URL("categories",i.serviceOrigin);return s.searchParams.set("limit",50..toString()),s.searchParams.set("offset",e.toString()),i._sendHttpRequest({url:s}).then(function(){var c=x(function*(u){if(u.totalCount-(e+50)>0){const h=yield i.getAvailableCategories(e+50);return[...u.items,...h]}return u.items});return function(u){return c.apply(this,arguments)}}()).catch(()=>{i.controller.signal.throwIfAborted(),J("ckbox-fetch-category-http-error")})})()}getCategoryIdForFile(e){var i=this;return x(function*(){const s=Od(e.name),c=yield i.getAvailableCategories();if(!c)return null;const u=i.editor.config.get("ckbox.defaultUploadCategories");if(u){const g=Object.keys(u).find(m=>u[m].includes(s));if(g){const m=c.find(w=>w.id===g||w.name===g);return m?m.id:null}}const h=c.find(g=>g.extensions.includes(s));return h?h.id:null})()}upload(){var e=this;return x(function*(){const i=e.editor.t,s=i("Cannot determine a category for the uploaded file."),c=yield e.loader.file,u=yield e.getCategoryIdForFile(c);if(!u)return Promise.reject(s);const h=new URL("assets",e.serviceOrigin),g=new FormData;g.append("categoryId",u),g.append("file",c);const m={method:"POST",url:h,data:g,onUploadProgress:w=>{w.lengthComputable&&(e.loader.uploadTotal=w.total,e.loader.uploaded=w.loaded)}};return e._sendHttpRequest(m).then(function(){var w=x(function*(k){const v=yield e._getImageWidth(),y=Od(c.name),F=xw({token:e.token,id:k.id,origin:e.assetsOrigin,width:v,extension:y});return{ckboxImageId:k.id,default:F.imageFallbackUrl,sources:F.imageSources}});return function(k){return w.apply(this,arguments)}}()).catch(()=>{const w=i("Cannot upload file:")+` ${c.name}.`;return Promise.reject(w)})})()}abort(){this.controller.abort()}_sendHttpRequest(e){const{url:i,data:s,onUploadProgress:c}=e,u=e.method||"GET",h=this.controller.signal,g=new XMLHttpRequest;g.open(u,i.toString(),!0),g.setRequestHeader("Authorization",this.token.value),g.setRequestHeader("CKBox-Version","CKEditor 5"),g.responseType="json";const m=()=>{g.abort()};return new Promise((w,k)=>{h.addEventListener("abort",m),g.addEventListener("loadstart",()=>{h.addEventListener("abort",m)}),g.addEventListener("loadend",()=>{h.removeEventListener("abort",m)}),g.addEventListener("error",()=>{k()}),g.addEventListener("abort",()=>{k()}),g.addEventListener("load",x(function*(){const v=g.response;return!v||v.statusCode>=400?k(v&&v.message):w(v)})),c&&g.upload.addEventListener("progress",v=>{c(v)}),g.send(s)})}_getImageWidth(){return new Promise(e=>{const i=new Image;i.onload=()=>{URL.revokeObjectURL(i.src),e(i.width)},i.src=this.loader.data})}}function Od(l){return l.match(/\.(?<ext>[^.]+)$/).groups.ext}class Uc extends be{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",zE]}init(){var e=this;return x(function*(){const i=e.editor,s=!!i.config.get("ckbox"),c=!!window.CKBox;if(!s&&!c)return;e._initConfig();const u=i.plugins.get("CloudServicesCore"),h=i.config.get("ckbox.tokenUrl"),g=i.config.get("cloudServices.tokenUrl");e._token=h===g?i.plugins.get("CloudServices").token:yield u.createToken(h).init(),i.config.get("ckbox.ignoreDataId")||(e._initSchema(),e._initConversion(),e._initFixers()),c&&i.commands.add("ckbox",new $y(i))})()}getToken(){return this._token}_initConfig(){const e=this.editor;if(e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",assetsOrigin:"https://ckbox.cloud",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"default",tokenUrl:e.config.get("cloudServices.tokenUrl")}),!e.config.get("ckbox.tokenUrl"))throw new A("ckbox-plugin-missing-token-url",this);e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||J("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((i,s)=>{if(!i.last.getAttribute("linkHref")&&"ckboxLinkId"===s)return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(i=>{i.on("attribute:ckboxLinkId:imageBlock",(s,c,u)=>{const{writer:h,mapper:g,consumable:m}=u;if(!m.consume(c.item,s.name))return;const w=[...g.toViewElement(c.item).getChildren()].find(k=>"a"===k.name);w&&(c.item.hasAttribute("ckboxLinkId")?h.setAttribute("data-ckbox-resource-id",c.item.getAttribute("ckboxLinkId"),w):h.removeAttribute("data-ckbox-resource-id",w))},{priority:"low"}),i.on("attribute:ckboxLinkId",(s,c,u)=>{const{writer:h,mapper:g,consumable:m}=u;if(m.consume(c.item,s.name)){if(c.attributeOldValue){const w=Zy(h,c.attributeOldValue);h.unwrap(g.toViewRange(c.range),w)}if(c.attributeNewValue){const w=Zy(h,c.attributeNewValue);c.item.is("selection")?h.wrap(h.document.selection.getFirstRange(),w):h.wrap(g.toViewRange(c.range),w)}}},{priority:"low"})}),e.conversion.for("upcast").add(i=>{i.on("element:a",(s,c,u)=>{const{writer:h,consumable:g}=u;if(!c.viewItem.getAttribute("href")||!g.consume(c.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const m=c.viewItem.getAttribute("data-ckbox-resource-id");if(m)if(c.modelRange)for(let w of c.modelRange.getItems())w.is("$textProxy")&&(w=w.textNode),VE(w)&&h.setAttribute("ckboxLinkId",m,w);else h.setAttribute("ckboxLinkId",m,c.modelCursor.nodeBefore||c.modelCursor.parent)},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:i=>i.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const e=this.editor,i=e.model,s=i.document.selection;var c;i.document.registerPostFixer((c=e,u=>{let h=!1;const g=c.model,m=c.commands.get("ckbox");if(!m)return h;for(const w of g.document.differ.getChanges()){if("insert"!==w.type&&"attribute"!==w.type)continue;const k="insert"===w.type?new oe(w.position,w.position.getShiftedBy(w.length)):w.range,v="attribute"===w.type&&"linkHref"===w.attributeKey&&null===w.attributeNewValue;for(const y of k.getItems()){if(v&&y.hasAttribute("ckboxLinkId")){u.removeAttribute("ckboxLinkId",y),h=!0;continue}const F=Qy(y,m._chosenAssets);for(const G of F){const $="image"===G.type?"ckboxImageId":"ckboxLinkId";G.id!==y.getAttribute($)&&(u.setAttribute($,G.id,y),h=!0)}}}return h})),i.document.registerPostFixer(function(c){return u=>{!c.hasAttribute("linkHref")&&c.hasAttribute("ckboxLinkId")&&u.removeSelectionAttribute("ckboxLinkId")}}(s))}}function Qy(l,e){const i=l.is("element","imageInline")||l.is("element","imageBlock"),s=l.hasAttribute("linkHref");return[...e].filter(c=>"image"===c.type&&i?c.attributes.imageFallbackUrl===l.getAttribute("src"):"link"===c.type&&s?c.attributes.linkHref===l.getAttribute("linkHref"):void 0)}function Zy(l,e){const i=l.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return l.setCustomProperty("link",!0,i),i}function VE(l){return!!l.is("$text")||!(!l.is("element","imageInline")&&!l.is("element","imageBlock"))}class UE extends be{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,s=e.t;e.ui.componentFactory.add("ckfinder",c=>{const u=e.commands.get("ckfinder"),h=new Ht(c);return h.set({label:s("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),h.bind("isEnabled").to(u),h.on("execute",()=>{e.execute("ckfinder"),e.editing.view.focus()}),h})}}class Ky extends st{constructor(e){super(e),this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");this.isEnabled=e.isEnabled||i.isEnabled}execute(){const e=this.editor,i=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=i&&"modal"!=i)throw new A("ckfinder-unknown-openermethod",e);const s=this.editor.config.get("ckfinder.options")||{};s.chooseFiles=!0;const c=s.onInit;s.language||(s.language=e.locale.uiLanguage),s.onInit=u=>{c&&c(u),u.on("files:choose",h=>{const g=h.data.files.toArray(),m=g.filter(v=>!v.isImage()),w=g.filter(v=>v.isImage());for(const v of m)e.execute("link",v.getUrl());const k=[];for(const v of w){const y=v.getUrl();k.push(y||u.request("file:getProxyUrl",{file:v}))}k.length&&Vf(e,k)}),u.on("file:choose:resizedImage",h=>{const g=h.data.resizedUrl;if(g)Vf(e,[g]);else{const m=e.plugins.get("Notification"),w=e.locale.t;m.showWarning(w("Could not obtain resized image URL."),{title:w("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[i](s)}}function Vf(l,e){if(l.commands.get("insertImage").isEnabled)l.execute("insertImage",{source:e});else{const i=l.plugins.get("Notification"),s=l.locale.t;i.showWarning(s("Could not insert image at the current position."),{title:s("Inserting image failed"),namespace:"ckfinder"})}}class HE extends be{static get pluginName(){return"CKFinderEditing"}static get requires(){return[Oc,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new A("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new Ky(e))}}class Yy extends be{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",ln]}init(){const e=this.editor,i=e.plugins.get("CloudServices"),s=i.token,c=i.uploadUrl;s&&(this._uploadGateway=e.plugins.get("CloudServicesCore").createUploadGateway(s,c),e.plugins.get(ln).createUploadAdapter=u=>new ka(this._uploadGateway,u))}}class ka{constructor(e,i){this.uploadGateway=e,this.loader=i}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(i,s)=>{this.loader.uploadTotal=s.total,this.loader.uploaded=s.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class Jy extends st{refresh(){const e=this.editor.model,i=vn(e.document.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&Uf(i,e.schema)}execute(e={}){const i=this.editor.model,s=i.document;i.change(c=>{const u=(e.selection||s.selection).getSelectedBlocks();for(const h of u)!h.is("element","paragraph")&&Uf(h,i.schema)&&c.rename(h,"paragraph")})}}function Uf(l,e){return e.checkChild(l.parent,"paragraph")&&!e.isObject(l)}class Xy extends st{execute(e){const i=this.editor.model,s=e.attributes;let c=e.position;i.change(u=>{const h=u.createElement("paragraph");if(s&&i.schema.setAllowedAttributes(h,s,u),!i.schema.checkChild(c.parent,h)){const g=i.schema.findAllowedParent(c,h);if(!g)return;c=u.split(c,g).position}i.insertContent(h,c),u.setSelection(h,"in")})}}class _a extends be{static get pluginName(){return"Paragraph"}init(){const e=this.editor,i=e.model;e.commands.add("paragraph",new Jy(e)),e.commands.add("insertParagraph",new Xy(e)),i.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(s,{writer:c})=>_a.paragraphLikeElements.has(s.name)?s.isEmpty?null:c.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}_a.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class Rd extends st{constructor(e,i){super(e),this.modelElements=i}refresh(){const e=vn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(i=>Tw(e,i,this.editor.model.schema))}execute(e){const i=this.editor.model,s=i.document,c=e.value;i.change(u=>{const h=Array.from(s.selection.getSelectedBlocks()).filter(g=>Tw(g,c,i.schema));for(const g of h)g.is("element",c)||u.rename(g,c)})}}function Tw(l,e,i){return i.checkChild(l.parent,e)&&!i.isObject(l)}const Bd="paragraph";class eA extends be{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[_a]}init(){const e=this.editor,i=e.config.get("heading.options"),s=[];for(const c of i)c.model!==Bd&&(e.model.schema.register(c.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(c),s.push(c.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new Rd(e,s))}afterInit(){const e=this.editor,i=e.commands.get("enter"),s=e.config.get("heading.options");i&&this.listenTo(i,"afterExecute",(c,u)=>{const h=e.model.document.selection.getFirstPosition().parent;s.some(g=>h.is("element",g.model))&&!h.is("element",Bd)&&0===h.childCount&&u.writer.rename(h,Bd)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:L.get("low")+1})}}var Nw=P(8733);Fe()(Nw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class nA extends be{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,i=e.t,s=function(h){const g=h.t,m={Paragraph:g("Paragraph"),"Heading 1":g("Heading 1"),"Heading 2":g("Heading 2"),"Heading 3":g("Heading 3"),"Heading 4":g("Heading 4"),"Heading 5":g("Heading 5"),"Heading 6":g("Heading 6")};return h.config.get("heading.options").map(w=>{const k=m[w.title];return k&&k!=w.title&&(w.title=k),w})}(e),c=i("Choose heading"),u=i("Heading");e.ui.componentFactory.add("heading",h=>{const g={},m=new fo,w=e.commands.get("heading"),k=e.commands.get("paragraph"),v=[w];for(const F of s){const G={type:"button",model:new uf({label:F.title,class:F.class,withText:!0})};"paragraph"===F.model?(G.model.bind("isOn").to(k,"value"),G.model.set("commandName","paragraph"),v.push(k)):(G.model.bind("isOn").to(w,"value",$=>$===F.model),G.model.set({commandName:"heading",commandValue:F.model})),m.add(G),g[F.model]=F.title}const y=da(h);return cy(y,m),y.buttonView.set({isOn:!1,withText:!0,tooltip:u}),y.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),y.bind("isEnabled").toMany(v,"isEnabled",(...F)=>F.some(G=>G)),y.buttonView.bind("label").to(w,"value",k,"value",(F,G)=>{const $=F||G&&"paragraph";return g[$]?g[$]:c}),this.listenTo(y,"execute",F=>{e.execute(F.source.commandName,F.source.commandValue?{value:F.source.commandValue}:void 0),e.editing.view.focus()}),y})}}class Fd extends be{static get requires(){return[Tr]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const i=e.plugins.get("BalloonToolbar");this.listenTo(i,"show",s=>{(function(c){const u=c.getSelectedElement();return!(!u||!Gt(u))})(e.editing.view.document.selection)&&s.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:i,items:s,getRelatedElement:c,balloonClassName:u="ck-toolbar-container"}){if(!s.length)return void Q("widget-toolbar-no-items",{toolbarId:e});const h=this.editor,g=h.t,m=new hd(h.locale);if(m.ariaLabel=i||g("Widget toolbar"),this._toolbarDefinitions.has(e))throw new A("widget-toolbar-duplicated",this,{toolbarId:e});m.fillFromConfig(s,h.ui.componentFactory),this._toolbarDefinitions.set(e,{view:m,getRelatedElement:c,balloonClassName:u})}_updateToolbarsVisibility(){let e=0,i=null,s=null;for(const c of this._toolbarDefinitions.values()){const u=c.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&u)if(this.editor.ui.focusTracker.isFocused){const h=u.getAncestors().length;h>e&&(e=h,i=u,s=c)}else this._isToolbarVisible(c)&&this._hideToolbar(c);else this._isToolbarInBalloon(c)&&this._hideToolbar(c)}s&&this._showToolbar(s,i)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,i){this._isToolbarVisible(e)?Hf(this.editor,i):this._isToolbarInBalloon(e)||(this._balloon.add({view:e.view,position:Pw(this.editor,i),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const s of this._toolbarDefinitions.values())if(this._isToolbarVisible(s)){const c=s.getRelatedElement(this.editor.editing.view.document.selection);Hf(this.editor,c)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function Hf(l,e){const i=l.plugins.get("ContextualBalloon"),s=Pw(l,e);i.updatePosition(s)}function Pw(l,e){const s=io.defaultPositions;return{target:l.editing.view.domConverter.mapViewToDom(e),positions:[s.northArrowSouth,s.northArrowSouthWest,s.northArrowSouthEast,s.southArrowNorth,s.southArrowNorthWest,s.southArrowNorthEast,s.viewportStickyNorth]}}class Gf{constructor(e){this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}begin(e,i,s){const c=new Ft(i);this.activeHandlePosition=function(h){const g=["top-left","top-right","bottom-right","bottom-left"];for(const m of g)if(h.classList.contains(Ow(m)))return m}(e),this._referenceCoordinates=function(h,g){const m=new Ft(h),w=g.split("-"),k={x:"right"==w[1]?m.right:m.left,y:"bottom"==w[0]?m.bottom:m.top};return k.x+=h.ownerDocument.defaultView.scrollX,k.y+=h.ownerDocument.defaultView.scrollY,k}(i,function(h){const g=h.split("-"),m={top:"bottom",bottom:"top",left:"right",right:"left"};return`${m[g[0]]}-${m[g[1]]}`}(this.activeHandlePosition)),this.originalWidth=c.width,this.originalHeight=c.height,this.aspectRatio=c.width/c.height;const u=s.style.width;this.originalWidthPercents=u&&u.match(/^\d+(\.\d*)?%$/)?parseFloat(u):function(h,g){const m=h.parentElement,w=parseFloat(m.ownerDocument.defaultView.getComputedStyle(m).width);return g.width/w*100}(s,c)}update(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}function Ow(l){return`ck-widget__resizer__handle-${l}`}Ae(Gf,je);class $f extends Qe{constructor(){super();const e=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",e.to("_viewPosition",i=>i?`ck-orientation-${i}`:"")],style:{display:e.if("_isVisible","none",i=>!i)}},children:[{text:e.to("_label")}]})}_bindToState(e,i){this.bind("_isVisible").to(i,"proposedWidth",i,"proposedHeight",(s,c)=>null!==s&&null!==c),this.bind("_label").to(i,"proposedHandleHostWidth",i,"proposedHandleHostHeight",i,"proposedWidthPercents",(s,c,u)=>"px"===e.unit?`${s}\xd7${c}`:`${u}%`),this.bind("_viewPosition").to(i,"activeHandlePosition",i,"proposedHandleHostWidth",i,"proposedHandleHostHeight",(s,c,u)=>c<50||u<50?"above-center":s)}_dismiss(){this.unbind(),this._isVisible=!1}}class Rw{constructor(e){this._options=e,this._viewResizerWrapper=null,this.set("isEnabled",!0),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",i=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),i.stop())},{priority:"high"}),this.on("change:isEnabled",()=>{this.isEnabled&&this.redraw()})}attach(){const e=this,i=this._options.viewElement;this._options.editor.editing.view.change(s=>{const c=s.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(u){const h=this.toDomElement(u);return e._appendHandles(h),e._appendSizeUI(h),e.on("change:isEnabled",(g,m,w)=>{h.style.display=w?"":"none"}),h.style.display=e.isEnabled?"":"none",h});s.insert(s.createPositionAt(i,"end"),c),s.addClass("ck-widget_with-resizer",i),this._viewResizerWrapper=c})}begin(e){this.state=new Gf(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}updateSize(e){const i=this._proposeNewSize(e);this._options.editor.editing.view.change(h=>{const g=this._options.unit||"%";h.setStyle("width",("%"===g?i.widthPercents:i.width)+g,this._options.viewElement)});const s=this._getHandleHost(),c=new Ft(s);i.handleHostWidth=Math.round(c.width),i.handleHostHeight=Math.round(c.height);const u=new Ft(s);i.width=Math.round(u.width),i.height=Math.round(u.height),this.redraw(c),this.state.update(i)}commit(){const e=this._options.unit||"%",i=("%"===e?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(i)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(e){const i=this._domResizerWrapper;if(!((s=i)&&s.ownerDocument&&s.ownerDocument.contains(s)))return;var s;const c=i.parentElement,u=this._getHandleHost(),h=this._viewResizerWrapper,g=[h.getStyle("width"),h.getStyle("height"),h.getStyle("left"),h.getStyle("top")];let m;if(c.isSameNode(u)){const w=e||new Ft(u);m=[w.width+"px",w.height+"px",void 0,void 0]}else m=[u.offsetWidth+"px",u.offsetHeight+"px",u.offsetLeft+"px",u.offsetTop+"px"];"same"!==Xn(g,m)&&this._options.editor.editing.view.change(w=>{w.setStyle({width:m[0],height:m[1],left:m[2],top:m[3]},h)})}containsHandle(e){return this._domResizerWrapper.contains(e)}static isResizeHandle(e){return e.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(e=>{e.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(e){const i=this.state,s_x=(c=e).pageX,s_y=c.pageY;var c;const u=!this._options.isCentered||this._options.isCentered(this),h={x:i._referenceCoordinates.x-(s_x+i.originalWidth),y:s_y-i.originalHeight-i._referenceCoordinates.y};u&&i.activeHandlePosition.endsWith("-right")&&(h.x=s_x-(i._referenceCoordinates.x+i.originalWidth)),u&&(h.x*=2);const g={width:Math.abs(i.originalWidth+h.x),height:Math.abs(i.originalHeight+h.y)};g.dominant=g.width/i.aspectRatio>g.height?"width":"height",g.max=g[g.dominant];const m={width:g.width,height:g.height};return"width"==g.dominant?m.height=m.width/i.aspectRatio:m.width=m.height*i.aspectRatio,{width:Math.round(m.width),height:Math.round(m.height),widthPercents:Math.min(Math.round(i.originalWidthPercents/i.originalWidth*m.width*100)/100,100)}}_getResizeHost(){return this._options.getResizeHost(this._domResizerWrapper.parentElement)}_getHandleHost(){return this._options.getHandleHost(this._domResizerWrapper.parentElement)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(e){const i=["top-left","top-right","bottom-right","bottom-left"];for(const c of i)e.appendChild(new wo({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(s=c,`ck-widget__resizer__handle-${s}`)}}).render());var s}_appendSizeUI(e){this._sizeView=new $f,this._sizeView.render(),e.appendChild(this._sizeView.element)}}Ae(Rw,je);var Ld=P(8506);Fe()(Ld.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Ae(class extends be{static get pluginName(){return"WidgetResize"}init(){const l=this.editor.editing,e=Vt.window.document;this.set("visibleResizer",null),this.set("_activeResizer",null),this._resizers=new Map,l.view.addObserver(_d),this._observer=Object.create(lc),this.listenTo(l.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(e,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(e,"mouseup",this._mouseUpListener.bind(this));const i=()=>{this.visibleResizer&&this.visibleResizer.redraw()};this._redrawFocusedResizerThrottled=gs(i,200),this.on("change:visibleResizer",i),this.editor.ui.on("update",this._redrawFocusedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[c,u]of this._resizers)c.isAttached()||(this._resizers.delete(c),u.destroy())},{priority:"lowest"}),this._observer.listenTo(Vt.window,"resize",this._redrawFocusedResizerThrottled);const s=this.editor.editing.view.document.selection;s.on("change",()=>{const c=s.getSelectedElement();this.visibleResizer=this.getResizerByViewElement(c)||null})}destroy(){this._observer.stopListening();for(const l of this._resizers.values())l.destroy();this._redrawFocusedResizerThrottled.cancel()}attachTo(l){const e=new Rw(l),i=this.editor.plugins;if(e.attach(),i.has("WidgetToolbarRepository")){const c=i.get("WidgetToolbarRepository");e.on("begin",()=>{c.forceDisabled("resize")},{priority:"lowest"}),e.on("cancel",()=>{c.clearForceDisabled("resize")},{priority:"highest"}),e.on("commit",()=>{c.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(l.viewElement,e);const s=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(s)==e&&(this.visibleResizer=e),e}getResizerByViewElement(l){return this._resizers.get(l)}_getResizerByHandle(l){for(const e of this._resizers.values())if(e.containsHandle(l))return e}_mouseDownListener(l,e){const i=e.domTarget;Rw.isResizeHandle(i)&&(this._activeResizer=this._getResizerByHandle(i),this._activeResizer&&(this._activeResizer.begin(i),l.stop(),e.preventDefault()))}_mouseMoveListener(l,e){this._activeResizer&&this._activeResizer.updateSize(e)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}},je);class GE extends st{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.value=!(!this.isEnabled||!e.hasAttribute("alt"))&&e.getAttribute("alt")}execute(e){const i=this.editor,s=i.plugins.get("ImageUtils"),c=i.model,u=s.getClosestSelectedImageElement(c.document.selection);c.change(h=>{h.setAttribute("alt",e.newValue,u)})}}function ae(l){return l.createContainerElement("figure",{class:"image"},[l.createEmptyElement("img"),l.createSlot()])}function jd(l,e){const i=l.plugins.get("ImageUtils"),s=l.plugins.has("ImageInlineEditing")&&l.plugins.has("ImageBlockEditing");return u=>i.isInlineImageView(u)?s&&(u.findAncestor(i.isBlockImageView)?"imageBlock":"imageInline")!==e?null:function c(u){const h={name:!0};return u.hasAttribute("src")&&(h.attributes=["src"]),h}(u):null}function Yo(l,e){const i=vn(e.getSelectedBlocks());return!i||l.isObject(i)||i.isEmpty&&"listItem"!=i.name?"imageBlock":"imageInline"}class Ro extends be{static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},i=null,s=null){const c=this.editor,u=c.model,h=u.document.selection;s=Bw(c,i||h,s),e=He(He({},Object.fromEntries(h.getAttributes())),e);for(const g in e)u.schema.checkAttribute(s,g)||delete e[g];return u.change(g=>{const m=g.createElement(s,e);return u.insertObject(m,i,null,{setSelection:"on",findOptimalPosition:!i&&"imageInline"!=s}),m.parent?m:null})}getClosestSelectedImageWidget(e){const i=e.getFirstPosition();if(!i)return null;const s=e.getSelectedElement();if(s&&this.isImageWidget(s))return s;let c=i.parent;for(;c;){if(c.is("element")&&this.isImageWidget(c))return c;c=c.parent}return null}getClosestSelectedImageElement(e){const i=e.getSelectedElement();return this.isImage(i)?i:e.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const e=this.editor.model.document.selection;return function(i,s){if("imageBlock"==Bw(i,s)){const c=function(u,h){const g=Mf(u,h).start.parent;return g.isEmpty&&!g.is("element","$root")?g.parent:g}(s,i.model);if(i.model.schema.checkChild(c,"imageBlock"))return!0}else if(i.model.schema.checkChild(s.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(i){return[...i.focus.getAncestors()].every(s=>!s.is("element","imageBlock"))}(e)}toImageWidget(e,i,s){return i.setCustomProperty("image",!0,e),Zb(e,i,{label:()=>{const c=this.findViewImgElement(e).getAttribute("alt");return c?`${c} ${s}`:s}})}isImageWidget(e){return!!e.getCustomProperty("image")&&Gt(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const i=this.editor.editing.view;for(const{item:s}of i.createRangeIn(e))if(this.isInlineImageView(s))return s}}function Bw(l,e,i){const s=l.model.schema,c=l.config.get("image.insert.type");return l.plugins.has("ImageBlockEditing")?l.plugins.has("ImageInlineEditing")?i||("inline"===c?"imageInline":"block"===c?"imageBlock":e.is("selection")?Yo(s,e):s.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class Ot extends be{static get requires(){return[Ro]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new GE(this.editor))}}var It=P(1905);Fe()(It.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var iA=P(6764);Fe()(iA.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Wf extends Qe{constructor(e){super(e);const i=this.locale.t;this.focusTracker=new So,this.keystrokes=new xr,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(i("Save"),bo.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),bo.cancel,"ck-button-cancel","cancel"),this._focusables=new ls,this._focusCycler=new la({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]}),Ec(this)}render(){super.render(),this.keystrokes.listenTo(this.element),Vh({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,i,s,c){const u=new Ht(this.locale);return u.set({label:e,icon:i,tooltip:!0}),u.extendTemplate({attributes:{class:s}}),c&&u.delegate("execute").to(this,c),u}_createLabeledInputView(){const e=this.locale.t,i=new Pc(this.locale,md);return i.label=e("Text alternative"),i}}function zd(l){const e=l.editing.view,i=io.defaultPositions,s=l.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(s.getClosestSelectedImageWidget(e.document.selection)),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}class Fw extends be{static get requires(){return[Tr]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const e=this.editor,i=e.t;e.ui.componentFactory.add("imageTextAlternative",s=>{const c=e.commands.get("imageTextAlternative"),u=new Ht(s);return u.set({label:i("Change image text alternative"),icon:bo.lowVision,tooltip:!0}),u.bind("isEnabled").to(c,"isEnabled"),this.listenTo(u,"execute",()=>{this._showForm()}),u})}_createForm(){const e=this.editor,i=e.editing.view.document,s=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new Wf(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(c,u)=>{this._hideForm(!0),u()}),this.listenTo(e.ui,"update",()=>{s.getClosestSelectedImageWidget(i.selection)?this._isVisible&&function(c){const u=c.plugins.get("ContextualBalloon");if(c.plugins.get("ImageUtils").getClosestSelectedImageWidget(c.editing.view.document.selection)){const h=zd(c);u.updatePosition(h)}}(e):this._hideForm(!0)}),ad({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const e=this.editor,i=e.commands.get("imageTextAlternative"),s=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:zd(e)}),s.fieldView.value=s.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class qf extends be{static get requires(){return[Ot,Fw]}static get pluginName(){return"ImageTextAlternative"}}function va(l,e){return s=>{s.on(`attribute:srcset:${e}`,i)};function i(s,c,u){if(!u.consumable.consume(c.item,s.name))return;const h=u.writer,g=u.mapper.toViewElement(c.item),m=l.findViewImgElement(g);if(null===c.attributeNewValue){const w=c.attributeOldValue;w.data&&(h.removeAttribute("srcset",m),h.removeAttribute("sizes",m),w.width&&h.removeAttribute("width",m))}else{const w=c.attributeNewValue;w.data&&(h.setAttribute("srcset",w.data,m),h.setAttribute("sizes","100vw",m),w.width&&h.setAttribute("width",w.width,m))}}}function Hc(l,e,i){return c=>{c.on(`attribute:${i}:${e}`,s)};function s(c,u,h){if(!h.consumable.consume(u.item,c.name))return;const g=h.writer,m=h.mapper.toViewElement(u.item),w=l.findViewImgElement(m);g.setAttribute(u.attributeKey,u.attributeNewValue||"",w)}}class Qf extends no{observe(e){this.listenTo(e,"load",(i,s)=>{const c=s.target;this.checkShouldIgnoreEventFromTarget(c)||"IMG"==c.tagName&&this._fireEvents(s)},{useCapture:!0})}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class $t extends st{constructor(e){super(e);const i=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||"block"===i&&Q("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||"inline"===i&&Q("image-inline-plugin-required")}refresh(){this.isEnabled=this.editor.plugins.get("ImageUtils").isImageAllowed()}execute(e){const i=Pt(e.source),s=this.editor.model.document.selection,c=this.editor.plugins.get("ImageUtils"),u=Object.fromEntries(s.getAttributes());i.forEach((h,g)=>{const m=s.getSelectedElement();if("string"==typeof h&&(h={src:h}),g&&m&&c.isImage(m)){const w=this.editor.model.createPositionAfter(m);c.insertImage(He(He({},h),u),w)}else c.insertImage(He(He({},h),u))})}}class Vd extends be{static get requires(){return[Ro]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,i=e.conversion;e.editing.view.addObserver(Qf),i.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:c=>{const u={data:c.getAttribute("srcset")};return c.hasAttribute("width")&&(u.width=c.getAttribute("width")),u}}});const s=new $t(e);e.commands.add("insertImage",s),e.commands.add("imageInsert",s)}}class Lw extends st{constructor(e,i){super(e),this._modelElementName=i}refresh(){const e=this.editor.plugins.get("ImageUtils"),i=e.getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled="imageBlock"===this._modelElementName?e.isInlineImage(i):e.isBlockImage(i)}execute(){const i=this.editor.model,s=this.editor.plugins.get("ImageUtils"),c=s.getClosestSelectedImageElement(i.document.selection),u=Object.fromEntries(c.getAttributes());return u.src||u.uploadId?i.change(h=>{const g=Array.from(i.markers).filter(k=>k.getRange().containsItem(c)),m=s.insertImage(u,i.createSelection(c,"on"),this._modelElementName);if(!m)return null;const w=h.createRangeOn(m);for(const k of g){const v=k.getRange(),y="$graveyard"!=v.root.rootName?v.getJoined(w,!0):w;h.updateMarker(k,{range:y})}return{oldElement:c,newElement:m}}):null}}class Zf extends be{static get requires(){return[Vd,Ro,Zo]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new Lw(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,s=e.conversion,c=e.plugins.get("ImageUtils");s.for("dataDowncast").elementToStructure({model:"imageBlock",view:(u,{writer:h})=>ae(h)}),s.for("editingDowncast").elementToStructure({model:"imageBlock",view:(u,{writer:h})=>c.toImageWidget(ae(h),h,i("image widget"))}),s.for("downcast").add(Hc(c,"imageBlock","src")).add(Hc(c,"imageBlock","alt")).add(va(c,"imageBlock")),s.for("upcast").elementToElement({view:jd(e,"imageBlock"),model:(u,{writer:h})=>h.createElement("imageBlock",u.hasAttribute("src")?{src:u.getAttribute("src")}:null)}).add(function(u){return g=>{g.on("element:figure",h)};function h(g,m,w){if(!w.consumable.test(m.viewItem,{name:!0,classes:"image"}))return;const k=u.findViewImgElement(m.viewItem);if(!k||!w.consumable.test(k,{name:!0}))return;w.consumable.consume(m.viewItem,{name:!0,classes:"image"});const v=vn(w.convertItem(k,m.modelCursor).modelRange.getItems());v?(w.convertChildren(m.viewItem,v),w.updateConversionResult(v,m)):w.consumable.revert(m.viewItem,{name:!0,classes:"image"})}}(c))}_setupClipboardIntegration(){const e=this.editor,i=e.model,s=e.editing.view,c=e.plugins.get("ImageUtils");this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",(u,h)=>{const g=Array.from(h.content.getChildren());let m;if(!g.every(c.isInlineImageView))return;m=h.targetRanges?e.editing.mapper.toModelRange(h.targetRanges[0]):i.document.selection.getFirstRange();const w=i.createSelection(m);if("imageBlock"===Yo(i.schema,w)){const k=new ha(s.document),v=g.map(y=>k.createElement("figure",{class:"image"},y));h.content=k.createDocumentFragment(v)}})}}var Kf=P(3508);Fe()(Kf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Jf extends be{static get requires(){return[Zf,Lc,qf]}static get pluginName(){return"ImageBlock"}}class sA extends be{static get requires(){return[Vd,Ro,Zo]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,i=e.model.schema;i.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),i.addChildCheck((s,c)=>{if(s.endsWith("caption")&&"imageInline"===c.name)return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new Lw(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,s=e.conversion,c=e.plugins.get("ImageUtils");s.for("dataDowncast").elementToElement({model:"imageInline",view:(u,{writer:h})=>h.createEmptyElement("img")}),s.for("editingDowncast").elementToStructure({model:"imageInline",view:(u,{writer:h})=>{return c.toImageWidget((g=h).createContainerElement("span",{class:"image-inline"},g.createEmptyElement("img")),h,i("image widget"));var g}}),s.for("downcast").add(Hc(c,"imageInline","src")).add(Hc(c,"imageInline","alt")).add(va(c,"imageInline")),s.for("upcast").elementToElement({view:jd(e,"imageInline"),model:(u,{writer:h})=>h.createElement("imageInline",u.hasAttribute("src")?{src:u.getAttribute("src")}:null)})}_setupClipboardIntegration(){const e=this.editor,i=e.model,s=e.editing.view,c=e.plugins.get("ImageUtils");this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",(u,h)=>{const g=Array.from(h.content.getChildren());let m;if(!g.every(c.isBlockImageView))return;m=h.targetRanges?e.editing.mapper.toModelRange(h.targetRanges[0]):i.document.selection.getFirstRange();const w=i.createSelection(m);if("imageInline"===Yo(i.schema,w)){const k=new ha(s.document),v=g.map(y=>1===y.childCount?(Array.from(y.getAttributes()).forEach(F=>k.setAttribute(...F,c.findViewImgElement(y))),y.getChild(0)):y);h.content=k.createDocumentFragment(v)}})}}class aA extends be{static get requires(){return[sA,Lc,qf]}static get pluginName(){return"ImageInline"}}class cA extends st{refresh(){const e=this.editor,i=e.plugins.get("ImageCaptionUtils");if(!e.plugins.has(Zf))return this.isEnabled=!1,void(this.value=!1);const s=e.model.document.selection,c=s.getSelectedElement();if(!c){const u=i.getCaptionFromModelSelection(s);return this.isEnabled=!!u,void(this.value=!!u)}this.isEnabled=this.editor.plugins.get("ImageUtils").isImage(c),this.value=!!this.isEnabled&&!!i.getCaptionFromImageModelElement(c)}execute(e={}){const{focusCaptionOnShow:i}=e;this.editor.model.change(s=>{this.value?this._hideImageCaption(s):this._showImageCaption(s,i)})}_showImageCaption(e,i){const s=this.editor.model.document.selection,c=this.editor.plugins.get("ImageCaptionEditing");let u=s.getSelectedElement();const h=c._getSavedCaption(u);this.editor.plugins.get("ImageUtils").isInlineImage(u)&&(this.editor.execute("imageTypeBlock"),u=s.getSelectedElement());const g=h||e.createElement("caption");e.append(g,u),i&&e.setSelection(g,"in")}_hideImageCaption(e){const i=this.editor,s=i.model.document.selection,c=i.plugins.get("ImageCaptionEditing"),u=i.plugins.get("ImageCaptionUtils");let h,g=s.getSelectedElement();g?h=u.getCaptionFromImageModelElement(g):(h=u.getCaptionFromModelSelection(s),g=h.parent),c._saveCaption(g,h),e.setSelection(g,"on"),e.remove(h)}}class Xf extends be{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Ro]}getCaptionFromImageModelElement(e){for(const i of e.getChildren())if(i&&i.is("element","caption"))return i;return null}getCaptionFromModelSelection(e){const i=this.editor.plugins.get("ImageUtils"),s=e.getFirstPosition().findAncestor("caption");return s&&i.isBlockImage(s.parent)?s:null}matchImageCaptionViewElement(e){const i=this.editor.plugins.get("ImageUtils");return"figcaption"==e.name&&i.isBlockImageView(e.parent)?{name:!0}:null}}class eg extends be{static get requires(){return[Ro,Xf]}static get pluginName(){return"ImageCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,i=e.model.schema;i.isRegistered("caption")?i.extend("caption",{allowIn:"imageBlock"}):i.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new cA(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,i=e.editing.view,s=e.plugins.get("ImageUtils"),c=e.plugins.get("ImageCaptionUtils"),u=e.t;e.conversion.for("upcast").elementToElement({view:h=>c.matchImageCaptionViewElement(h),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(h,{writer:g})=>s.isBlockImage(h.parent)?g.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(h,{writer:g})=>{if(!s.isBlockImage(h.parent))return null;const m=g.createEditableElement("figcaption");g.setCustomProperty("imageCaption",!0,m),kf({view:i,element:m,text:u("Enter image caption"),keepOnFocus:!0});const w=h.parent.getAttribute("alt");return xf(m,g,{label:w?u("Caption for image: %0",[w]):u("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,i=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils"),c=e.commands.get("imageTypeInline"),u=e.commands.get("imageTypeBlock"),h=g=>{if(!g.return)return;const{oldElement:m,newElement:w}=g.return;if(!m)return;if(i.isBlockImage(m)){const v=s.getCaptionFromImageModelElement(m);if(v)return void this._saveCaption(w,v)}const k=this._getSavedCaption(m);k&&this._saveCaption(w,k)};c&&this.listenTo(c,"execute",h,{priority:"low"}),u&&this.listenTo(u,"execute",h,{priority:"low"})}_getSavedCaption(e){const i=this._savedCaptionsMap.get(e);return i?xt.fromJSON(i):null}_saveCaption(e,i){this._savedCaptionsMap.set(e,i.toJSON())}_registerCaptionReconversion(){const e=this.editor,i=e.model,s=e.plugins.get("ImageUtils"),c=e.plugins.get("ImageCaptionUtils");i.document.on("change:data",()=>{const u=i.document.differ.getChanges();for(const h of u){if("alt"!==h.attributeKey)continue;const g=h.range.start.nodeAfter;if(s.isBlockImage(g)){const m=c.getCaptionFromImageModelElement(g);if(!m)return;e.editing.reconvertItem(m)}}})}}class jw extends be{static get requires(){return[Xf]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,i=e.editing.view,s=e.plugins.get("ImageCaptionUtils"),c=e.t;e.ui.componentFactory.add("toggleImageCaption",u=>{const h=e.commands.get("toggleImageCaption"),g=new Ht(u);return g.set({icon:bo.caption,tooltip:!0,isToggleable:!0}),g.bind("isOn","isEnabled").to(h,"value","isEnabled"),g.bind("label").to(h,"value",m=>c(m?"Toggle caption off":"Toggle caption on")),this.listenTo(g,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const m=s.getCaptionFromModelSelection(e.model.document.selection);if(m){const w=e.editing.mapper.toViewElement(m);i.scrollToTheSelection(),i.change(k=>{k.addClass("image__caption_highlighted",w)})}}),g})}}var tg=P(2640);Fe()(tg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Vw extends st{constructor(e,i){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(i.map(s=>{if(s.isDefault)for(const c of s.modelElements)this._defaultStyles[c]=s.name;return[s.name,s]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.value=!!this.isEnabled&&(e.hasAttribute("imageStyle")?e.getAttribute("imageStyle"):this._defaultStyles[e.name])}execute(e={}){const i=this.editor,s=i.model,c=i.plugins.get("ImageUtils");s.change(u=>{const h=e.value;let g=c.getClosestSelectedImageElement(s.document.selection);h&&this.shouldConvertImageType(h,g)&&(this.editor.execute(c.isBlockImage(g)?"imageTypeInline":"imageTypeBlock"),g=c.getClosestSelectedImageElement(s.document.selection)),!h||this._styles.get(h).isDefault?u.removeAttribute("imageStyle",g):u.setAttribute("imageStyle",h,g)})}shouldConvertImageType(e,i){return!this._styles.get(e).modelElements.includes(i.name)}}const{objectFullWidth:Uw,objectInline:ng,objectLeft:og,objectRight:Ud,objectCenter:Hw,objectBlockLeft:Gw,objectBlockRight:$w}=bo,Gc={get inline(){return{name:"inline",title:"In line",icon:ng,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:og,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:Gw,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Hw,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Ud,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:$w,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Hw,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Ud,modelElements:["imageBlock"],className:"image-style-side"}}},Ww={full:Uw,left:Gw,right:$w,center:Hw,inlineLeft:og,inlineRight:Ud,inline:ng},kn=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function ig(l){Q("image-style-configuration-definition-invalid",l)}const rg={normalizeStyles:function(l){return(l.configuredStyles.options||[]).map(e=>function(i){return"string"==typeof(i="string"==typeof i?Gc[i]?He({},Gc[i]):{name:i}:function(s,c){const u=He({},c);for(const h in s)Object.prototype.hasOwnProperty.call(c,h)||(u[h]=s[h]);return u}(Gc[i.name],i)).icon&&(i.icon=Ww[i.icon]||i.icon),i}(e)).filter(e=>function(i,{isBlockPluginLoaded:s,isInlinePluginLoaded:c}){const{modelElements:u,name:h}=i;if(!(u&&u.length&&h))return ig({style:i}),!1;{const g=[s?"imageBlock":null,c?"imageInline":null];if(!u.some(m=>g.includes(m)))return Q("image-style-missing-dependency",{style:i,missingPlugins:u.map(m=>"imageBlock"===m?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,l))},getDefaultStylesConfiguration:function(l,e){return l&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:l?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(l){return l.has("ImageBlockEditing")&&l.has("ImageInlineEditing")?[...kn]:[]},warnInvalidStyle:ig,DEFAULT_OPTIONS:Gc,DEFAULT_ICONS:Ww,DEFAULT_DROPDOWN_DEFINITIONS:kn};function qw(l,e){for(const i of e)if(i.name===l)return i}class sg extends be{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Ro]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:i}=rg,s=this.editor,c=s.plugins.has("ImageBlockEditing"),u=s.plugins.has("ImageInlineEditing");s.config.define("image.styles",i(c,u)),this.normalizedStyles=e({configuredStyles:s.config.get("image.styles"),isBlockPluginLoaded:c,isInlinePluginLoaded:u}),this._setupConversion(c,u),this._setupPostFixer(),s.commands.add("imageStyle",new Vw(s,this.normalizedStyles))}_setupConversion(e,i){const s=this.editor,c=s.model.schema,u=(h=this.normalizedStyles,(m,w,k)=>{if(!k.consumable.consume(w.item,m.name))return;const v=qw(w.attributeNewValue,h),y=qw(w.attributeOldValue,h),F=k.mapper.toViewElement(w.item),G=k.writer;y&&G.removeClass(y.className,F),v&&G.addClass(v.className,F)});var h;const g=function(m){const w={imageInline:m.filter(k=>!k.isDefault&&k.modelElements.includes("imageInline")),imageBlock:m.filter(k=>!k.isDefault&&k.modelElements.includes("imageBlock"))};return(k,v,y)=>{if(!v.modelRange)return;const F=v.viewItem,G=vn(v.modelRange.getItems());if(G&&y.schema.checkAttribute(G,"imageStyle"))for(const $ of w[G.name])y.consumable.consume(F,{classes:$.className})&&y.writer.setAttribute("imageStyle",$.name,G)}}(this.normalizedStyles);s.editing.downcastDispatcher.on("attribute:imageStyle",u),s.data.downcastDispatcher.on("attribute:imageStyle",u),e&&(c.extend("imageBlock",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:figure",g,{priority:"low"})),i&&(c.extend("imageInline",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:img",g,{priority:"low"}))}_setupPostFixer(){const e=this.editor,i=e.model.document,s=e.plugins.get(Ro),c=new Map(this.normalizedStyles.map(u=>[u.name,u]));i.registerPostFixer(u=>{let h=!1;for(const g of i.differ.getChanges())if("insert"==g.type||"attribute"==g.type&&"imageStyle"==g.attributeKey){let m="insert"==g.type?g.position.nodeAfter:g.range.start.nodeAfter;if(m&&m.is("element","paragraph")&&m.childCount>0&&(m=m.getChild(0)),!s.isImage(m))continue;const w=m.getAttribute("imageStyle");if(!w)continue;const k=c.get(w);k&&k.modelElements.includes(m.name)||(u.removeAttribute("imageStyle",m),h=!0)}return h})}}var Qw=P(5083);Fe()(Qw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Kw extends be{static get requires(){return[sg]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,i=this.editor.config.get("image.toolbar")||[],s=vs(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const u of s)this._createButton(u);const c=vs([...i.filter(Pe),...rg.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const u of c)this._createDropdown(u,s)}_createDropdown(e,i){const s=this.editor.ui.componentFactory;s.add(e.name,c=>{let u;const{defaultItem:h,items:g,title:m}=e,w=g.filter(F=>i.find(({name:G})=>Yw(G)===F)).map(F=>{const G=s.create(F);return F===h&&(u=G),G});g.length!==w.length&&rg.warnInvalidStyle({dropdown:e});const k=da(c,yb),v=k.buttonView,y=v.arrowView;return xb(k,w,{enableActiveItemFocusOnDropdownOpen:!0}),v.set({label:Jw(m,u.label),class:null,tooltip:!0}),y.unbind("label"),y.set({label:m}),v.bind("icon").toMany(w,"isOn",(...F)=>{const G=F.findIndex(Kr);return G<0?u.icon:w[G].icon}),v.bind("label").toMany(w,"isOn",(...F)=>{const G=F.findIndex(Kr);return Jw(m,G<0?u.label:w[G].label)}),v.bind("isOn").toMany(w,"isOn",(...F)=>F.some(Kr)),v.bind("class").toMany(w,"isOn",(...F)=>F.some(Kr)?"ck-splitbutton_flatten":null),v.on("execute",()=>{w.some(({isOn:F})=>F)?k.isOpen=!k.isOpen:u.fire("execute")}),k.bind("isEnabled").toMany(w,"isEnabled",(...F)=>F.some(Kr)),this.listenTo(k,"execute",()=>{this.editor.editing.view.focus()}),k})}_createButton(e){const i=e.name;this.editor.ui.componentFactory.add(Yw(i),s=>{const c=this.editor.commands.get("imageStyle"),u=new Ht(s);return u.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),u.bind("isEnabled").to(c,"isEnabled"),u.bind("isOn").to(c,"value",h=>h===i),u.on("execute",this._executeCommand.bind(this,i)),u})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function vs(l,e){for(const i of l)e[i.title]&&(i.title=e[i.title]);return l}function Yw(l){return`imageStyle:${l}`}function Jw(l,e){return(l?l+": ":"")+e}function ag(l){const e=l.map(i=>i.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function lA(l){return new Promise((e,i)=>{const s=l.getAttribute("src");fetch(s).then(c=>c.blob()).then(c=>{const u=cg(c,s),h=u.replace("image/",""),g=new File([c],`image.${h}`,{type:u});e(g)}).catch(c=>{return c&&"TypeError"===c.name?(u=s,(h=u,new Promise((g,m)=>{const w=Vt.document.createElement("img");w.addEventListener("load",()=>{const k=Vt.document.createElement("canvas");k.width=w.width,k.height=w.height,k.getContext("2d").drawImage(w,0,0),k.toBlob(v=>v?g(v):m())}),w.addEventListener("error",()=>m()),w.src=h})).then(h=>{const g=cg(h,u),m=g.replace("image/","");return new File([h],`image.${m}`,{type:g})})).then(e).catch(i):i(c);var u,h})})}function cg(l,e){return l.type?l.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class $E extends be{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,i=e.t,s=c=>{const u=new qn(c),h=e.commands.get("uploadImage"),g=e.config.get("image.upload.types"),m=ag(g);return u.set({acceptedType:g.map(w=>`image/${w}`).join(","),allowMultipleFiles:!0}),u.buttonView.set({label:i("Insert image"),icon:bo.image,tooltip:!0}),u.buttonView.bind("isEnabled").to(h),u.on("done",(w,k)=>{const v=Array.from(k).filter(y=>m.test(y.type));v.length&&e.execute("uploadImage",{file:v})}),u};e.ui.componentFactory.add("uploadImage",s),e.ui.componentFactory.add("imageUpload",s)}}var lg=P(3689);Fe()(lg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var mi=P(4036);Fe()(mi.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Xw=P(3773);Fe()(Xw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class bi extends be{static get pluginName(){return"ImageUploadProgress"}constructor(e){super(e),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",(...i)=>this.uploadStatusChange(...i)),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",(...i)=>this.uploadStatusChange(...i))}uploadStatusChange(e,i,s){const c=this.editor,u=i.item,h=u.getAttribute("uploadId");if(!s.consumable.consume(i.item,e.name))return;const g=c.plugins.get("ImageUtils"),m=c.plugins.get(ln),w=h?i.attributeNewValue:null,k=this.placeholder,v=c.editing.mapper.toViewElement(u),y=s.writer;if("reading"==w)return Jo(v,y),void dg(g,k,v,y);if("uploading"==w){const F=m.loaders.get(h);return Jo(v,y),void(F?(ug(v,y),function(G,$,K,Y){const ee=function(ce){const Ie=ce.createUIElement("div",{class:"ck-progress-bar"});return ce.setCustomProperty("progressBar",!0,Ie),Ie}($);$.insert($.createPositionAt(G,"end"),ee),K.on("change:uploadedPercent",(ce,Ie,Le)=>{Y.change(jt=>{jt.setStyle("width",Le+"%",ee)})})}(v,y,F,c.editing.view),function(G,$,K,Y){if(Y.data){const ee=G.findViewImgElement($);K.setAttribute("src",Y.data,ee)}}(g,v,y,F)):dg(g,k,v,y))}"complete"==w&&m.loaders.get(h)&&function(F,G,$){const K=G.createUIElement("div",{class:"ck-image-upload-complete-icon"});G.insert(G.createPositionAt(F,"end"),K),setTimeout(()=>{$.change(Y=>Y.remove(Y.createRangeOn(K)))},3e3)}(v,y,c.editing.view),tk(v,y,"progressBar"),ug(v,y),y.removeClass("ck-appear",v)}}function Jo(l,e){l.hasClass("ck-appear")||e.addClass("ck-appear",l)}function dg(l,e,i,s){i.hasClass("ck-image-upload-placeholder")||s.addClass("ck-image-upload-placeholder",i);const c=l.findViewImgElement(i);c.getAttribute("src")!==e&&s.setAttribute("src",e,c),ek(i,"placeholder")||s.insert(s.createPositionAfter(c),function(u){const h=u.createUIElement("div",{class:"ck-upload-placeholder-loader"});return u.setCustomProperty("placeholder",!0,h),h}(s))}function ug(l,e){l.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",l),tk(l,e,"placeholder")}function ek(l,e){for(const i of l.getChildren())if(i.getCustomProperty(e))return i}function tk(l,e,i){const s=ek(l,i);s&&e.remove(e.createRangeOn(s))}class uA extends st{refresh(){const e=this.editor,i=e.plugins.get("ImageUtils"),s=e.model.document.selection.getSelectedElement();this.isEnabled=i.isImageAllowed()||i.isImage(s)}execute(e){const i=Pt(e.file),s=this.editor.model.document.selection,c=this.editor.plugins.get("ImageUtils"),u=Object.fromEntries(s.getAttributes());i.forEach((h,g)=>{const m=s.getSelectedElement();if(g&&m&&c.isImage(m)){const w=this.editor.model.createPositionAfter(m);this._uploadImage(h,u,w)}else this._uploadImage(h,u)})}_uploadImage(e,i,s){const c=this.editor,u=c.plugins.get(ln).createLoader(e),h=c.plugins.get("ImageUtils");u&&h.insertImage(wl(He({},i),{uploadId:u.id}),s)}}class hA extends be{static get requires(){return[ln,Oc,Zo,Ro]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,i=e.model.document,s=e.conversion,c=e.plugins.get(ln),u=e.plugins.get("ImageUtils"),h=ag(e.config.get("image.upload.types")),g=new uA(e);e.commands.add("uploadImage",g),e.commands.add("imageUpload",g),s.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(m,w)=>{if(k=w.dataTransfer,Array.from(k.types).includes("text/html")&&""!==k.getData("text/html"))return;var k;const v=Array.from(w.dataTransfer.files).filter(y=>!!y&&h.test(y.type));v.length&&(m.stop(),e.model.change(y=>{w.targetRanges&&y.setSelection(w.targetRanges.map(F=>e.editing.mapper.toModelRange(F))),e.model.enqueueChange(()=>{e.execute("uploadImage",{file:v})})}))}),this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",(m,w)=>{const k=Array.from(e.editing.view.createRangeIn(w.content)).filter(y=>{return!(!u.isInlineImageView(G=y.item)||!G.getAttribute("src"))&&(G.getAttribute("src").match(/^data:image\/\w+;base64,/g)||G.getAttribute("src").match(/^blob:/g))&&!y.item.getAttribute("uploadProcessed");var G}).map(y=>({promise:lA(y.item),imageElement:y.item}));if(!k.length)return;const v=new ha(e.editing.view.document);for(const y of k){v.setAttribute("uploadProcessed",!0,y.imageElement);const F=c.createLoader(y.promise);F&&(v.setAttribute("src","",y.imageElement),v.setAttribute("uploadId",F.id,y.imageElement))}}),e.editing.view.document.on("dragover",(m,w)=>{w.preventDefault()}),i.on("change",()=>{const m=i.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),w=new Set;for(const k of m)if("insert"==k.type&&"$text"!=k.name){const v=k.position.nodeAfter,y="$graveyard"==k.position.root.rootName;for(const F of hg(e,v)){const G=F.getAttribute("uploadId");if(!G)continue;const $=c.loaders.get(G);$&&(y?w.has(G)||$.abort():(w.add(G),this._uploadImageElements.set(G,F),"idle"==$.status&&this._readAndUpload($)))}}}),this.on("uploadComplete",(m,{imageElement:w,data:k})=>{const v=k.urls?k.urls:k;this.editor.model.change(y=>{y.setAttribute("src",v.default,w),this._parseAndSetSrcsetAttributeOnImage(v,w,y)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const i=this.editor,s=i.model,c=i.locale.t,u=i.plugins.get(ln),h=i.plugins.get(Oc),g=i.plugins.get("ImageUtils"),m=this._uploadImageElements;return s.enqueueChange({isUndoable:!1},k=>{k.setAttribute("uploadStatus","reading",m.get(e.id))}),e.read().then(()=>{const k=e.upload(),v=m.get(e.id);if(yt.isSafari){const y=i.editing.mapper.toViewElement(v),F=g.findViewImgElement(y);i.editing.view.once("render",()=>{if(!F.parent)return;const G=i.editing.view.domConverter.mapViewToDom(F.parent);if(!G)return;const $=G.style.display;G.style.display="none",G._ckHack=G.offsetHeight,G.style.display=$})}return s.enqueueChange({isUndoable:!1},y=>{y.setAttribute("uploadStatus","uploading",v)}),k}).then(k=>{s.enqueueChange({isUndoable:!1},v=>{const y=m.get(e.id);v.setAttribute("uploadStatus","complete",y),this.fire("uploadComplete",{data:k,imageElement:y})}),w()}).catch(k=>{if("error"!==e.status&&"aborted"!==e.status)throw k;"error"==e.status&&k&&h.showWarning(k,{title:c("Upload failed"),namespace:"upload"}),s.enqueueChange({isUndoable:!1},v=>{v.remove(m.get(e.id))}),w()});function w(){s.enqueueChange({isUndoable:!1},k=>{const v=m.get(e.id);k.removeAttribute("uploadId",v),k.removeAttribute("uploadStatus",v),m.delete(e.id)}),u.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,i,s){let c=0;const u=Object.keys(e).filter(h=>{const g=parseInt(h,10);if(!isNaN(g))return c=Math.max(c,g),!0}).map(h=>`${e[h]} ${h}w`).join(", ");""!=u&&s.setAttribute("srcset",{data:u,width:c},i)}}function hg(l,e){const i=l.plugins.get("ImageUtils");return Array.from(l.model.createRangeOn(e)).filter(s=>i.isImage(s.item)).map(s=>s.item)}class $c extends be{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new lv(e)),e.commands.add("outdent",new lv(e))}}const nk='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',fg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class fA extends be{static get pluginName(){return"IndentUI"}init(){const e=this.editor,i=e.locale,s=e.t,c="ltr"==i.uiLanguageDirection?nk:fg,u="ltr"==i.uiLanguageDirection?fg:nk;this._defineButton("indent",s("Increase indent"),c),this._defineButton("outdent",s("Decrease indent"),u)}_defineButton(e,i,s){const c=this.editor;c.ui.componentFactory.add(e,u=>{const h=c.commands.get(e),g=new Ht(u);return g.set({label:i,icon:s,tooltip:!0}),g.bind("isOn","isEnabled").to(h,"value","isEnabled"),this.listenTo(g,"execute",()=>{c.execute(e),c.editing.view.focus()}),g})}}class ok{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(i=>this._definitions.add(i)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(i,s,c)=>{if(!c.consumable.test(s.item,"attribute:linkHref")||!s.item.is("selection")&&!c.schema.isInline(s.item))return;const u=c.writer,h=u.document.selection;for(const g of this._definitions){const m=u.createAttributeElement("a",g.attributes,{priority:5});g.classes&&u.addClass(g.classes,m);for(const w in g.styles)u.setStyle(w,g.styles[w],m);u.setCustomProperty("link",!0,m),g.callback(s.attributeNewValue)?s.item.is("selection")?u.wrap(h.getFirstRange(),m):u.wrap(c.mapper.toViewRange(s.range),m):u.unwrap(c.mapper.toViewRange(s.range),m)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(i,s,{writer:c,mapper:u})=>{const h=u.toViewElement(s.item),g=Array.from(h.getChildren()).find(m=>"a"===m.name);for(const m of this._definitions){const w=Gi(m.attributes);if(m.callback(s.attributeNewValue)){for(const[k,v]of w)"class"===k?c.addClass(v,g):c.setAttribute(k,v,g);m.classes&&c.addClass(m.classes,g);for(const k in m.styles)c.setStyle(k,m.styles[k],g)}else{for(const[k,v]of w)"class"===k?c.removeClass(v,g):c.removeAttribute(k,g);m.classes&&c.removeClass(m.classes,g);for(const k in m.styles)c.removeStyle(k,g)}}})}}}var Gd=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const rk=function(l){return Gd.test(l)};var Wc="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ca="\\ud83c[\\udffb-\\udfff]",gg="[^\\ud800-\\udfff]",pg="(?:\\ud83c[\\udde6-\\uddff]){2}",mg="[\\ud800-\\udbff][\\udc00-\\udfff]",bg="(?:"+Wc+"|"+Ca+")?",wg="[\\ufe0e\\ufe0f]?",ak=wg+bg+"(?:\\u200d(?:"+[gg,pg,mg].join("|")+")"+wg+bg+")*",ck="(?:"+[gg+Wc+"?",Wc,pg,mg,"[\\ud800-\\udfff]"].join("|")+")",lk=RegExp(Ca+"(?="+Ca+")|"+ck+ak,"g");const mA=function(e){e=Tl(e);var i=rk(e)?function(l){return rk(l)?function(l){return l.match(lk)||[]}(l):function(l){return l.split("")}(l)}(e):void 0,s=i?i[0]:e.charAt(0),c=i?function(l,e,i){var s=l.length;return Mo(l,1,i=void 0===i?s:i)}(i).join(""):e.slice(1);return s.toUpperCase()+c},bA=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,wA=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,kA=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,_A=/^((\w+:(\/{2,})?)|(\W))/i,kg="Ctrl+K";function dk(l,{writer:e}){const i=e.createAttributeElement("a",{href:l},{priority:5});return e.setCustomProperty("link",!0,i),i}function uk(l){return function(e){return e.replace(bA,"").match(wA)}(l=String(l))?l:"#"}function _g(l,e){return!!l&&e.checkAttribute(l.name,"linkHref")}function hk(l,e){const i=kA.test(l)?"mailto:":e,c=!!i&&!_A.test(l);return l&&c?i+l:l}function fk(l){window.open(l,"_blank","noopener")}class vA extends st{constructor(e){super(e),this.manualDecorators=new fo,this.automaticDecorators=new ok}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,i=e.document.selection,s=i.getSelectedElement()||vn(i.getSelectedBlocks());_g(s,e.schema)?(this.value=s.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(s,"linkHref")):(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref"));for(const c of this.manualDecorators)c.value=this._getDecoratorStateFromModel(c.id)}execute(e,i={}){const s=this.editor.model,c=s.document.selection,u=[],h=[];for(const g in i)i[g]?u.push(g):h.push(g);s.change(g=>{if(c.isCollapsed){const m=c.getFirstPosition();if(c.hasAttribute("linkHref")){const w=ga(m,"linkHref",c.getAttribute("linkHref"),s);g.setAttribute("linkHref",e,w),u.forEach(k=>{g.setAttribute(k,!0,w)}),h.forEach(k=>{g.removeAttribute(k,w)}),g.setSelection(g.createPositionAfter(w.end.nodeBefore))}else if(""!==e){const w=Gi(c.getAttributes());w.set("linkHref",e),u.forEach(v=>{w.set(v,!0)});const{end:k}=s.insertContent(g.createText(e,w),m);g.setSelection(k)}["linkHref",...u,...h].forEach(w=>{g.removeSelectionAttribute(w)})}else{const m=s.schema.getValidRanges(c.getRanges(),"linkHref"),w=[];for(const v of c.getSelectedBlocks())s.schema.checkAttribute(v,"linkHref")&&w.push(g.createRangeOn(v));const k=w.slice();for(const v of m)this._isRangeToUpdate(v,w)&&k.push(v);for(const v of k)g.setAttribute("linkHref",e,v),u.forEach(y=>{g.setAttribute(y,!0,v)}),h.forEach(y=>{g.removeAttribute(y,v)})}})}_getDecoratorStateFromModel(e){const i=this.editor.model,s=i.document.selection,c=s.getSelectedElement();return _g(c,i.schema)?c.getAttribute(e):s.getAttribute(e)}_isRangeToUpdate(e,i){for(const s of i)if(s.containsRange(e))return!1;return!0}}class CA extends st{refresh(){const e=this.editor.model,i=e.document.selection,s=i.getSelectedElement();this.isEnabled=_g(s,e.schema)?e.schema.checkAttribute(s,"linkHref"):e.schema.checkAttributeInSelection(i,"linkHref")}execute(){const i=this.editor.model,s=i.document.selection,c=this.editor.commands.get("link");i.change(u=>{const h=s.isCollapsed?[ga(s.getFirstPosition(),"linkHref",s.getAttribute("linkHref"),i)]:i.schema.getValidRanges(s.getRanges(),"linkHref");for(const g of h)if(u.removeAttribute("linkHref",g),c)for(const m of c.manualDecorators)u.removeAttribute(m.id,g)})}}class gk{constructor({id:e,label:i,attributes:s,classes:c,styles:u,defaultValue:h}){this.id=e,this.set("value"),this.defaultValue=h,this.label=i,this.attributes=s,this.classes=c,this.styles=u}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}Ae(gk,je);var pk=P(9773);Fe()(pk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const vg="automatic",mk=/^(https?:)?\/\//;class bk extends be{static get pluginName(){return"LinkEditing"}static get requires(){return[Bf,Ry,Zo]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:dk}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(s,c)=>dk(uk(s),c)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:s=>s.getAttribute("href")}}),e.commands.add("link",new vA(e)),e.commands.add("unlink",new CA(e));const i=function(s,c){const u={"Open in a new tab":s("Open in a new tab"),Downloadable:s("Downloadable")};return c.forEach(h=>(h.label&&u[h.label]&&(h.label=u[h.label]),h)),c}(e.t,function(s){const c=[];if(s)for(const[u,h]of Object.entries(s)){const g=Object.assign({},h,{id:`link${mA(u)}`});c.push(g)}return c}(e.config.get("link.decorators")));this._enableAutomaticDecorators(i.filter(s=>s.mode===vg)),this._enableManualDecorators(i.filter(s=>"manual"===s.mode)),e.plugins.get(Bf).registerAttribute("linkHref"),function(s,c,u,h){const g=s.editing.view,m=new Set;g.document.registerPostFixer(w=>{const k=s.model.document.selection;let v=!1;if(k.hasAttribute(c)){const y=ga(k.getFirstPosition(),c,k.getAttribute(c),s.model),F=s.editing.mapper.toViewRange(y);for(const G of F.getItems())G.is("element","a")&&!G.hasClass(h)&&(w.addClass(h,G),m.add(G),v=!0)}return v}),s.conversion.for("editingDowncast").add(w=>{function k(){g.change(v=>{for(const y of m.values())v.removeClass(h,y),m.delete(y)})}w.on("insert",k,{priority:"highest"}),w.on("remove",k,{priority:"highest"}),w.on("attribute",k,{priority:"highest"}),w.on("selection",k,{priority:"highest"})})}(e,"linkHref",0,"ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}_enableAutomaticDecorators(e){const i=this.editor,s=i.commands.get("link").automaticDecorators;i.config.get("link.addTargetToExternalLinks")&&s.add({id:"linkIsExternal",mode:vg,callback:c=>mk.test(c),attributes:{target:"_blank",rel:"noopener noreferrer"}}),s.add(e),s.length&&i.conversion.for("downcast").add(s.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const i=this.editor,s=i.commands.get("link").manualDecorators;e.forEach(c=>{i.model.schema.extend("$text",{allowAttributes:c.id}),c=new gk(c),s.add(c),i.conversion.for("downcast").attributeToElement({model:c.id,view:(u,{writer:h,schema:g},{item:m})=>{if((m.is("selection")||g.isInline(m))&&u){const w=h.createAttributeElement("a",c.attributes,{priority:5});c.classes&&h.addClass(c.classes,w);for(const k in c.styles)h.setStyle(k,c.styles[k],w);return h.setCustomProperty("link",!0,w),w}}}),i.conversion.for("upcast").elementToAttribute({view:He({name:"a"},c._createPattern()),model:{key:c.id}})})}_enableLinkOpen(){const e=this.editor,i=e.editing.view.document,s=e.model.document;this.listenTo(i,"click",(c,u)=>{if(!(yt.isMac?u.domEvent.metaKey:u.domEvent.ctrlKey))return;let h=u.domTarget;if("a"!=h.tagName.toLowerCase()&&(h=h.closest("a")),!h)return;const g=h.getAttribute("href");g&&(c.stop(),u.preventDefault(),fk(g))},{context:"$capture"}),this.listenTo(i,"enter",(c,u)=>{const h=s.selection,g=h.getSelectedElement(),m=g?g.getAttribute("linkHref"):h.getAttribute("linkHref");m&&u.domEvent.altKey&&(c.stop(),fk(m))},{context:"a"})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,i=e.document.selection;this.listenTo(e,"insertContent",()=>{const s=i.anchor.nodeBefore,c=i.anchor.nodeAfter;i.hasAttribute("linkHref")&&s&&s.hasAttribute("linkHref")&&(c&&c.hasAttribute("linkHref")||e.change(u=>{$d(u,Wd(e.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,i=e.model;e.editing.view.addObserver(_d);let s=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{s=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!s)return;s=!1;const c=i.document.selection;if(!c.isCollapsed||!c.hasAttribute("linkHref"))return;const u=c.getFirstPosition(),h=ga(u,"linkHref",c.getAttribute("linkHref"),i);(u.isTouching(h.start)||u.isTouching(h.end))&&i.change(g=>{$d(g,Wd(i.schema))})})}_enableTypingOverLink(){const e=this.editor;let s,c;this.listenTo(e.editing.view.document,"delete",()=>{c=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const u=e.model.document.selection;u.isCollapsed||(c?c=!1:Cg(e)&&function(h){const g=h.document.selection,m=g.getFirstPosition(),w=g.getLastPosition(),k=m.nodeAfter;return!!(k&&k.is("$text")&&k.hasAttribute("linkHref"))&&(k===(w.textNode||w.nodeBefore)||ga(m,"linkHref",k.getAttribute("linkHref"),h).containsRange(h.createRange(m,w),!0))}(e.model)&&(s=u.getAttributes()))},{priority:"high"}),this.listenTo(e.model,"insertContent",(u,[h])=>{c=!1,Cg(e)&&s&&(e.model.change(g=>{for(const[m,w]of s)g.setAttribute(m,w,h)}),s=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,i=e.model,s=i.document.selection;let u=!1,h=!1;this.listenTo(e.editing.view.document,"delete",(g,m)=>{h=m.domEvent.keyCode===Xe.backspace},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{u=!1;const g=s.getFirstPosition(),m=s.getAttribute("linkHref");if(!m)return;const w=ga(g,"linkHref",m,i);u=w.containsPosition(g)||w.end.isEqual(g)},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{h&&(h=!1,u||e.model.enqueueChange(g=>{$d(g,Wd(i.schema))}))},{priority:"low"})}}function $d(l,e){l.removeSelectionAttribute("linkHref");for(const i of e)l.removeSelectionAttribute(i)}function Cg(l){return l.model.change(e=>e.batch).isTyping}function Wd(l){return l.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}var yg=P(7754);Fe()(yg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class kk extends Qe{constructor(e,i){super(e);const s=e.t;this.focusTracker=new So,this.keystrokes=new xr,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(s("Save"),bo.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),bo.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(i),this.children=this._createFormChildren(i.manualDecorators),this._focusables=new ls,this._focusCycler=new la({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const c=["ck","ck-link-form","ck-responsive-form"];i.manualDecorators.length&&c.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:c,tabindex:"-1"},children:this.children}),Ec(this)}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,i)=>(e[i.name]=i.isOn,e),{})}render(){super.render(),Vh({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,i=new Pc(this.locale,md);return i.label=e("Link URL"),i}_createButton(e,i,s,c){const u=new Ht(this.locale);return u.set({label:e,icon:i,tooltip:!0}),u.extendTemplate({attributes:{class:s}}),c&&u.delegate("execute").to(this,c),u}_createManualDecoratorSwitches(e){const i=this.createCollection();for(const s of e.manualDecorators){const c=new Tc(this.locale);c.set({name:s.id,label:s.label,withText:!0}),c.bind("isOn").toMany([s,e],"value",(u,h)=>void 0===h&&void 0===u?s.defaultValue:u),c.on("execute",()=>{s.set("value",!c.isOn)}),i.add(c)}return i}_createFormChildren(e){const i=this.createCollection();if(i.add(this.urlInputView),e.length){const s=new Qe;s.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(c=>({tag:"li",children:[c],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(s)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}}var Ag=P(2347);Fe()(Ag.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Cs extends Qe{constructor(e){super(e);const i=e.t;this.focusTracker=new So,this.keystrokes=new xr,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(i("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(i("Edit link"),bo.pencil,"edit"),this.set("href"),this._focusables=new ls,this._focusCycler=new la({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,i,s){const c=new Ht(this.locale);return c.set({label:e,icon:i,tooltip:!0}),c.delegate("execute").to(this,s),c}_createPreviewButton(){const e=new Ht(this.locale),i=this.bindTemplate,s=this.t;return e.set({withText:!0,tooltip:s("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",c=>c&&uk(c)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",c=>c||s("This link has no URL")),e.bind("isEnabled").to(this,"href",c=>!!c),e.template.tag="a",e.template.eventListeners={},e}}const Ri="link-ui";class AA extends be{static get requires(){return[Tr]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(ky),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(Tr),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),e.conversion.for("editingDowncast").markerToHighlight({model:Ri,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Ri,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const e=this.editor,i=new Cs(e.locale),s=e.commands.get("link"),c=e.commands.get("unlink");return i.bind("href").to(s,"value"),i.editButtonView.bind("isEnabled").to(s),i.unlinkButtonView.bind("isEnabled").to(c),this.listenTo(i,"edit",()=>{this._addFormView()}),this.listenTo(i,"unlink",()=>{e.execute("unlink"),this._hideUI()}),i.keystrokes.set("Esc",(u,h)=>{this._hideUI(),h()}),i.keystrokes.set(kg,(u,h)=>{this._addFormView(),h()}),i}_createFormView(){const e=this.editor,i=e.commands.get("link"),s=e.config.get("link.defaultProtocol"),c=new kk(e.locale,i);return c.urlInputView.fieldView.bind("value").to(i,"value"),c.urlInputView.bind("isReadOnly").to(i,"isEnabled",u=>!u),c.saveButtonView.bind("isEnabled").to(i),this.listenTo(c,"submit",()=>{const{value:u}=c.urlInputView.fieldView.element,h=hk(u,s);e.execute("link",h,c.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(c,"cancel",()=>{this._closeFormView()}),c.keystrokes.set("Esc",(u,h)=>{this._closeFormView(),h()}),c}_createToolbarLinkButton(){const e=this.editor,i=e.commands.get("link"),s=e.t;e.keystrokes.set(kg,(c,u)=>{u(),i.isEnabled&&this._showUI(!0)}),e.ui.componentFactory.add("link",c=>{const u=new Ht(c);return u.isEnabled=!0,u.label=s("Link"),u.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',u.keystroke=kg,u.tooltip=!0,u.isToggleable=!0,u.bind("isEnabled").to(i,"isEnabled"),u.bind("isOn").to(i,"value",h=>!!h),this.listenTo(u,"execute",()=>this._showUI(!0)),u})}_enableUserBalloonInteractions(){this.listenTo(this.editor.editing.view.document,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(i,s)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),s())},{priority:"high"}),this.editor.keystrokes.set("Esc",(i,s)=>{this._isUIVisible&&(this._hideUI(),s())}),ad({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,i=e.editing.view.document;let s=this._getSelectedLinkElement(),c=h();const u=()=>{const g=this._getSelectedLinkElement(),m=h();s&&!g||!s&&m!==c?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),s=g,c=m};function h(){return i.selection.focus.getAncestors().reverse().find(g=>g.is("element"))}this.listenTo(e.ui,"update",u),this.listenTo(this._balloon,"change:visibleView",u)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,s=e.document;let c=null;if(this.editor.model.markers.has(Ri)){const u=Array.from(this.editor.editing.mapper.markerNameToElements(Ri)),h=e.createRange(e.createPositionBefore(u[0]),e.createPositionAfter(u[u.length-1]));c=e.domConverter.viewRangeToDom(h)}else c=()=>{const u=this._getSelectedLinkElement();return u?e.domConverter.mapViewToDom(u):e.domConverter.viewRangeToDom(s.selection.getFirstRange())};return{target:c}}_getSelectedLinkElement(){const e=this.editor.editing.view,i=e.document.selection,s=i.getSelectedElement();if(i.isCollapsed||s&&Gt(s))return Rr(i.getFirstPosition());{const c=i.getFirstRange().getTrimmed(),u=Rr(c.start),h=Rr(c.end);return u&&u==h&&e.createRangeIn(u).getTrimmed().isEqual(c)?u:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(i=>{const s=e.document.selection.getFirstRange();if(e.markers.has(Ri))i.updateMarker(Ri,{range:s});else if(s.start.isAtEnd){const c=s.start.getLastMatchingPosition(({item:u})=>!e.schema.isContent(u),{boundaries:s});i.addMarker(Ri,{usingOperation:!1,affectsData:!1,range:i.createRange(c,s.end)})}else i.addMarker(Ri,{usingOperation:!1,affectsData:!1,range:s})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Ri)&&e.change(i=>{i.removeMarker(Ri)})}}function Rr(l){return l.getAncestors().find(e=>{return(i=e).is("attributeElement")&&!!i.getCustomProperty("link");var i})}const WE=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class ro extends be{static get requires(){return[Ni]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,i=new Rf(e.model,s=>{if(!((u=s).length>4&&" "===u[u.length-1]&&" "!==u[u.length-2]))return;var u;const c=DA(s.substr(0,s.length-1));return c?{url:c}:void 0});i.on("matched:data",(s,c)=>{const{batch:u,range:h,url:g}=c;if(!u.isTyping)return;const m=h.end.getShiftedBy(-1),w=m.getShiftedBy(-g.length),k=e.model.createRange(w,m);this._applyAutoLink(g,k)}),i.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,i=e.model,s=e.commands.get("enter");s&&s.on("execute",()=>{const c=i.document.selection.getFirstPosition();if(!c.parent.previousSibling)return;const u=i.createRangeIn(c.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(u)})}_enableShiftEnterHandling(){const e=this.editor,i=e.model,s=e.commands.get("shiftEnter");s&&s.on("execute",()=>{const c=i.document.selection.getFirstPosition(),u=i.createRange(i.createPositionAt(c.parent,0),c.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(u)})}_checkAndApplyAutoLinkOnRange(e){const i=this.editor.model,{text:s,range:c}=Id(e,i),u=DA(s);if(u){const h=i.createRange(c.end.getShiftedBy(-u.length),c.end);this._applyAutoLink(u,h)}}_applyAutoLink(e,i){const s=this.editor.model,c=this.editor.plugins.get("Delete");var h;this.isEnabled&&(h=s).schema.checkAttributeInSelection(h.createSelection(i),"linkHref")&&s.enqueueChange(u=>{const h=this.editor.config.get("link.defaultProtocol"),g=hk(e,h);u.setAttribute("linkHref",g,i),s.enqueueChange(()=>{c.requestUndoOnBackspace()})})}}function DA(l){const e=WE.exec(l);return e?e[2]:null}class Dg extends st{constructor(e,i){super(e),this.type=i}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,c=Array.from(i.document.selection.getSelectedBlocks()).filter(h=>EA(h,i.schema)),u=void 0!==e.forceValue?!e.forceValue:this.value;i.change(h=>{if(u){let g=c[c.length-1].nextSibling,m=Number.POSITIVE_INFINITY,w=[];for(;g&&"listItem"==g.name&&0!==g.getAttribute("listIndent");){const k=g.getAttribute("listIndent");k<m&&(m=k),w.push({element:g,listIndent:k-m}),g=g.nextSibling}w=w.reverse();for(const k of w)h.setAttribute("listIndent",k.listIndent,k.element)}if(!u){let g=Number.POSITIVE_INFINITY;for(const m of c)m.is("element","listItem")&&m.getAttribute("listIndent")<g&&(g=m.getAttribute("listIndent"));g=0===g?1:g,Eg(c,!0,g),Eg(c,!1,g)}for(const g of c.reverse())u&&"listItem"==g.name?h.rename(g,"paragraph"):u||"listItem"==g.name?u||"listItem"!=g.name||g.getAttribute("listType")==this.type||h.setAttribute("listType",this.type,g):(h.setAttributes({listType:this.type,listIndent:0},g),h.rename(g,"listItem"));this.fire("_executeCleanup",c)})}_getValue(){const e=vn(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const i=this.editor.model.schema,s=vn(this.editor.model.document.selection.getSelectedBlocks());return!!s&&EA(s,i)}}function Eg(l,e,i){const s=e?l[0]:l[l.length-1];if(s.is("element","listItem")){let c=s[e?"previousSibling":"nextSibling"],u=s.getAttribute("listIndent");for(;c&&c.is("element","listItem")&&c.getAttribute("listIndent")>=i;)u>c.getAttribute("listIndent")&&(u=c.getAttribute("listIndent")),c.getAttribute("listIndent")==u&&l[e?"unshift":"push"](c),c=c[e?"previousSibling":"nextSibling"]}}function EA(l,e){return e.checkChild(l.parent,"listItem")&&!e.isObject(l)}class Me extends st{constructor(e,i){super(e),this._indentBy="forward"==i?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model;let s=Array.from(e.document.selection.getSelectedBlocks());e.change(c=>{const u=s[s.length-1];let h=u.nextSibling;for(;h&&"listItem"==h.name&&h.getAttribute("listIndent")>u.getAttribute("listIndent");)s.push(h),h=h.nextSibling;this._indentBy<0&&(s=s.reverse());for(const g of s){const m=g.getAttribute("listIndent")+this._indentBy;m<0?c.rename(g,"paragraph"):c.setAttribute("listIndent",m,g)}this.fire("_executeCleanup",s)})}_checkEnabled(){const e=vn(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const i=e.getAttribute("listIndent"),s=e.getAttribute("listType");let c=e.previousSibling;for(;c&&c.is("element","listItem")&&c.getAttribute("listIndent")>=i;){if(c.getAttribute("listIndent")==i)return c.getAttribute("listType")==s;c=c.previousSibling}return!1}return!0}}function vk(l,e,i,s){const c=e.parent,u=i.mapper,h=i.writer;let g=u.toViewPosition(s.createPositionBefore(l));const m=Ck(l.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:l.getAttribute("listIndent")}),w=l.previousSibling;if(m&&m.getAttribute("listIndent")==l.getAttribute("listIndent")){const k=u.toViewElement(m);g=h.breakContainer(h.createPositionAfter(k))}else if(w&&"listItem"==w.name){g=u.toViewPosition(s.createPositionAt(w,"end"));const k=u.findMappedViewAncestor(g),v=function(y){for(const F of y.getChildren())if("ul"==F.name||"ol"==F.name)return F;return null}(k);g=v?h.createPositionBefore(v):h.createPositionAt(k,"end")}else g=u.toViewPosition(s.createPositionBefore(l));if(g=qc(g),h.insert(g,c),w&&"listItem"==w.name){const k=u.toViewElement(w),v=h.createRange(h.createPositionAt(k,0),g).getWalker({ignoreElementEnd:!0});for(const y of v)if(y.item.is("element","li")){const F=h.breakContainer(h.createPositionBefore(y.item)),G=y.item.parent,$=h.createPositionAt(e,"end");Xo(h,$.nodeBefore,$.nodeAfter),h.move(h.createRangeOn(G),$),v.position=F}}else{const k=c.nextSibling;if(k&&(k.is("element","ul")||k.is("element","ol"))){let v=null;for(const y of k.getChildren()){const F=u.toModelElement(y);if(!(F&&F.getAttribute("listIndent")>l.getAttribute("listIndent")))break;v=y}v&&(h.breakContainer(h.createPositionAfter(v)),h.move(h.createRangeOn(v.parent),h.createPositionAt(e,"end")))}}Xo(h,c,c.nextSibling),Xo(h,c.previousSibling,c)}function Xo(l,e,i){return!e||!i||"ul"!=e.name&&"ol"!=e.name||e.name!=i.name||e.getAttribute("class")!==i.getAttribute("class")?null:l.mergeContainers(l.createPositionAfter(e))}function qc(l){return l.getLastMatchingPosition(e=>e.item.is("uiElement"))}function Ck(l,e){const i=!!e.sameIndent,s=!!e.smallerIndent,c=e.listIndent;let u=l;for(;u&&"listItem"==u.name;){const h=u.getAttribute("listIndent");if(i&&c==h||s&&c>h)return u;u="forward"===e.direction?u.nextSibling:u.previousSibling}return null}function Qc(l,e,i,s){l.ui.componentFactory.add(e,c=>{const u=l.commands.get(e),h=new Ht(c);return h.set({label:i,icon:s,tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(u,"value","isEnabled"),h.on("execute",()=>{l.execute(e),l.editing.view.focus()}),h})}function qd(){const l=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||l?0:Uu.call(this)}function en(l){return(e,i,s)=>{const c=s.consumable;if(!c.test(i.item,"insert")||!c.test(i.item,"attribute:listType")||!c.test(i.item,"attribute:listIndent"))return;c.consume(i.item,"insert"),c.consume(i.item,"attribute:listType"),c.consume(i.item,"attribute:listIndent");const u=i.item;vk(u,function xA(l,e){const i=e.mapper,s=e.writer,c="numbered"==l.getAttribute("listType")?"ol":"ul",u=function(g){const m=g.createContainerElement("li");return m.getFillerOffset=qd,m}(s),h=s.createContainerElement(c,null);return s.insert(s.createPositionAt(h,0),u),i.bindElements(l,u),u}(u,s),s,l)}}function qE(l,e,i){if(!i.consumable.test(e.item,l.name))return;const s=i.mapper.toViewElement(e.item),c=i.writer;c.breakContainer(c.createPositionBefore(s)),c.breakContainer(c.createPositionAfter(s)),c.rename("numbered"==e.attributeNewValue?"ol":"ul",s.parent)}function yk(l,e,i){i.consumable.consume(e.item,l.name);const s=i.mapper.toViewElement(e.item).parent,c=i.writer;Xo(c,s,s.nextSibling),Xo(c,s.previousSibling,s)}function Ak(l,e,i){if(i.consumable.test(e.item,l.name)&&"listItem"!=e.item.name){let s=i.mapper.toViewPosition(e.range.start);const c=i.writer,u=[];for(;("ul"==s.parent.name||"ol"==s.parent.name)&&(s=c.breakContainer(s),"li"==s.parent.name);){const h=s,g=c.createPositionAt(s.parent,"end");if(!h.isEqual(g)){const m=c.remove(c.createRange(h,g));u.push(m)}s=c.createPositionAfter(s.parent)}if(u.length>0){for(let h=0;h<u.length;h++){const g=s.nodeBefore;if(s=c.insert(s,u[h]).end,h>0){const m=Xo(c,g,g.nextSibling);m&&m.parent==g&&s.offset--}}Xo(c,s.nodeBefore,s.nodeAfter)}}}function MA(l,e,i){const s=i.mapper.toViewPosition(e.position);Xo(i.writer,s.nodeBefore,s.nodeAfter)}function Dk(l,e,i){if(i.consumable.consume(e.viewItem,{name:!0})){const s=i.writer,c=s.createElement("listItem"),u=function(m){let w=0,k=m.parent;for(;k;){if(k.is("element","li"))w++;else{const v=k.previousSibling;v&&v.is("element","li")&&w++}k=k.parent}return w}(e.viewItem);if(s.setAttribute("listIndent",u,c),s.setAttribute("listType",e.viewItem.parent&&"ol"==e.viewItem.parent.name?"numbered":"bulleted",c),!i.safeInsert(c,e.modelCursor))return;const g=function(m,w,k){const{writer:v,schema:y}=k;let F=v.createPositionAfter(m);for(const G of w)if("ul"==G.name||"ol"==G.name)F=k.convertItem(G,F).modelCursor;else{const $=k.convertItem(G,v.createPositionAt(m,"end")),K=$.modelRange.start.nodeAfter;K&&K.is("element")&&!y.checkChild(m,K.name)&&(m=$.modelCursor.parent.is("element","listItem")?$.modelCursor.parent:SA($.modelCursor),F=v.createPositionAfter(m))}return F}(c,e.viewItem.getChildren(),i);e.modelRange=s.createRange(e.modelCursor,g),i.updateConversionResult(c,e)}}function xg(l,e,i){if(i.consumable.test(e.viewItem,{name:!0})){const s=Array.from(e.viewItem.getChildren());for(const c of s)!c.is("element","li")&&!Bi(c)&&c._remove()}}function Ek(l,e,i){if(i.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;const s=[...e.viewItem.getChildren()];let c=!1;for(const u of s)c&&!Bi(u)&&u._remove(),Bi(u)&&(c=!0)}}function Mg(l){return(e,i)=>{if(i.isPhantom)return;const s=i.modelPosition.nodeBefore;if(s&&s.is("element","listItem")){const c=i.mapper.toViewElement(s),u=c.getAncestors().find(Bi),h=l.createPositionAt(c,0).getWalker();for(const g of h){if("elementStart"==g.type&&g.item.is("element","li")){i.viewPosition=g.previousPosition;break}if("elementEnd"==g.type&&g.item==u){i.viewPosition=g.nextPosition;break}}}}}function IA(l,[e,i]){let s,c=e.is("documentFragment")?e.getChild(0):e;if(s=i?this.createSelection(i):this.document.selection,c&&c.is("element","listItem")){const u=s.getFirstPosition();let h=null;if(u.parent.is("element","listItem")?h=u.parent:u.nodeBefore&&u.nodeBefore.is("element","listItem")&&(h=u.nodeBefore),h){const g=h.getAttribute("listIndent");if(g>0)for(;c&&c.is("element","listItem");)c._setAttribute("listIndent",c.getAttribute("listIndent")+g),c=c.nextSibling}}}function SA(l){const e=new xi({startPosition:l});let i;do{i=e.next()}while(!i.value.item.is("element","listItem"));return i.value.item}function xk(l,e,i,s,c,u){const h=Ck(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:l,foo:"b"}),g=c.mapper,m=c.writer,w=h?h.getAttribute("listIndent"):null;let k;if(h)if(w==l){const v=g.toViewElement(h).parent;k=m.createPositionAfter(v)}else{const v=u.createPositionAt(h,"end");k=g.toViewPosition(v)}else k=i;k=qc(k);for(const v of[...s.getChildren()])Bi(v)&&(k=m.move(m.createRangeOn(v),k).end,Xo(m,v,v.nextSibling),Xo(m,v.previousSibling,v))}function Bi(l){return l.is("element","ol")||l.is("element","ul")}class TA extends be{static get pluginName(){return"ListEditing"}static get requires(){return[Cd,Ni]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const i=e.data,s=e.editing;var c;e.model.document.registerPostFixer(h=>function(g,m){const w=g.document.differ.getChanges(),k=new Map;let v=!1;for(const $ of w)if("insert"==$.type&&"listItem"==$.name)y($.position);else if("insert"==$.type&&"listItem"!=$.name){if("$text"!=$.name){const K=$.position.nodeAfter;K.hasAttribute("listIndent")&&(m.removeAttribute("listIndent",K),v=!0),K.hasAttribute("listType")&&(m.removeAttribute("listType",K),v=!0),K.hasAttribute("listStyle")&&(m.removeAttribute("listStyle",K),v=!0),K.hasAttribute("listReversed")&&(m.removeAttribute("listReversed",K),v=!0),K.hasAttribute("listStart")&&(m.removeAttribute("listStart",K),v=!0);for(const Y of Array.from(g.createRangeIn(K)).filter(ee=>ee.item.is("element","listItem")))y(Y.previousPosition)}y($.position.getShiftedBy($.length))}else"remove"==$.type&&"listItem"==$.name?y($.position):("attribute"==$.type&&"listIndent"==$.attributeKey||"attribute"==$.type&&"listType"==$.attributeKey)&&y($.range.start);for(const $ of k.values())F($),G($);return v;function y($){const K=$.nodeBefore;if(K&&K.is("element","listItem")){let Y=K;if(k.has(Y))return;for(let ee=Y.previousSibling;ee&&ee.is("element","listItem");ee=Y.previousSibling)if(Y=ee,k.has(Y))return;k.set(K,Y)}else{const Y=$.nodeAfter;Y&&Y.is("element","listItem")&&k.set(Y,Y)}}function F($){let K=0,Y=null;for(;$&&$.is("element","listItem");){const ee=$.getAttribute("listIndent");if(ee>K){let ce;null===Y?(Y=ee-K,ce=K):(Y>ee&&(Y=ee),ce=ee-Y),m.setAttribute("listIndent",ce,$),v=!0}else Y=null,K=$.getAttribute("listIndent")+1;$=$.nextSibling}}function G($){let K=[],Y=null;for(;$&&$.is("element","listItem");){const ee=$.getAttribute("listIndent");if(Y&&Y.getAttribute("listIndent")>ee&&(K=K.slice(0,ee+1)),0!=ee)if(K[ee]){const ce=K[ee];$.getAttribute("listType")!=ce&&(m.setAttribute("listType",ce,$),v=!0)}else K[ee]=$.getAttribute("listType");Y=$,$=$.nextSibling}}}(e.model,h)),s.mapper.registerViewToModelLength("li",Ig),i.mapper.registerViewToModelLength("li",Ig),s.mapper.on("modelToViewPosition",Mg(s.view)),s.mapper.on("viewToModelPosition",(c=e.model,(h,g)=>{const m=g.viewPosition,w=m.parent,k=g.mapper;if("ul"==w.name||"ol"==w.name){if(m.isAtEnd){const v=k.toModelElement(m.nodeBefore),y=k.getModelLength(m.nodeBefore);g.modelPosition=c.createPositionBefore(v).getShiftedBy(y)}else{const v=k.toModelElement(m.nodeAfter);g.modelPosition=c.createPositionBefore(v)}h.stop()}else if("li"==w.name&&m.nodeBefore&&("ul"==m.nodeBefore.name||"ol"==m.nodeBefore.name)){const v=k.toModelElement(w);let y=1,F=m.nodeBefore;for(;F&&Bi(F);)y+=k.getModelLength(F),F=F.previousSibling;g.modelPosition=c.createPositionBefore(v).getShiftedBy(y),h.stop()}})),i.mapper.on("modelToViewPosition",Mg(s.view)),e.conversion.for("editingDowncast").add(h=>{var g;h.on("insert",Ak,{priority:"high"}),h.on("insert:listItem",en(e.model)),h.on("attribute:listType:listItem",qE,{priority:"high"}),h.on("attribute:listType:listItem",yk,{priority:"low"}),h.on("attribute:listIndent:listItem",(g=e.model,(m,w,k)=>{if(!k.consumable.consume(w.item,"attribute:listIndent"))return;const v=k.mapper.toViewElement(w.item),y=k.writer;y.breakContainer(y.createPositionBefore(v)),y.breakContainer(y.createPositionAfter(v));const F=v.parent,G=F.previousSibling,$=y.createRangeOn(F);y.remove($),G&&G.nextSibling&&Xo(y,G,G.nextSibling),xk(w.attributeOldValue+1,w.range.start,$.start,v,k,g),vk(w.item,v,k,g);for(const K of w.item.getChildren())k.consumable.consume(K,"insert")})),h.on("remove:listItem",function(g){return(m,w,k)=>{const v=k.mapper.toViewPosition(w.position).getLastMatchingPosition(Y=>!Y.item.is("element","li")).nodeAfter,y=k.writer;y.breakContainer(y.createPositionBefore(v)),y.breakContainer(y.createPositionAfter(v));const F=v.parent,G=F.previousSibling,$=y.createRangeOn(F),K=y.remove($);G&&G.nextSibling&&Xo(y,G,G.nextSibling),xk(k.mapper.toModelElement(v).getAttribute("listIndent")+1,w.position,$.start,v,k,g);for(const Y of y.createRangeIn(K).getItems())k.mapper.unbindViewElement(Y);m.stop()}}(e.model)),h.on("remove",MA,{priority:"low"})}),e.conversion.for("dataDowncast").add(h=>{h.on("insert",Ak,{priority:"high"}),h.on("insert:listItem",en(e.model))}),e.conversion.for("upcast").add(h=>{h.on("element:ul",xg,{priority:"high"}),h.on("element:ol",xg,{priority:"high"}),h.on("element:li",Ek,{priority:"high"}),h.on("element:li",Dk)}),e.model.on("insertContent",IA,{priority:"high"}),e.commands.add("numberedList",new Dg(e,"numbered")),e.commands.add("bulletedList",new Dg(e,"bulleted")),e.commands.add("indentList",new Me(e,"forward")),e.commands.add("outdentList",new Me(e,"backward"));const u=s.view.document;this.listenTo(u,"enter",(h,g)=>{const m=this.editor.model.document,w=m.selection.getLastPosition().parent;m.selection.isCollapsed&&"listItem"==w.name&&w.isEmpty&&(this.editor.execute("outdentList"),g.preventDefault(),h.stop())},{context:"li"}),this.listenTo(u,"delete",(h,g)=>{if("backward"!==g.direction)return;const m=this.editor.model.document.selection;if(!m.isCollapsed)return;const w=m.getFirstPosition();if(!w.isAtStart)return;const k=w.parent;"listItem"===k.name&&(k.previousSibling&&"listItem"===k.previousSibling.name||(this.editor.execute("outdentList"),g.preventDefault(),h.stop()))},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(h,g)=>{const m=g.shiftKey?"outdentList":"indentList";this.editor.commands.get(m).isEnabled&&(e.execute(m),g.stopPropagation(),g.preventDefault(),h.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,i=e.get("indent"),s=e.get("outdent");i&&i.registerChildCommand(e.get("indentList")),s&&s.registerChildCommand(e.get("outdentList"))}}function Ig(l){let e=1;for(const i of l.getChildren())if("ul"==i.name||"ol"==i.name)for(const s of i.getChildren())e+=Ig(s);return e}class NA extends be{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;Qc(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),Qc(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function Zc(l,e){return s=>{s.on("attribute:url:media",i)};function i(s,c,u){if(!u.consumable.consume(c.item,s.name))return;const h=c.attributeNewValue,g=u.writer,m=u.mapper.toViewElement(c.item),w=[...m.getChildren()].find(v=>v.getCustomProperty("media-content"));g.remove(w);const k=l.getMediaViewElement(g,h,e);g.insert(g.createPositionAt(m,0),k)}}function Sg(l,e,i,s){return l.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(l,i,s),l.createSlot()])}function Tg(l){const e=l.getSelectedElement();return e&&e.is("element","media")?e:null}function Ng(l,e,i,s){l.change(c=>{const u=c.createElement("media",{url:e});l.insertObject(u,i,null,{setSelection:"on",findOptimalPosition:s})})}class PA extends st{refresh(){const e=this.editor.model,i=e.document.selection,s=Tg(i);this.value=s?s.getAttribute("url"):null,this.isEnabled=function(c){const u=c.getSelectedElement();return!!u&&"media"===u.name}(i)||function(c,u){let h=Mf(c,u).start.parent;return h.isEmpty&&!u.schema.isLimit(h)&&(h=h.parent),u.schema.checkChild(h,"media")}(i,e)}execute(e){const i=this.editor.model,s=i.document.selection,c=Tg(s);c?i.change(u=>{u.setAttribute("url",e,c)}):Ng(i,e,s,!0)}}class Kc{constructor(e,i){const s=i.providers,c=i.extraProviders||[],u=new Set(i.removeProviders),h=s.concat(c).filter(g=>{const m=g.name;return m?!u.has(m):(Q("media-embed-no-provider-name",{provider:g}),!1)});this.locale=e,this.providerDefinitions=h}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,i,s){return this._getMedia(i).getViewElement(e,s)}_getMedia(e){if(!e)return new ya(this.locale);e=e.trim();for(const i of this.providerDefinitions){const s=i.html,c=Pt(i.url);for(const u of c){const h=this._getUrlMatches(e,u);if(h)return new ya(this.locale,e,h,s)}}return null}_getUrlMatches(e,i){let s=e.match(i);if(s)return s;let c=e.replace(/^https?:\/\//,"");return s=c.match(i),s||(c=c.replace(/^www\./,""),s=c.match(i),s||null)}}class ya{constructor(e,i,s,c){this.url=this._getValidUrl(i),this._t=e.t,this._match=s,this._previewRenderer=c}getViewElement(e,i){const s={};let c;if(i.renderForEditingView||i.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(s["data-oembed-url"]=this.url),i.renderForEditingView&&(s.class="ck-media__wrapper");const u=this._getPreviewHtml(i);c=e.createRawElement("div",s,(h,g)=>{g.setContentOf(h,u)})}else this.url&&(s.url=this.url),c=e.createEmptyElement(i.elementName,s);return e.setCustomProperty("media-content",!0,c),c}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new kb,i=new Sc;return e.text=this._t("Open media in new tab"),i.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',i.viewBox="0 0 64 42",new wo({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[i]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},e]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var Mk=P(7442);Fe()(Mk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Qd extends be{static get pluginName(){return"MediaEmbedEditing"}constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:i=>{const c=i[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${i[1]}${c?`?start=${c}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new Kc(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor,i=e.model.schema,s=e.t,c=e.conversion,u=e.config.get("mediaEmbed.previewsInData"),h=e.config.get("mediaEmbed.elementName"),g=this.registry;e.commands.add("mediaEmbed",new PA(e)),i.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),c.for("dataDowncast").elementToStructure({model:"media",view:(m,{writer:w})=>{const k=m.getAttribute("url");return Sg(w,g,k,{elementName:h,renderMediaPreview:k&&u})}}),c.for("dataDowncast").add(Zc(g,{elementName:h,renderMediaPreview:u})),c.for("editingDowncast").elementToStructure({model:"media",view:(m,{writer:w})=>{const k=m.getAttribute("url");return v=Sg(w,g,k,{elementName:h,renderForEditingView:!0}),y=w,F=s("media widget"),y.setCustomProperty("media",!0,v),Zb(v,y,{label:F});var v,y,F}}),c.for("editingDowncast").add(Zc(g,{elementName:h,renderForEditingView:!0})),c.for("upcast").elementToElement({view:m=>["oembed",h].includes(m.name)&&m.getAttribute("url")?{name:!0}:null,model:(m,{writer:w})=>{const k=m.getAttribute("url");if(g.hasMedia(k))return w.createElement("media",{url:k})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(m,{writer:w})=>{const k=m.getAttribute("data-oembed-url");if(g.hasMedia(k))return w.createElement("media",{url:k})}}).add(m=>{m.on("element:figure",function(w,k,v){if(!v.consumable.consume(k.viewItem,{name:!0,classes:"media"}))return;const{modelRange:y,modelCursor:F}=v.convertChildren(k.viewItem,k.modelCursor);k.modelRange=y,k.modelCursor=F,vn(y.getItems())||v.consumable.revert(k.viewItem,{name:!0,classes:"media"})})})}}const Ik=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class Sk extends be{static get requires(){return[Wn,Ni,vw]}static get pluginName(){return"AutoMediaEmbed"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,i=e.model.document;this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",()=>{const s=i.selection.getFirstRange(),c=Pn.fromPosition(s.start);c.stickiness="toPrevious";const u=Pn.fromPosition(s.end);u.stickiness="toNext",i.once("change:data",()=>{this._embedMediaBetweenPositions(c,u),c.detach(),u.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(Vt.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,i){const s=this.editor,c=s.plugins.get(Qd).registry,u=new oo(e,i),h=u.getWalker({ignoreElementEnd:!0});let g="";for(const m of h)m.item.is("$textProxy")&&(g+=m.item.data);g=g.trim(),g.match(Ik)&&c.hasMedia(g)&&s.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Pn.fromPosition(e),this._timeoutId=Vt.window.setTimeout(()=>{s.model.change(m=>{let w;this._timeoutId=null,m.remove(u),u.detach(),"$graveyard"!==this._positionToInsert.root.rootName&&(w=this._positionToInsert),Ng(s.model,g,w,!1),this._positionToInsert.detach(),this._positionToInsert=null}),s.plugins.get("Delete").requestUndoOnBackspace()},100)):u.detach()}}var Pg=P(9292);Fe()(Pg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Tk extends Qe{constructor(e,i){super(i);const s=i.t;this.focusTracker=new So,this.keystrokes=new xr,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(s("Save"),bo.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",c=>!!c),this.cancelButtonView=this._createButton(s("Cancel"),bo.cancel,"ck-button-cancel","cancel"),this._focusables=new ls,this._focusCycler=new la({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]}),Ec(this)}render(){super.render(),Vh({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e),this.listenTo(this.urlInputView.element,"selectstart",(i,s)=>{s.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,i=new Pc(this.locale,md),s=i.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),i.label=e("Media URL"),i.infoText=this._urlInputViewInfoDefault,s.on("input",()=>{i.infoText=s.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=s.element.value.trim()}),i}_createButton(e,i,s,c){const u=new Ht(this.locale);return u.set({label:e,icon:i,tooltip:!0}),u.extendTemplate({attributes:{class:s}}),c&&u.delegate("execute").to(this,c),u}}class BA extends be{static get requires(){return[Qd]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,i=e.commands.get("mediaEmbed"),s=e.plugins.get(Qd).registry;e.ui.componentFactory.add("mediaEmbed",c=>{const u=da(c),h=new Tk((g=e.t,m=s,[w=>{if(!w.url.length)return g("The URL must not be empty.")},w=>{if(!m.hasMedia(w.url))return g("This media URL is not supported.")}]),e.locale);var g,m;return this._setUpDropdown(u,h,i,e),this._setUpForm(u,h,i),u})}_setUpDropdown(e,i,s){const c=this.editor,u=c.t,h=e.buttonView;function g(){c.editing.view.focus(),e.isOpen=!1}e.bind("isEnabled").to(s),e.panelView.children.add(i),h.set({label:u("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0}),h.on("open",()=>{i.disableCssTransitions(),i.url=s.value||"",i.urlInputView.fieldView.select(),i.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{i.isValid()&&(c.execute("mediaEmbed",i.url),g())}),e.on("change:isOpen",()=>i.resetFormStatus()),e.on("cancel",()=>g())}_setUpForm(e,i,s){i.delegate("submit","cancel").to(e),i.urlInputView.bind("value").to(s,"value"),i.urlInputView.bind("isReadOnly").to(s,"isEnabled",c=>!c)}}var Nk=P(4652);function KE(l){if(l.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(l){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return l;default:return null}}function FA(l,e,i){const s=e.parent,c=i.createElement(l.type),u=s.getChildIndex(e)+1;return i.insertChild(u,c,s),l.style&&i.setStyle("list-style-type",l.style,c),l.startIndex&&l.startIndex>1&&i.setAttribute("start",l.startIndex,c),c}function Pk(l){const e={},i=l.getStyle("mso-list");if(i){const s=i.match(/(^|\s{1,100})l(\d+)/i),c=i.match(/\s{0,100}lfo(\d+)/i),u=i.match(/\s{0,100}level(\d+)/i);s&&c&&u&&(e.id=s[2],e.order=c[1],e.indent=u[1])}return e}Fe()(Nk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Zd=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class LA{constructor(e){this.document=e}isActive(e){return Zd.test(e)}execute(e){const i=new ha(this.document),{body:s}=e._parsedData;(function(c,u){for(const h of c.getChildren())if(h.is("element","b")&&"normal"===h.getStyle("font-weight")){const g=c.getChildIndex(h);u.remove(h),u.insertChild(g,h.getChildren(),c)}})(s,i),function(c,u){for(const h of u.createRangeIn(c)){const g=h.item;if(g.is("element","li")){const m=g.getChild(0);m&&m.is("element","p")&&u.unwrapElement(m)}}}(s,i),e.content=s}}function Ok(l){return btoa(l.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const Yc=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,zA=/xmlns:o="urn:schemas-microsoft-com/i;class VA{constructor(e){this.document=e}isActive(e){return Yc.test(e)||zA.test(e)}execute(e){const{body:i,stylesString:s}=e._parsedData;(function ZE(l,e){if(!l.childCount)return;const i=new ha(l.document),s=function(h,g){const m=g.createRangeIn(h),w=new $i({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),k=[];for(const v of m)if("elementStart"===v.type&&w.match(v.item)){const y=Pk(v.item);k.push({element:v.item,id:y.id,order:y.order,indent:y.indent})}return k}(l,i);if(!s.length)return;let c=null,u=1;s.forEach((h,g)=>{const m=function(G,$){if(!G)return!0;if(G.id!==$.id)return $.indent-G.indent!=1;const K=$.element.previousSibling;return!K||!((Y=K).is("element","ol")||Y.is("element","ul"));var Y}(s[g-1],h),k=(y=h,(v=m?null:s[g-1])?y.indent-v.indent:y.indent-1);var v,y;if(m&&(c=null,u=1),!c||0!==k){const G=function($,K){const ee=/mso-level-number-format:([^;]{0,100});/gi,ce=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,Ie=new RegExp(`@list l${$.id}:level${$.indent}\\s*({[^}]*)`,"gi").exec(K);let Le="decimal",jt="ol",ut=null;if(Ie&&Ie[1]){const Qn=ee.exec(Ie[1]);if(Qn&&Qn[1]&&(Le=Qn[1].trim(),jt="bullet"!==Le&&"image"!==Le?"ol":"ul"),"bullet"===Le){const dn=function(at){const ei=function(Rn){if(Rn.getChild(0).is("$text"))return null;for(const rr of Rn.getChildren()){if(!rr.is("element","span"))continue;const Ma=rr.getChild(0);return Ma.is("$text")?Ma:Ma.getChild(0)}}(at);if(!ei)return null;const vo=ei._data;return"o"===vo?"circle":"\xb7"===vo?"disc":"\xa7"===vo?"square":null}($.element);dn&&(Le=dn)}else{const dn=ce.exec(Ie[1]);dn&&dn[1]&&(ut=parseInt(dn[1]))}}return{type:jt,startIndex:ut,style:KE(Le)}}(h,e);if(c)if(h.indent>u){const $=c.getChild(c.childCount-1),K=$.getChild($.childCount-1);c=FA(G,K,i),u+=1}else h.indent<u&&(c=function(K,Y){const ee=K.getAncestors({parentFirst:!0});let ce=null,Ie=0;for(const Le of ee)if("ul"!==Le.name&&"ol"!==Le.name||Ie++,Ie===Y){ce=Le;break}return ce}(c,u-h.indent),u=parseInt(h.indent));else c=FA(G,h.element,i);h.indent<=u&&(c.is("element",G.type)||(c=i.rename(G.type,c)))}const F=(function(K,Y){const ee=new $i({name:"span",styles:{"mso-list":"Ignore"}}),ce=Y.createRangeIn(K);for(const Ie of ce)"elementStart"===Ie.type&&ee.match(Ie.item)&&Y.remove(Ie.item)}(G=h.element,$=i),$.rename("li",G));var G,$;i.appendChild(F,c)})})(i,s),function jA(l,e){if(!l.childCount)return;const i=new ha;(function(u,h,g){const m=g.createRangeIn(h),w=new $i({name:"img"}),k=[];for(const v of m)if(w.match(v.item)){const y=v.item,F=y.getAttribute("v:shapes")?y.getAttribute("v:shapes").split(" "):[];F.length&&F.every(G=>u.indexOf(G)>-1)?k.push(y):y.getAttribute("src")||k.push(y)}for(const v of k)g.remove(v)})(function(u,h){const g=h.createRangeIn(u),m=new $i({name:/v:(.+)/}),w=[];for(const k of g){if("elementStart"!=k.type)continue;const v=k.item,y=v.previousSibling&&v.previousSibling.name||null;m.match(v)&&v.getAttribute("o:gfxdata")&&"v:shapetype"!==y&&w.push(k.item.getAttribute("id"))}return w}(l,i),l,i),function(u,h){const g=h.createRangeIn(u),m=new $i({name:/v:(.+)/}),w=[];for(const k of g)"elementStart"==k.type&&m.match(k.item)&&w.push(k.item);for(const k of w)h.remove(k)}(l,i);const c=function(u,h){const g=h.createRangeIn(u),m=new $i({name:"img"}),w=[];for(const k of g)m.match(k.item)&&k.item.getAttribute("src").startsWith("file://")&&w.push(k.item);return w}(l,i);c.length&&function(u,h,g){if(u.length===h.length)for(let m=0;m<u.length;m++){const w=`data:${h[m].type};base64,${Ok(h[m].hex)}`;g.setAttribute("src",w,u[m])}}(c,function(u){if(!u)return[];const h=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,g=new RegExp("(?:("+h.source+"))([\\da-fA-F\\s]+)\\}","g"),m=u.match(g),w=[];if(m)for(const k of m){let v=!1;k.includes("\\pngblip")?v="image/png":k.includes("\\jpegblip")&&(v="image/jpeg"),v&&w.push({hex:k.replace(h,"").replace(/[^\da-fA-F]/g,""),type:v})}return w}(e),i)}(i,e.dataTransfer.getData("text/rtf")),e.content=i}}function Rk(l){return l.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,i)=>1===i.length?" ":Array(i.length+1).join("\xa0 ").substr(0,i.length))}function sn(l,e,i,s,c=1){e>c?s.setAttribute(l,e,i):s.removeAttribute(l,i)}function Br(l,e,i={}){const s=l.createElement("tableCell",i);return l.insertElement("paragraph",s),l.insert(s,e),s}function Og(l,e){const s=parseInt(e.parent.parent.getAttribute("headingColumns")||0),{column:c}=l.getCellLocation(e);return!!s&&c<s}function ys(l){return e=>{e.on(`element:${l}`,(i,s,c)=>{if(s.modelRange&&s.viewItem.isEmpty){const h=c.writer.createPositionAt(s.modelRange.start.nodeAfter,0);c.writer.insertElement("paragraph",h)}},{priority:"low"})}}function GA(l){let e=0,i=0;const s=Array.from(l.getChildren()).filter(c=>"th"===c.name||"td"===c.name);for(;i<s.length&&"th"===s[i].name;)e+=parseInt(s[i].getAttribute("colspan")||1),i++;return e}class Dt{constructor(e,i={}){this._table=e,this._startRow=void 0!==i.row?i.row:i.startRow||0,this._endRow=void 0!==i.row?i.row:i.endRow,this._startColumn=void 0!==i.column?i.column:i.startColumn||0,this._endColumn=void 0!==i.column?i.column:i.endColumn,this._includeAllSlots=!!i.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let i=null;const s=this._getSpanned();if(s)this._includeAllSlots&&!this._shouldSkipSlot()&&(i=this._formatOutValue(s.cell,s.row,s.column));else{const c=e.getChild(this._cellIndex);if(!c)return this._advanceToNextRow();const u=parseInt(c.getAttribute("colspan")||1),h=parseInt(c.getAttribute("rowspan")||1);(u>1||h>1)&&this._recordSpans(c,h,u),this._shouldSkipSlot()||(i=this._formatOutValue(c)),this._nextCellAtColumn=this._column+u}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,i||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(e,i=this._row,s=this._column){return{done:!1,value:new $A(this,e,i,s)}}_shouldSkipSlot(){return this._skipRows.has(this._row)||this._row<this._startRow||this._column<this._startColumn||void 0!==this._endColumn&&this._column>this._endColumn}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,i,s){const c={cell:e,row:this._row,column:this._column};for(let u=this._row;u<this._row+i;u++)for(let h=this._column;h<this._column+s;h++)u==this._row&&h==this._column||this._markSpannedCell(u,h,c)}_markSpannedCell(e,i,s){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(i,s)}}class $A{constructor(e,i,s,c){this.cell=i,this.row=e._row,this.column=e._column,this.cellAnchorRow=s,this.cellAnchorColumn=c,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||1)}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||1)}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function Rg(l,e={}){return(i,{writer:s})=>{const c=i.getAttribute("headingRows")||0,u=[];c>0&&u.push(s.createContainerElement("thead",null,s.createSlot(g=>g.is("element","tableRow")&&g.index<c))),c<l.getRows(i)&&u.push(s.createContainerElement("tbody",null,s.createSlot(g=>g.is("element","tableRow")&&g.index>=c)));const h=s.createContainerElement("figure",{class:"table"},[s.createContainerElement("table",null,u),s.createSlot(g=>!g.is("element","tableRow"))]);return e.asWidget?((m=s).setCustomProperty("table",!0,g=h),Zb(g,m,{hasSelectionHandle:!0})):h;var g,m}}function Bk(l={}){return(e,{writer:i})=>{const s=e.parent,c=s.parent,u=c.getChildIndex(s),h=new Dt(c,{row:u}),g=c.getAttribute("headingRows")||0,m=c.getAttribute("headingColumns")||0;for(const w of h)if(w.cell==e){const k=w.row<g||w.column<m?"th":"td";return l.asWidget?xf(i.createEditableElement(k),i):i.createContainerElement(k)}}}function Bg(l={}){return(e,{writer:i,consumable:s,mapper:c})=>{if(e.parent.is("element","tableCell")&&Fk(e))return l.asWidget?i.createContainerElement("span",{class:"ck-table-bogus-paragraph"}):(s.consume(e,"insert"),void c.bindElements(e,c.toViewElement(e.parent)))}}function Fk(l){return 1==l.parent.childCount&&![...l.getAttributeKeys()].length}class Fg extends st{refresh(){const e=this.editor.model;this.isEnabled=function(c,u){const h=c.getFirstPosition().parent;return u.checkChild(h===h.root?h:h.parent,"table")}(e.document.selection,e.schema)}execute(e={}){const i=this.editor.model,s=this.editor.plugins.get("TableUtils"),c=this.editor.config.get("table"),u=c.defaultHeadings.rows,h=c.defaultHeadings.columns;void 0===e.headingRows&&u&&(e.headingRows=u),void 0===e.headingColumns&&h&&(e.headingColumns=h),i.change(g=>{const m=s.createTable(g,e);i.insertObject(m,null,null,{findOptimalPosition:"auto"}),g.setSelection(g.createPositionAt(m.getNodeByPath([0,0,0]),0))})}}class Lk extends st{constructor(e,i={}){super(e),this.order=i.order||"below"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,i=e.model.document.selection,s=e.plugins.get("TableUtils"),c="above"===this.order,u=s.getSelectionAffectedTableCells(i),h=s.getRowIndexes(u),g=c?h.first:h.last,m=u[0].findAncestor("table");s.insertRows(m,{at:c?g:g+1,copyStructureFromAbove:!c})}}class Lg extends st{constructor(e,i={}){super(e),this.order=i.order||"right"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,i=e.model.document.selection,s=e.plugins.get("TableUtils"),c="left"===this.order,u=s.getSelectionAffectedTableCells(i),h=s.getColumnIndexes(u),g=c?h.first:h.last,m=u[0].findAncestor("table");s.insertColumns(m,{columns:1,at:c?g:g+1})}}class jg extends st{constructor(e,i={}){super(e),this.direction=i.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=1===e.length}execute(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];"horizontally"===this.direction?e.splitCellHorizontally(i,2):e.splitCellVertically(i,2)}}function jk(l,e,i){const{startRow:s,startColumn:c,endRow:u,endColumn:h}=e,g=i.createElement("table"),m=u-s+1;for(let k=0;k<m;k++)i.insertElement("tableRow",g,"end");const w=[...new Dt(l,{startRow:s,endRow:u,startColumn:c,endColumn:h,includeAllSlots:!0})];for(const{row:k,column:v,cell:y,isAnchor:F,cellAnchorRow:G,cellAnchorColumn:$}of w){const Y=g.getChild(k-s);if(F){const ee=i.cloneElement(y);i.append(ee,Y),zg(ee,k,v,u,h,i)}else(G<s||$<c)&&Br(i,i.createPositionAt(Y,"end"))}return function(k,v,y,F,G){const $=parseInt(v.getAttribute("headingRows")||0);$>0&&sn("headingRows",$-y,k,G,0);const K=parseInt(v.getAttribute("headingColumns")||0);K>0&&sn("headingColumns",K-F,k,G,0)}(g,l,s,c,i),g}function zk(l,e,i=0){const s=[],c=new Dt(l,{startRow:i,endRow:e-1});for(const u of c){const{row:h,cellHeight:g}=u,m=h+g-1;h<e&&e<=m&&s.push(u)}return s}function Vk(l,e,i){const s=l.parent,c=s.parent,u=s.index,h=e-u,g={},m=parseInt(l.getAttribute("rowspan"))-h;m>1&&(g.rowspan=m);const w=parseInt(l.getAttribute("colspan")||1);w>1&&(g.colspan=w);const k=u+h,v=[...new Dt(c,{startRow:u,endRow:k,includeAllSlots:!0})];let y,F=null;for(const G of v){const{row:$,column:K,cell:Y}=G;Y===l&&void 0===y&&(y=K),void 0!==y&&y===K&&$===k&&(F=Br(i,G.getPositionBefore(),g))}return sn("rowspan",h,l,i),F}function Kd(l,e){const i=[],s=new Dt(l);for(const c of s){const{column:u,cellWidth:h}=c,g=u+h-1;u<e&&e<=g&&i.push(c)}return i}function Uk(l,e,i,s){const c=i-e,u={},h=parseInt(l.getAttribute("colspan"))-c;h>1&&(u.colspan=h);const g=parseInt(l.getAttribute("rowspan")||1);g>1&&(u.rowspan=g);const m=Br(s,s.createPositionAfter(l),u);return sn("colspan",c,l,s),m}function zg(l,e,i,s,c,u){const h=parseInt(l.getAttribute("colspan")||1),g=parseInt(l.getAttribute("rowspan")||1);i+h-1>c&&sn("colspan",c-i+1,l,u,1),e+g-1>s&&sn("rowspan",s-e+1,l,u,1)}function Vg(l,e){const i=e.getColumns(l),s=new Array(i).fill(0);for(const{column:u}of new Dt(l))s[u]++;const c=s.reduce((u,h,g)=>h?u:[...u,g],[]);return c.length>0&&(e.removeColumns(l,{at:c[c.length-1]}),!0)}function Ug(l,e){const i=[],s=e.getRows(l);for(let c=0;c<s;c++)l.getChild(c).isEmpty&&i.push(c);return i.length>0&&(e.removeRows(l,{at:i[i.length-1]}),!0)}function Hg(l,e){Vg(l,e)||Ug(l,e)}function Hk(l,e){const i=Array.from(new Dt(l,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));return i.every(({cellHeight:c})=>1===c)?e.lastRow:e.lastRow+(i[0].cellHeight-1)}function Gk(l,e){const i=Array.from(new Dt(l,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));return i.every(({cellWidth:c})=>1===c)?e.lastColumn:e.lastColumn+(i[0].cellWidth-1)}class Yd extends st{constructor(e,i){super(e),this.direction=i.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,i=e.document,s=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(i.selection)[0],c=this.value,u=this.direction;e.change(h=>{const g="right"==u||"down"==u,m=g?s:c,w=g?c:s,k=w.parent;var $,K,Y;K=m,Y=h,$k($=w)||($k(K)&&Y.remove(Y.createRangeIn(K)),Y.move(Y.createRangeIn($),Y.createPositionAt(K,"end"))),Y.remove($);const v=this.isHorizontal?"colspan":"rowspan",y=parseInt(s.getAttribute(v)||1),F=parseInt(c.getAttribute(v)||1);h.setAttribute(v,y+F,m),h.setSelection(h.createRangeIn(m));const G=this.editor.plugins.get("TableUtils");Hg(k.findAncestor("table"),G)})}_getMergeableCell(){const e=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),s=i.getTableCellsContainingSelection(e.selection)[0];if(!s)return;const c=this.isHorizontal?function(g,m,w){const v="right"==m?g.nextSibling:g.previousSibling,y=(g.parent.parent.getAttribute("headingColumns")||0)>0;if(!v)return;const F="right"==m?g:v,G="right"==m?v:g,{column:$}=w.getCellLocation(F),{column:K}=w.getCellLocation(G),Y=parseInt(F.getAttribute("colspan")||1),ee=Og(w,F),ce=Og(w,G);return y&&ee!=ce?void 0:$+Y===K?v:void 0}(s,this.direction,i):function(g,m,w){const k=g.parent,v=k.parent,y=v.getChildIndex(k);if("down"==m&&y===w.getRows(v)-1||"up"==m&&0===y)return;const F=parseInt(g.getAttribute("rowspan")||1),G=v.getAttribute("headingRows")||0;if(G&&("down"==m&&y+F===G||"up"==m&&y===G))return;const Y=parseInt(g.getAttribute("rowspan")||1),ee="down"==m?y+Y:y,ce=[...new Dt(v,{endRow:ee})],Ie=ce.find(jt=>jt.cell===g).column,Le=ce.find(({row:jt,cellHeight:ut,column:Qn})=>Qn===Ie&&("down"==m?jt===ee:ee===jt+ut));return Le&&Le.cell}(s,this.direction,i);if(!c)return;const u=this.isHorizontal?"rowspan":"colspan",h=parseInt(s.getAttribute(u)||1);return parseInt(c.getAttribute(u)||1)===h?c:void 0}}function $k(l){return 1==l.childCount&&l.getChild(0).is("element","paragraph")&&l.getChild(0).isEmpty}class WA extends st{refresh(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection),s=i[0];if(s){const c=s.findAncestor("table"),u=this.editor.plugins.get("TableUtils").getRows(c)-1,h=e.getRowIndexes(i);this.isEnabled=!(0===h.first&&h.last===u)}else this.isEnabled=!1}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(e.document.selection),c=i.getRowIndexes(s),u=s[0],h=u.findAncestor("table"),g=i.getCellLocation(u).column;e.change(m=>{i.removeRows(h,{at:c.first,rows:c.last-c.first+1});const k=function(v,y,F,G){const $=v.getChild(Math.min(y,G-1));let K=$.getChild(0),Y=0;for(const ee of $.getChildren()){if(Y>F)return K;K=ee,Y+=parseInt(ee.getAttribute("colspan")||1)}return K}(h,c.first,g,i.getRows(h));m.setSelection(m.createPositionAt(k,0))})}}class Wk extends st{refresh(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection),s=i[0];if(s){const c=s.findAncestor("table"),u=e.getColumns(c),{first:h,last:g}=e.getColumnIndexes(i);this.isEnabled=g-h<u-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[i,s]=function(m,w){const k=w.getSelectionAffectedTableCells(m),v=k[0],y=k.pop(),F=[v,y];return v.isBefore(y)?F:F.reverse()}(this.editor.model.document.selection,e),c=i.parent.parent,u=[...new Dt(c)],h={first:u.find(m=>m.cell===i).column,last:u.find(m=>m.cell===s).column},g=(m=u,w=i,k=s,v=h,parseInt(k.getAttribute("colspan")||1)>1?k:w.previousSibling||k.nextSibling?k.nextSibling||w.previousSibling:v.first?m.reverse().find(({column:y})=>y<v.first).cell:m.reverse().find(({column:y})=>y>v.last).cell);var m,w,k,v;this.editor.model.change(m=>{const w=h.last-h.first+1;this.editor.plugins.get("TableUtils").removeColumns(c,{at:h.first,columns:w}),m.setSelection(m.createPositionAt(g,0))})}}class qk extends st{refresh(){const s=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection),c=s.length>0;this.isEnabled=c,this.value=c&&s.every(u=>this._isInHeading(u,u.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),s=this.editor.model,c=i.getSelectionAffectedTableCells(s.document.selection),u=c[0].findAncestor("table"),{first:h,last:g}=i.getRowIndexes(c),m=this.value?h:g+1,w=u.getAttribute("headingRows")||0;s.change(k=>{if(m){const v=zk(u,m,m>w?w:0);for(const{cell:y}of v)Vk(y,m,k)}sn("headingRows",m,u,k,0)})}_isInHeading(e,i){const s=parseInt(i.getAttribute("headingRows")||0);return!!s&&e.parent.index<s}}class qA extends st{refresh(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(e.document.selection),c=s.length>0;this.isEnabled=c,this.value=c&&s.every(u=>Og(i,u))}execute(e={}){if(e.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),s=this.editor.model,c=i.getSelectionAffectedTableCells(s.document.selection),u=c[0].findAncestor("table"),{first:h,last:g}=i.getColumnIndexes(c),m=this.value?h:g+1;s.change(w=>{if(m){const k=Kd(u,m);for(const{cell:v,column:y}of k)Uk(v,y,m,w)}sn("headingColumns",m,u,w,0)})}}class On extends be{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const i=e.parent,s=i.parent,c=s.getChildIndex(i),u=new Dt(s,{row:c});for(const{cell:h,row:g,column:m}of u)if(h===e)return{row:g,column:m}}createTable(e,i){const s=e.createElement("table"),c=parseInt(i.rows)||2,u=parseInt(i.columns)||2;return Jd(e,s,0,c,u),i.headingRows&&sn("headingRows",Math.min(i.headingRows,c),s,e,0),i.headingColumns&&sn("headingColumns",Math.min(i.headingColumns,u),s,e,0),s}insertRows(e,i={}){const s=this.editor.model,c=i.at||0,u=i.rows||1,h=void 0!==i.copyStructureFromAbove,g=i.copyStructureFromAbove?c-1:c,m=this.getRows(e),w=this.getColumns(e);if(c>m)throw new A("tableutils-insertrows-insert-out-of-range",this,{options:i});s.change(k=>{const v=e.getAttribute("headingRows")||0;if(v>c&&sn("headingRows",v+u,e,k,0),!h&&(0===c||c===m))return void Jd(k,e,c,u,w);const y=h?Math.max(c,g):c,F=new Dt(e,{endRow:y}),G=new Array(w).fill(1);for(const{row:$,column:K,cellHeight:Y,cellWidth:ee,cell:ce}of F){const Ie=$+Y-1,Le=$<=g&&g<=Ie;$<c&&c<=Ie?(k.setAttribute("rowspan",Y+u,ce),G[K]=-ee):h&&Le&&(G[K]=ee)}for(let $=0;$<u;$++){const K=k.createElement("tableRow");k.insert(K,e,c);for(let Y=0;Y<G.length;Y++){const ee=G[Y],ce=k.createPositionAt(K,"end");ee>0&&Br(k,ce,ee>1?{colspan:ee}:null),Y+=Math.abs(ee)-1}}})}insertColumns(e,i={}){const c=i.at||0,u=i.columns||1;this.editor.model.change(h=>{const g=e.getAttribute("headingColumns");c<g&&h.setAttribute("headingColumns",g+u,e);const m=this.getColumns(e);if(0===c||m===c){for(const k of e.getChildren())k.is("element","tableRow")&&Aa(u,h,h.createPositionAt(k,c?"end":0));return}const w=new Dt(e,{column:c,includeAllSlots:!0});for(const k of w){const{row:v,cell:y,cellAnchorColumn:F,cellAnchorRow:G,cellWidth:$,cellHeight:K}=k;if(F<c){h.setAttribute("colspan",$+u,y);const Y=G+K-1;for(let ee=v;ee<=Y;ee++)w.skipRow(ee)}else Aa(u,h,k.getPositionBefore())}})}removeRows(e,i){const s=this.editor.model,c=i.rows||1,u=this.getRows(e),h=i.at,g=h+c-1;if(g>u-1)throw new A("tableutils-removerows-row-index-out-of-range",this,{table:e,options:i});s.change(m=>{const{cellsToMove:w,cellsToTrim:k}=function(v,y,F){const G=new Map,$=[];for(const{row:K,column:Y,cellHeight:ee,cell:ce}of new Dt(v,{endRow:F})){const Ie=K+ee-1;if(K>=y&&K<=F&&Ie>F&&G.set(Y,{cell:ce,rowspan:ee-(F-K+1)}),K<y&&Ie>=y){let Le;Le=Ie>=F?F-y+1:Ie-y+1,$.push({cell:ce,rowspan:ee-Le})}}return{cellsToMove:G,cellsToTrim:$}}(e,h,g);w.size&&function(v,y,F,G){const $=[...new Dt(v,{includeAllSlots:!0,row:y})],K=v.getChild(y);let Y;for(const{column:ee,cell:ce,isAnchor:Ie}of $)if(F.has(ee)){const{cell:Le,rowspan:jt}=F.get(ee),ut=Y?G.createPositionAfter(Y):G.createPositionAt(K,0);G.move(G.createRangeOn(Le),ut),sn("rowspan",jt,Le,G),Y=Le}else Ie&&(Y=ce)}(e,g+1,w,m);for(let v=g;v>=h;v--)m.remove(e.getChild(v));for(const{rowspan:v,cell:y}of k)sn("rowspan",v,y,m);(function(v,y,F,G){const $=v.getAttribute("headingRows")||0;y<$&&sn("headingRows",F<$?$-(F-y+1):y,v,G,0)})(e,h,g,m),Vg(e,this)||Ug(e,this)})}removeColumns(e,i){const c=i.at,h=i.at+(i.columns||1)-1;this.editor.model.change(g=>{!function(m,w,k){const v=m.getAttribute("headingColumns")||0;if(v&&w.first<v){const y=Math.min(v-1,w.last)-w.first+1;k.setAttribute("headingColumns",v-y,m)}}(e,{first:c,last:h},g);for(let m=h;m>=c;m--)for(const{cell:w,column:k,cellWidth:v}of[...new Dt(e)])k<=m&&v>1&&k+v>m?sn("colspan",v-1,w,g):k===m&&g.remove(w);Ug(e,this)||Vg(e,this)})}splitCellVertically(e,i=2){const s=this.editor.model,c=e.parent.parent,u=parseInt(e.getAttribute("rowspan")||1),h=parseInt(e.getAttribute("colspan")||1);s.change(g=>{if(h>1){const{newCellsSpan:m,updatedSpan:w}=Qk(h,i);sn("colspan",w,e,g);const k={};m>1&&(k.colspan=m),u>1&&(k.rowspan=u),Aa(h>i?i-1:h-1,g,g.createPositionAfter(e),k)}if(h<i){const m=i-h,w=[...new Dt(c)],{column:k}=w.find(({cell:G})=>G===e),v=w.filter(({cell:G,cellWidth:$,column:K})=>G!==e&&K===k||K<k&&K+$>k);for(const{cell:G,cellWidth:$}of v)g.setAttribute("colspan",$+m,G);const y={};u>1&&(y.rowspan=u),Aa(m,g,g.createPositionAfter(e),y);const F=c.getAttribute("headingColumns")||0;F>k&&sn("headingColumns",F+m,c,g)}})}splitCellHorizontally(e,i=2){const s=this.editor.model,c=e.parent,u=c.parent,h=u.getChildIndex(c),g=parseInt(e.getAttribute("rowspan")||1),m=parseInt(e.getAttribute("colspan")||1);s.change(w=>{if(g>1){const k=[...new Dt(u,{startRow:h,endRow:h+g-1,includeAllSlots:!0})],{newCellsSpan:v,updatedSpan:y}=Qk(g,i);sn("rowspan",y,e,w);const{column:F}=k.find(({cell:$})=>$===e),G={};v>1&&(G.rowspan=v),m>1&&(G.colspan=m);for(const $ of k){const{column:K,row:Y}=$,ee=K===F,ce=(Y+h+y)%v==0;Y>=h+y&&ee&&ce&&Aa(1,w,$.getPositionBefore(),G)}}if(g<i){const k=i-g,v=[...new Dt(u,{startRow:0,endRow:h})];for(const{cell:G,cellHeight:$,row:K}of v)G!==e&&K+$>h&&w.setAttribute("rowspan",$+k,G);const y={};m>1&&(y.colspan=m),Jd(w,u,h+1,k,1,y);const F=u.getAttribute("headingRows")||0;F>h&&sn("headingRows",F+k,u,w)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((i,s)=>i+parseInt(s.getAttribute("colspan")||1),0)}getRows(e){return Array.from(e.getChildren()).reduce((i,s)=>s.is("element","tableRow")?i+1:i,0)}createTableWalker(e,i={}){return new Dt(e,i)}getSelectedTableCells(e){const i=[];for(const s of this.sortRanges(e.getRanges())){const c=s.getContainedElement();c&&c.is("element","tableCell")&&i.push(c)}return i}getTableCellsContainingSelection(e){const i=[];for(const s of e.getRanges()){const c=s.start.findAncestor("tableCell");c&&i.push(c)}return i}getSelectionAffectedTableCells(e){const i=this.getSelectedTableCells(e);return i.length?i:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const i=e.map(s=>s.parent.index);return this._getFirstLastIndexesObject(i)}getColumnIndexes(e){const i=e[0].findAncestor("table"),s=[...new Dt(i)].filter(c=>e.includes(c.cell)).map(c=>c.column);return this._getFirstLastIndexesObject(s)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const i=new Set,s=new Set;let c=0;for(const h of e){const{row:g,column:m}=this.getCellLocation(h),w=parseInt(h.getAttribute("rowspan")||1),k=parseInt(h.getAttribute("colspan")||1);i.add(g),s.add(m),w>1&&i.add(g+w-1),k>1&&s.add(m+k-1),c+=w*k}return function(h,g){const m=Array.from(h.values()),w=Array.from(g.values());return(Math.max(...m)-Math.min(...m)+1)*(Math.max(...w)-Math.min(...w)+1)}(i,s)==c}sortRanges(e){return Array.from(e).sort(QA)}_getFirstLastIndexesObject(e){const i=e.sort((s,c)=>s-c);return{first:i[0],last:i[i.length-1]}}_areCellInTheSameTableSection(e){const i=e[0].findAncestor("table"),s=this.getRowIndexes(e),c=parseInt(i.getAttribute("headingRows")||0);if(!this._areIndexesInSameSection(s,c))return!1;const u=parseInt(i.getAttribute("headingColumns")||0),h=this.getColumnIndexes(e);return this._areIndexesInSameSection(h,u)}_areIndexesInSameSection({first:e,last:i},s){return e<s==i<s}}function Jd(l,e,i,s,c,u={}){for(let h=0;h<s;h++){const g=l.createElement("tableRow");l.insert(g,e,i),Aa(c,l,l.createPositionAt(g,"end"),u)}}function Aa(l,e,i,s={}){for(let c=0;c<l;c++)Br(e,i,s)}function Qk(l,e){if(l<e)return{newCellsSpan:1,updatedSpan:1};const i=Math.floor(l/e);return{newCellsSpan:i,updatedSpan:l-i*e+i}}function QA(l,e){return l.start.isBefore(e.start)?-1:1}class Gg extends st{refresh(){const e=this.editor.plugins.get(On),i=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(i,this.editor.plugins.get(On))}execute(){const e=this.editor.model,i=this.editor.plugins.get(On);e.change(s=>{const c=i.getSelectedTableCells(e.document.selection),u=c.shift(),{mergeWidth:h,mergeHeight:g}=function(m,w,k){let v=0,y=0;for(const $ of w){const{row:K,column:Y}=k.getCellLocation($);v=Xd($,Y,v,"colspan"),y=Xd($,K,y,"rowspan")}const{row:F,column:G}=k.getCellLocation(m);return{mergeWidth:v-G,mergeHeight:y-F}}(u,c,i);sn("colspan",h,u,s),sn("rowspan",g,u,s);for(const m of c)$g(m,u,s);Hg(u.findAncestor("table"),i),s.setSelection(u,"in")})}}function $g(l,e,i){Wg(l)||(Wg(e)&&i.remove(i.createRangeIn(e)),i.move(i.createRangeIn(l),i.createPositionAt(e,"end"))),i.remove(l)}function Wg(l){return 1==l.childCount&&l.getChild(0).is("element","paragraph")&&l.getChild(0).isEmpty}function Xd(l,e,i,s){const c=parseInt(l.getAttribute(s)||1);return Math.max(i,e+c)}class ZA extends st{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(e.document.selection),c=i.getRowIndexes(s),u=s[0].findAncestor("table"),h=[];for(let g=c.first;g<=c.last;g++)for(const m of u.getChild(g).getChildren())h.push(e.createRangeOn(m));e.change(g=>{g.setSelection(h)})}}class KA extends st{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=e.getSelectionAffectedTableCells(i.document.selection),c=s[0],u=s.pop(),h=c.findAncestor("table"),g=e.getCellLocation(c),m=e.getCellLocation(u),w=Math.min(g.column,m.column),k=Math.max(g.column,m.column),v=[];for(const y of new Dt(h,{startColumn:w,endColumn:k}))v.push(i.createRangeOn(y.cell));i.change(y=>{y.setSelection(v)})}}function YA(l,e){let i=!1;const s=function(c){const u=parseInt(c.getAttribute("headingRows")||0),h=Array.from(c.getChildren()).reduce((m,w)=>w.is("element","tableRow")?m+1:m,0),g=[];for(const{row:m,cell:w,cellHeight:k}of new Dt(c)){if(k<2)continue;const v=m<u?u:h;m+k>v&&g.push({cell:w,rowspan:v-m})}return g}(l);if(s.length){i=!0;for(const c of s)sn("rowspan",c.rowspan,c.cell,e,1)}return i}function Wt(l,e){let i=!1;const s=function(g){const m=new Array(g.childCount).fill(0);for(const{rowIndex:w}of new Dt(g,{includeAllSlots:!0}))m[w]++;return m}(l),c=[];for(const[g,m]of s.entries())!m&&l.getChild(g).is("element","tableRow")&&c.push(g);if(c.length){i=!0;for(const g of c.reverse())e.remove(l.getChild(g)),s.splice(g,1)}const u=s.filter((g,m)=>l.getChild(m).is("element","tableRow")),h=u[0];if(!u.every(g=>g===h)){const g=u.reduce((m,w)=>w>m?w:m,0);for(const[m,w]of u.entries()){const k=g-w;if(k){for(let v=0;v<k;v++)Br(e,e.createPositionAt(l.getChild(m),"end"));i=!0}}}return i}function JA(l){const i=l.attributeKey;return"attribute"===l.type&&("headingRows"===i||"colspan"===i||"rowspan"===i)}function XA(l,e){let i=!1;for(const s of l.getChildren())s.is("element","tableRow")&&(i=Qg(s,e)||i);return i}function Qg(l,e){let i=!1;for(const s of l.getChildren())i=Kk(s,e)||i;return i}function Kk(l,e){if(0==l.childCount)return e.insertElement("paragraph",l),!0;const i=Array.from(l.getChildren()).filter(s=>s.is("$text"));for(const s of i)e.wrap(e.createRangeOn(s),"paragraph");return!!i.length}function e0(l){return!(!l.position||!l.position.parent.is("element","tableCell"))&&("insert"==l.type&&"$text"==l.name||"remove"==l.type)}function Jc(l,e){if(!l.is("element","paragraph"))return!1;const i=e.toViewElement(l);return!!i&&Fk(l)!==i.is("element","span")}var Yk=P(3881);Fe()(Yk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class _o extends be{static get pluginName(){return"TableEditing"}static get requires(){return[On]}init(){const e=this.editor,i=e.model,s=i.schema,c=e.conversion,u=e.plugins.get(On);s.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),s.register("tableRow",{allowIn:"table",isLimit:!0}),s.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),c.for("upcast").add(h=>{h.on("element:figure",(g,m,w)=>{if(!w.consumable.test(m.viewItem,{name:!0,classes:"table"}))return;const k=function(y){for(const F of y.getChildren())if(F.is("element","table"))return F}(m.viewItem);if(!k||!w.consumable.test(k,{name:!0}))return;w.consumable.consume(m.viewItem,{name:!0,classes:"table"});const v=vn(w.convertItem(k,m.modelCursor).modelRange.getItems());v?(w.convertChildren(m.viewItem,w.writer.createPositionAt(v,"end")),w.updateConversionResult(v,m)):w.consumable.revert(m.viewItem,{name:!0,classes:"table"})})}),c.for("upcast").add(function HA(){return l=>{l.on("element:table",(e,i,s)=>{const c=i.viewItem;if(!s.consumable.test(c,{name:!0}))return;const{rows:u,headingRows:h,headingColumns:g}=function(k){const v={headingRows:0,headingColumns:0},y=[],F=[];let G;for(const $ of Array.from(k.getChildren()))if("tbody"===$.name||"thead"===$.name||"tfoot"===$.name){"thead"!==$.name||G||(G=$);const K=Array.from($.getChildren()).filter(Y=>Y.is("element","tr"));for(const Y of K)if("thead"===Y.parent.name&&Y.parent===G)v.headingRows++,y.push(Y);else{F.push(Y);const ee=GA(Y);ee>v.headingColumns&&(v.headingColumns=ee)}}return v.rows=[...y,...F],v}(c),m={};g&&(m.headingColumns=g),h&&(m.headingRows=h);const w=s.writer.createElement("table",m);if(s.safeInsert(w,i.modelCursor)){if(s.consumable.consume(c,{name:!0}),u.forEach(k=>s.convertItem(k,s.writer.createPositionAt(w,"end"))),s.convertChildren(c,s.writer.createPositionAt(w,"end")),w.isEmpty){const k=s.writer.createElement("tableRow");s.writer.insert(k,s.writer.createPositionAt(w,"end")),Br(s.writer,s.writer.createPositionAt(k,"end"))}s.updateConversionResult(w,i)}})}}()),c.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:Rg(u,{asWidget:!0})}),c.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:Rg(u)}),c.for("upcast").elementToElement({model:"tableRow",view:"tr"}),c.for("upcast").add(h=>{h.on("element:tr",(g,m)=>{m.viewItem.isEmpty&&0==m.modelCursor.index&&g.stop()},{priority:"high"})}),c.for("downcast").elementToElement({model:"tableRow",view:(h,{writer:g})=>h.isEmpty?g.createEmptyElement("tr"):g.createContainerElement("tr")}),c.for("upcast").elementToElement({model:"tableCell",view:"td"}),c.for("upcast").elementToElement({model:"tableCell",view:"th"}),c.for("upcast").add(ys("td")),c.for("upcast").add(ys("th")),c.for("editingDowncast").elementToElement({model:"tableCell",view:Bk({asWidget:!0})}),c.for("dataDowncast").elementToElement({model:"tableCell",view:Bk()}),c.for("editingDowncast").elementToElement({model:"paragraph",view:Bg({asWidget:!0}),converterPriority:"high"}),c.for("dataDowncast").elementToElement({model:"paragraph",view:Bg(),converterPriority:"high"}),c.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),c.for("upcast").attributeToAttribute({model:{key:"colspan",value:Jk("colspan")},view:"colspan"}),c.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),c.for("upcast").attributeToAttribute({model:{key:"rowspan",value:Jk("rowspan")},view:"rowspan"}),e.data.mapper.on("modelToViewPosition",(h,g)=>{const m=g.modelPosition.parent,w=g.modelPosition.nodeBefore;if(!m.is("element","tableCell")||!w||!w.is("element","paragraph"))return;const k=g.mapper.toViewElement(w),v=g.mapper.toViewElement(m);k===v&&(g.viewPosition=g.mapper.findPositionIn(v,w.maxOffset))}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new Fg(e)),e.commands.add("insertTableRowAbove",new Lk(e,{order:"above"})),e.commands.add("insertTableRowBelow",new Lk(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new Lg(e,{order:"left"})),e.commands.add("insertTableColumnRight",new Lg(e,{order:"right"})),e.commands.add("removeTableRow",new WA(e)),e.commands.add("removeTableColumn",new Wk(e)),e.commands.add("splitTableCellVertically",new jg(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new jg(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new Gg(e)),e.commands.add("mergeTableCellRight",new Yd(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new Yd(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new Yd(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new Yd(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new qA(e)),e.commands.add("setTableRowHeader",new qk(e)),e.commands.add("selectTableRow",new ZA(e)),e.commands.add("selectTableColumn",new KA(e)),function qg(l){l.document.registerPostFixer(e=>function(i,s){const c=s.document.differ.getChanges();let u=!1;const h=new Set;for(const g of c){let m;"table"==g.name&&"insert"==g.type&&(m=g.position.nodeAfter),"tableRow"!=g.name&&"tableCell"!=g.name||(m=g.position.findAncestor("table")),JA(g)&&(m=g.range.start.findAncestor("table")),m&&!h.has(m)&&(u=YA(m,i)||u,u=Wt(m,i)||u,h.add(m))}return u}(e,l))}(i),function Zk(l){l.document.registerPostFixer(e=>function(i,s){const c=s.document.differ.getChanges();let u=!1;for(const h of c)"insert"==h.type&&"table"==h.name&&(u=XA(h.position.nodeAfter,i)||u),"insert"==h.type&&"tableRow"==h.name&&(u=Qg(h.position.nodeAfter,i)||u),"insert"==h.type&&"tableCell"==h.name&&(u=Kk(h.position.nodeAfter,i)||u),e0(h)&&(u=Kk(h.position.parent,i)||u);return u}(e,l))}(i),this.listenTo(i.document,"change:data",()=>{(function(h,g){const m=h.document.differ;for(const w of m.getChanges()){let k,v=!1;if("attribute"==w.type){const $=w.range.start.nodeAfter;if(!$||!$.is("element","table")||"headingRows"!=w.attributeKey&&"headingColumns"!=w.attributeKey)continue;k=$,v="headingRows"==w.attributeKey}else"tableRow"!=w.name&&"tableCell"!=w.name||(k=w.position.findAncestor("table"),v="tableRow"==w.name);if(!k)continue;const y=k.getAttribute("headingRows")||0,F=k.getAttribute("headingColumns")||0,G=new Dt(k);for(const $ of G){const K=$.row<y||$.column<F?"th":"td",Y=g.mapper.toViewElement($.cell);Y&&Y.is("element")&&Y.name!=K&&g.reconvertItem(v?$.cell.parent:$.cell)}}})(i,e.editing),function(h,g){const m=h.document.differ,w=new Set;for(const k of m.getChanges()){const v="attribute"==k.type?k.range.start.parent:k.position.parent;v.is("element","tableCell")&&w.add(v)}for(const k of w.values()){const v=Array.from(k.getChildren()).filter(y=>Jc(y,g.mapper));for(const y of v)g.reconvertItem(y)}}(i,e.editing)})}}function Jk(l){return e=>{const i=parseInt(e.getAttribute(l));return Number.isNaN(i)||i<=0?null:i}}var t0=P(1613);Fe()(t0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class nr extends Qe{constructor(e){super(e);const i=this.bindTemplate;this.items=this._createGridCollection(),this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(s,c)=>`${c} \xd7 ${s}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:i.to("label")}]}],on:{mousedown:i.to(s=>{s.preventDefault()}),click:i.to(()=>{this.fire("execute")})}}),this.on("boxover",(s,c)=>{const{row:u,column:h}=c.target.dataset;this.set({rows:parseInt(u),columns:parseInt(h)})}),this.on("change:columns",()=>{this._highlightGridBoxes()}),this.on("change:rows",()=>{this._highlightGridBoxes()})}focus(){}focusLast(){}_highlightGridBoxes(){const e=this.rows,i=this.columns;this.items.map((s,c)=>{const u=Math.floor(c/10)<e&&c%10<i;s.set("isOn",u)})}_createGridCollection(){const e=[];for(let i=0;i<100;i++){const s=Math.floor(i/10);e.push(new n0(this.locale,s+1,i%10+1))}return this.createCollection(e)}}class n0 extends Qe{constructor(e,i,s){super(e);const c=this.bindTemplate;this.set("isOn",!1),this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",c.if("isOn","ck-on")],"data-row":i,"data-column":s}})}}class o0 extends be{static get pluginName(){return"TableUI"}init(){const e=this.editor,i=this.editor.t,s="ltr"===e.locale.contentLanguageDirection;e.ui.componentFactory.add("insertTable",c=>{const u=e.commands.get("insertTable"),h=da(c);let g;return h.bind("isEnabled").to(u),h.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:i("Insert table"),tooltip:!0}),h.on("change:isOpen",()=>{g||(g=new nr(c),h.panelView.children.add(g),g.delegate("execute").to(h),h.buttonView.on("open",()=>{g.rows=0,g.columns=0}),h.on("execute",()=>{e.execute("insertTable",{rows:g.rows,columns:g.columns}),e.editing.view.focus()}))}),h}),e.ui.componentFactory.add("tableColumn",c=>{const u=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:i("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:s?"insertTableColumnLeft":"insertTableColumnRight",label:i("Insert column left")}},{type:"button",model:{commandName:s?"insertTableColumnRight":"insertTableColumnLeft",label:i("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:i("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:i("Select column")}}];return this._prepareDropdown(i("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',u,c)}),e.ui.componentFactory.add("tableRow",c=>{const u=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:i("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:i("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:i("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:i("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:i("Select row")}}];return this._prepareDropdown(i("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',u,c)}),e.ui.componentFactory.add("mergeTableCells",c=>{const u=[{type:"button",model:{commandName:"mergeTableCellUp",label:i("Merge cell up")}},{type:"button",model:{commandName:s?"mergeTableCellRight":"mergeTableCellLeft",label:i("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:i("Merge cell down")}},{type:"button",model:{commandName:s?"mergeTableCellLeft":"mergeTableCellRight",label:i("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:i("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:i("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(i("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',u,c)})}_prepareDropdown(e,i,s,c){const u=this.editor,h=da(c),g=this._fillDropdownWithListOptions(h,s);return h.buttonView.set({label:e,icon:i,tooltip:!0}),h.bind("isEnabled").toMany(g,"isEnabled",(...m)=>m.some(w=>w)),this.listenTo(h,"execute",m=>{u.execute(m.source.commandName),m.source instanceof Tc||u.editing.view.focus()}),h}_prepareMergeSplitButtonDropdown(e,i,s,c){const u=this.editor,h=da(c,yb),g="mergeTableCells",m=u.commands.get(g),w=this._fillDropdownWithListOptions(h,s);return h.buttonView.set({label:e,icon:i,tooltip:!0,isEnabled:!0}),h.bind("isEnabled").toMany([m,...w],"isEnabled",(...k)=>k.some(v=>v)),this.listenTo(h.buttonView,"execute",()=>{u.execute(g),u.editing.view.focus()}),this.listenTo(h,"execute",k=>{u.execute(k.source.commandName),u.editing.view.focus()}),h}_fillDropdownWithListOptions(e,i){const s=this.editor,c=[],u=new fo;for(const h of i)r0(h,s,c,u);return cy(e,u),c}}function r0(l,e,i,s){const c=l.model=new uf(l.model),{commandName:u,bindIsOn:h}=l.model;if("button"===l.type||"switchbutton"===l.type){const g=e.commands.get(u);i.push(g),c.set({commandName:u}),c.bind("isEnabled").to(g),h&&c.bind("isOn").to(g,"value")}c.set({withText:!0}),s.add(l)}var Ea=P(6945);Fe()(Ea.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class or extends be{static get pluginName(){return"TableSelection"}static get requires(){return[On,On]}init(){this.listenTo(this.editor.model,"deleteContent",(i,s)=>this._handleDeleteContent(i,s),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const s=this.editor.plugins.get(On).getSelectedTableCells(this.editor.model.document.selection);return 0==s.length?null:s}getSelectionAsFragment(){const e=this.editor.plugins.get(On),i=this.getSelectedTableCells();return i?this.editor.model.change(s=>{const c=s.createDocumentFragment(),{first:u,last:h}=e.getColumnIndexes(i),{first:g,last:m}=e.getRowIndexes(i),w=i[0].findAncestor("table");let k=m,v=h;if(e.isSelectionRectangular(i)){const F={firstColumn:u,lastColumn:h,firstRow:g,lastRow:m};k=Hk(w,F),v=Gk(w,F)}const y=jk(w,{startRow:g,startColumn:u,endRow:k,endColumn:v},s);return s.insert(y,c,0),c}):null}setCellSelection(e,i){const s=this._getCellsToSelect(e,i);this.editor.model.change(c=>{c.setSelection(s.cells.map(u=>c.createRangeOn(u)),{backward:s.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=vn(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,i=new Set;e.conversion.for("editingDowncast").add(s=>s.on("selection",(c,u,h)=>{const g=h.writer;!function(k){for(const v of i)k.removeClass("ck-editor__editable_selected",v);i.clear()}(g);const m=this.getSelectedTableCells();if(!m)return;for(const k of m){const v=h.mapper.toViewElement(k);g.addClass("ck-editor__editable_selected",v),i.add(v)}const w=h.mapper.toViewElement(m[m.length-1]);g.setSelection(w,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const i=this.getSelectedTableCells();if(!i)return;e.model.change(s=>{const c=s.createPositionAt(i[0],0),u=e.model.schema.getNearestSelectionRange(c);s.setSelection(u)})}})}_handleDeleteContent(e,i){const s=this.editor.plugins.get(On),[c,u]=i,h=this.editor.model,g=!u||"backward"==u.direction,m=s.getSelectedTableCells(c);m.length&&(e.stop(),h.change(w=>{const k=m[g?m.length-1:0];h.change(y=>{for(const F of m)h.deleteContent(y.createSelection(F,"in"))});const v=h.schema.getNearestSelectionRange(w.createPositionAt(k,0));c.is("documentSelection")?w.setSelection(v):c.setTo(v)}))}_getCellsToSelect(e,i){const s=this.editor.plugins.get("TableUtils"),c=s.getCellLocation(e),u=s.getCellLocation(i),h=Math.min(c.row,u.row),g=Math.max(c.row,u.row),m=Math.min(c.column,u.column),w=Math.max(c.column,u.column),k=new Array(g-h+1).fill(null).map(()=>[]),v={startRow:h,endRow:g,startColumn:m,endColumn:w};for(const{row:G,cell:$}of new Dt(e.findAncestor("table"),v))k[G-h].push($);const y=u.row<c.row,F=u.column<c.column;return y&&k.reverse(),F&&k.forEach(G=>G.reverse()),{cells:k.flat(),backward:y||F}}}class eu extends be{static get pluginName(){return"TableClipboard"}static get requires(){return[or,On]}init(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"copy",(s,c)=>this._onCopyCut(s,c)),this.listenTo(i,"cut",(s,c)=>this._onCopyCut(s,c)),this.listenTo(e.model,"insertContent",(s,c)=>this._onInsertContent(s,...c),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,i){const s=this.editor.plugins.get(or);if(!s.getSelectedTableCells()||"cut"==e.name&&this.editor.isReadOnly)return;i.preventDefault(),e.stop();const u=this.editor.editing.view.document,h=this.editor.data.toView(s.getSelectionAsFragment());u.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:h,method:e.name})}_onInsertContent(e,i,s){if(s&&!s.is("documentSelection"))return;const c=this.editor.model,u=this.editor.plugins.get(On);let h=xa(i,c);if(!h)return;const g=u.getSelectionAffectedTableCells(c.document.selection);g.length?(e.stop(),c.change(m=>{const w={width:u.getColumns(h),height:u.getRows(h)},k=function(K,Y,ee,ce){const Ie=K[0].findAncestor("table"),Le=ce.getColumnIndexes(K),jt=ce.getRowIndexes(K),ut={firstColumn:Le.first,lastColumn:Le.last,firstRow:jt.first,lastRow:jt.last},Qn=1===K.length;return Qn&&(ut.lastRow+=Y.height-1,ut.lastColumn+=Y.width-1,function(dn,at,ei,vo){const Rn=vo.getColumns(dn),rr=vo.getRows(dn);ei>Rn&&vo.insertColumns(dn,{at:Rn,columns:ei-Rn}),at>rr&&vo.insertRows(dn,{at:rr,rows:at-rr})}(Ie,ut.lastRow+1,ut.lastColumn+1,ce)),Qn||!ce.isSelectionRectangular(K)?function(dn,at,ei){const{firstRow:vo,lastRow:Rn,firstColumn:rr,lastColumn:Ma}=at,o_={first:vo,last:Rn},tl={first:rr,last:Ma};tu(dn,rr,o_,ei),tu(dn,Ma+1,o_,ei),Zg(dn,vo,tl,ei),Zg(dn,Rn+1,tl,ei,vo)}(Ie,ut,ee):(ut.lastRow=Hk(Ie,ut),ut.lastColumn=Gk(Ie,ut)),ut}(g,w,m,u),y=k.lastColumn-k.firstColumn+1,F={startRow:0,startColumn:0,endRow:Math.min(k.lastRow-k.firstRow+1,w.height)-1,endColumn:Math.min(y,w.width)-1};h=jk(h,F,m);const G=g[0].findAncestor("table"),$=this._replaceSelectedCellsWithPasted(h,w,G,k,m);if(this.editor.plugins.get("TableSelection").isEnabled){const K=u.sortRanges($.map(Y=>m.createRangeOn(Y)));m.setSelection(K)}else m.setSelection($[0],0)})):Hg(h,u)}_replaceSelectedCellsWithPasted(e,i,s,c,u){const{width:h,height:g}=i,m=function(K,Y,ee){const ce=new Array(ee).fill(null).map(()=>new Array(Y).fill(null));for(const{column:Ie,row:Le,cell:jt}of new Dt(K))ce[Le][Ie]=jt;return ce}(e,h,g),w=[...new Dt(s,{startRow:c.firstRow,endRow:c.lastRow,startColumn:c.firstColumn,endColumn:c.lastColumn,includeAllSlots:!0})],k=[];let v;for(const K of w){const{row:Y,column:ee}=K;ee===c.firstColumn&&(v=K.getPositionBefore());const Le=m[(Y-c.firstRow)%g][(ee-c.firstColumn)%h],jt=Le?u.cloneElement(Le):null,ut=this._replaceTableSlotCell(K,jt,v,u);ut&&(zg(ut,Y,ee,c.lastRow,c.lastColumn,u),k.push(ut),v=u.createPositionAfter(ut))}const y=parseInt(s.getAttribute("headingRows")||0),F=parseInt(s.getAttribute("headingColumns")||0),$=c.firstColumn<F&&F<=c.lastColumn;if(c.firstRow<y&&y<=c.lastRow){const K=Zg(s,y,{first:c.firstColumn,last:c.lastColumn},u,c.firstRow);k.push(...K)}if($){const K=tu(s,F,{first:c.firstRow,last:c.lastRow},u);k.push(...K)}return k}_replaceTableSlotCell(e,i,s,c){const{cell:u,isAnchor:h}=e;return h&&c.remove(u),i?(c.insert(i,s),i):null}getTableIfOnlyTableInContent(e,i){return xa(e,i)}}function xa(l,e){if(!l.is("documentFragment")&&!l.is("element"))return null;if(l.is("element","table"))return l;if(1==l.childCount&&l.getChild(0).is("element","table"))return l.getChild(0);const i=e.createRangeIn(l);for(const s of i.getItems())if(s.is("element","table")){const c=e.createRange(i.start,e.createPositionBefore(s));if(e.hasContent(c,{ignoreWhitespaces:!0}))return null;const u=e.createRange(e.createPositionAfter(s),i.end);return e.hasContent(u,{ignoreWhitespaces:!0})?null:s}return null}function Zg(l,e,i,s,c=0){if(!(e<1))return zk(l,e,c).filter(({column:u,cellWidth:h})=>Kg(u,h,i)).map(({cell:u})=>Vk(u,e,s))}function tu(l,e,i,s){if(!(e<1))return Kd(l,e).filter(({row:c,cellHeight:u})=>Kg(c,u,i)).map(({cell:c,column:u})=>Uk(c,u,e,s))}function Kg(l,e,i){const s=l+e-1,{first:c,last:u}=i;return l>=c&&l<=u||l<c&&s>=c}class a0 extends be{static get pluginName(){return"TableKeyboard"}static get requires(){return[or,On]}init(){const e=this.editor.editing.view.document;this.listenTo(e,"arrowKey",(...i)=>this._onArrowKey(...i),{context:"table"}),this.listenTo(e,"tab",(...i)=>this._handleTabOnSelectedTable(...i),{context:"figure"}),this.listenTo(e,"tab",(...i)=>this._handleTab(...i),{context:["th","td"]})}_handleTabOnSelectedTable(e,i){const s=this.editor,c=s.model.document.selection.getSelectedElement();c&&c.is("element","table")&&(i.preventDefault(),i.stopPropagation(),e.stop(),s.model.change(u=>{u.setSelection(u.createRangeIn(c.getChild(0).getChild(0)))}))}_handleTab(e,i){const s=this.editor,c=this.editor.plugins.get(On),h=!i.shiftKey;let g=c.getTableCellsContainingSelection(s.model.document.selection)[0];if(g||(g=this.editor.plugins.get("TableSelection").getFocusCell()),!g)return;i.preventDefault(),i.stopPropagation(),e.stop();const m=g.parent,w=m.parent,k=w.getChildIndex(m),v=m.getChildIndex(g),y=0===v;if(!h&&y&&0===k)return void s.model.change(K=>{K.setSelection(K.createRangeOn(w))});const F=v===m.childCount-1,G=k===c.getRows(w)-1;if(h&&G&&F&&(s.execute("insertTableRowBelow"),k===c.getRows(w)-1))return void s.model.change(K=>{K.setSelection(K.createRangeOn(w))});let $;if(h&&F)$=w.getChild(k+1).getChild(0);else if(!h&&y){const K=w.getChild(k-1);$=K.getChild(K.childCount-1)}else $=m.getChild(v+(h?1:-1));s.model.change(K=>{K.setSelection(K.createRangeIn($))})}_onArrowKey(e,i){const c=Gs(i.keyCode,this.editor.locale.contentLanguageDirection);this._handleArrowKeys(c,i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),e.stop())}_handleArrowKeys(e,i){const s=this.editor.plugins.get(On),c=this.editor.model,u=c.document.selection,h=["right","down"].includes(e),g=s.getSelectedTableCells(u);if(g.length){let w;return w=i?this.editor.plugins.get("TableSelection").getFocusCell():h?g[g.length-1]:g[0],this._navigateFromCellInDirection(w,e,i),!0}const m=u.focus.findAncestor("tableCell");if(!m)return!1;if(!u.isCollapsed)if(i){if(u.isBackward==h&&!u.containsEntireContent(m))return!1}else{const w=u.getSelectedElement();if(!w||!c.schema.isObject(w))return!1}return!!this._isSelectionAtCellEdge(u,m,h)&&(this._navigateFromCellInDirection(m,e,i),!0)}_isSelectionAtCellEdge(e,i,s){const c=this.editor.model,u=this.editor.model.schema,h=s?e.getLastPosition():e.getFirstPosition();if(!u.getLimitElement(h).is("element","tableCell"))return c.createPositionAt(i,s?"end":0).isTouching(h);const g=c.createSelection(h);return c.modifySelection(g,{direction:s?"forward":"backward"}),h.isEqual(g.focus)}_navigateFromCellInDirection(e,i,s=!1){const c=this.editor.model,u=e.findAncestor("table"),h=[...new Dt(u,{includeAllSlots:!0})],{row:g,column:m}=h[h.length-1],w=h.find(({cell:$})=>$==e);let{row:k,column:v}=w;switch(i){case"left":v--;break;case"up":k--;break;case"right":v+=w.cellWidth;break;case"down":k+=w.cellHeight}if(k<0||k>g||v<0&&k<=0||v>m&&k>=g)return void c.change($=>{$.setSelection($.createRangeOn(u))});v<0?(v=s?0:m,k--):v>m&&(v=s?m:0,k++);const y=h.find($=>$.row==k&&$.column==v).cell,F=["right","down"].includes(i),G=this.editor.plugins.get("TableSelection");if(s&&G.isEnabled){const $=G.getAnchorCell()||e;G.setCellSelection($,y)}else{const $=c.createPositionAt(y,F?0:"end");c.change(K=>{K.setSelection($)})}}}class c0 extends $o{constructor(e){super(e),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class Yg extends be{static get pluginName(){return"TableMouse"}static get requires(){return[or,On]}init(){this.editor.editing.view.addObserver(c0),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,i=e.plugins.get(On);let s=!1;const c=e.plugins.get(or);this.listenTo(e.editing.view.document,"mousedown",(u,h)=>{const g=e.model.document.selection;if(!this.isEnabled||!c.isEnabled||!h.domEvent.shiftKey)return;const m=c.getAnchorCell()||i.getTableCellsContainingSelection(g)[0];if(!m)return;const w=this._getModelTableCellFromDomEvent(h);w&&e_(m,w)&&(s=!0,c.setCellSelection(m,w),h.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{s=!1}),this.listenTo(e.editing.view.document,"selectionChange",u=>{s&&u.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let i,s,c=!1,u=!1;const h=e.plugins.get(or);this.listenTo(e.editing.view.document,"mousedown",(g,m)=>{this.isEnabled&&h.isEnabled&&(m.domEvent.shiftKey||m.domEvent.ctrlKey||m.domEvent.altKey||(i=this._getModelTableCellFromDomEvent(m)))}),this.listenTo(e.editing.view.document,"mousemove",(g,m)=>{if(!m.domEvent.buttons||!i)return;const w=this._getModelTableCellFromDomEvent(m);w&&e_(i,w)&&(s=w,c||s==i||(c=!0)),c&&(u=!0,h.setCellSelection(i,s),m.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{c=!1,u=!1,i=null,s=null}),this.listenTo(e.editing.view.document,"selectionChange",g=>{u&&g.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const s=this.editor.editing.view.createPositionAt(e.target,0);return this.editor.editing.mapper.toModelPosition(s).parent.findAncestor("tableCell",{includeSelf:!0})}}function e_(l,e){return l.parent.parent==e.parent.parent}var l0=P(6306);function u0(l){const e=l.getSelectedElement();return e&&Jg(e)?e:null}function ir(l){const e=l.getFirstPosition();if(!e)return null;let i=e.parent;for(;i;){if(i.is("element")&&Jg(i))return i;i=i.parent}return null}function Jg(l){return!!l.getCustomProperty("table")&&Gt(l)}Fe()(l0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Fr={autoRefresh:!0};class Xc{constructor(e,i=Fr){if(!e)throw new A("token-missing-token-url",this);i.initValue&&this._validateTokenValue(i.initValue),this.set("value",i.initValue),this._refresh="function"==typeof e?e:()=>{return s=e,new Promise((c,u)=>{const h=new XMLHttpRequest;h.open("GET",s),h.addEventListener("load",()=>{const g=h.status,m=h.response;return g<200||g>299?u(new A("token-cannot-download-new-token",null)):c(m)}),h.addEventListener("error",()=>u(new Error("Network Error"))),h.addEventListener("abort",()=>u(new Error("Abort"))),h.send()});var s},this._options=Object.assign({},Fr,i)}init(){return new Promise((e,i)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(i)})}refreshToken(){return this._refresh().then(e=>{this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout()}).then(()=>this)}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const i="string"==typeof e,s=!/^".*"$/.test(e),c=i&&3===e.split(".").length;if(!s||!c)throw new A("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:i}=JSON.parse(atob(e));return i?Math.floor((1e3*i-Date.now())/2):36e5}catch(e){return 36e5}}static create(e,i=Fr){return new Xc(e,i).init()}}Ae(Xc,je);const f0=Xc,t_=/^data:(\S*?);base64,/;class Xg{constructor(e,i,s){if(!e)throw new A("fileuploader-missing-file",null);if(!i)throw new A("fileuploader-missing-token",null);if(!s)throw new A("fileuploader-missing-api-address",null);this.file=function(c){if("string"!=typeof c)return!1;const u=c.match(t_);return!(!u||!u.length)}(e)?function(c,u=512){try{const h=c.match(t_)[1],g=atob(c.replace(t_,"")),m=[];for(let w=0;w<g.length;w+=u){const k=g.slice(w,w+u),v=new Array(k.length);for(let y=0;y<k.length;y++)v[y]=k.charCodeAt(y);m.push(new Uint8Array(v))}return new Blob(m,{type:h})}catch(h){throw new A("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=i,this._apiAddress=s}onProgress(e){return this.on("progress",(i,s)=>e(s)),this}onError(e){return this.once("error",(i,s)=>e(s)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this,i=this.xhr;function s(c){return()=>e.fire("error",c)}i.addEventListener("error",s("Network Error")),i.addEventListener("abort",s("Abort")),i.upload&&i.upload.addEventListener("progress",c=>{c.lengthComputable&&this.fire("progress",{total:c.total,uploaded:c.loaded})}),i.addEventListener("load",()=>{const c=i.status,u=i.response;if(c<200||c>299)return this.fire("error",u.message||u.error)})}_sendRequest(){const e=new FormData,i=this.xhr;return e.append("file",this.file),new Promise((s,c)=>{i.addEventListener("load",()=>{const u=i.status,h=i.response;return u<200||u>299?c(h.message?new A("fileuploader-uploading-data-failed",this,{message:h.message}):h.error):s(h)}),i.addEventListener("error",()=>c(new Error("Network Error"))),i.addEventListener("abort",()=>c(new Error("Abort"))),i.send(e)})}}Ae(Xg,ne);class YE{constructor(e,i){if(!e)throw new A("uploadgateway-missing-token",null);if(!i)throw new A("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=i}upload(e){return new Xg(e,this._token,this._apiAddress)}}class n_ extends Sl{static get pluginName(){return"CloudServicesCore"}createToken(e,i){return new f0(e,i)}createUploadGateway(e,i){return new YE(e,i)}}class el extends yf{}el.builtinPlugins=[class extends be{static get requires(){return[Wn,Cd,cw,rw,LE,vw]}static get pluginName(){return"Essentials"}},class extends be{static get requires(){return[ln]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const l=this.editor.config.get("ckfinder.uploadUrl");l&&(this.editor.plugins.get(ln).createUploadAdapter=e=>new ba(e,l,this.editor.t))}},class extends be{static get requires(){return[Ni]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const l=this.editor.commands;l.get("bulletedList")&&Oo(this.editor,this,/^[*-]\s$/,"bulletedList"),l.get("numberedList")&&Oo(this.editor,this,/^1[.|)]\s$/,"numberedList"),l.get("todoList")&&Oo(this.editor,this,/^\[\s?\]\s$/,"todoList"),l.get("checkTodoList")&&Oo(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const l=this.editor.commands;if(l.get("bold")){const e=tr(this.editor,"bold");fi(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),fi(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(l.get("italic")){const e=tr(this.editor,"italic");fi(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),fi(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(l.get("code")){const e=tr(this.editor,"code");fi(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(l.get("strikethrough")){const e=tr(this.editor,"strikethrough");fi(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const l=this.editor.commands.get("heading");l&&l.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const s=new RegExp(`^(#{${e[7]}})\\s$`);Oo(this.editor,this,s,()=>{if(!l.isEnabled||l.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Oo(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const l=this.editor,e=l.model.document.selection;l.commands.get("codeBlock")&&Oo(l,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Oo(this.editor,this,/^---$/,"horizontalLine")}},class extends be{static get requires(){return[wa,Cw]}static get pluginName(){return"Bold"}},class extends be{static get requires(){return[yw,Aw]}static get pluginName(){return"Italic"}},class extends be{static get requires(){return[Uy,Gy]}static get pluginName(){return"BlockQuote"}},class extends be{static get pluginName(){return"CKBox"}static get requires(){return[Uc,Ew]}},class extends be{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",HE,UE]}},class extends Sl{static get pluginName(){return"CloudServices"}static get requires(){return[n_]}init(){const l=this.context.config.get("cloudServices")||{};for(const e in l)this[e]=l[e];if(this._tokens=new Map,this.tokenUrl)return this.token=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl),this._tokens.set(this.tokenUrl,this.token),this.token.init();this.token=null}registerTokenUrl(l){if(this._tokens.has(l))return Promise.resolve(this.getTokenFor(l));const e=this.context.plugins.get("CloudServicesCore").createToken(l);return this._tokens.set(l,e),e.init()}getTokenFor(l){const e=this._tokens.get(l);if(!e)throw new A("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const l of this._tokens.values())l.destroy()}},class extends be{static get requires(){return[Yy,"ImageUpload"]}init(){const l=this.editor;l.plugins.has("ImageBlockEditing")||l.plugins.has("ImageInlineEditing")||Q("easy-image-image-feature-missing",l)}static get pluginName(){return"EasyImage"}},class extends be{static get requires(){return[eA,nA]}static get pluginName(){return"Heading"}},class extends be{static get requires(){return[Jf,aA]}static get pluginName(){return"Image"}},class extends be{static get requires(){return[eg,jw]}static get pluginName(){return"ImageCaption"}},class extends be{static get requires(){return[sg,Kw]}static get pluginName(){return"ImageStyle"}},class extends be{static get requires(){return[Fd,Ro]}static get pluginName(){return"ImageToolbar"}afterInit(){const l=this.editor,e=l.t,i=l.plugins.get(Fd),s=l.plugins.get("ImageUtils");var c;i.register("image",{ariaLabel:e("Image toolbar"),items:(c=l.config.get("image.toolbar")||[],c.map(u=>Pe(u)?u.name:u)),getRelatedElement:u=>s.getClosestSelectedImageWidget(u)})}},class extends be{static get pluginName(){return"ImageUpload"}static get requires(){return[hA,$E,bi]}},class extends be{static get pluginName(){return"Indent"}static get requires(){return[$c,fA]}},class extends be{static get requires(){return[bk,AA,ro]}static get pluginName(){return"Link"}},class extends be{static get requires(){return[TA,NA]}static get pluginName(){return"List"}},class extends be{static get requires(){return[Qd,BA,Sk,Lc]}static get pluginName(){return"MediaEmbed"}},_a,class extends be{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Zo]}init(){const l=this.editor,e=l.editing.view.document,i=[];i.push(new VA(e)),i.push(new LA(e)),l.plugins.get("ClipboardPipeline").on("inputTransformation",(s,c)=>{if(c._isTransformedWithPasteFromOffice||l.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const u=c.dataTransfer.getData("text/html"),h=i.find(g=>g.isActive(u));h&&(c._parsedData=function UA(l,e){const i=new DOMParser,s=Rk(Rk(function(m){const w="</body>",v=m.indexOf(w);if(v<0)return m;const y=m.indexOf("</html>",v+w.length);return m.substring(0,v+w.length)+(y>=0?m.substring(y):"")}(l=l.replace(/<!--\[if gte vml 1]>/g,"")))).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><"),c=i.parseFromString(s,"text/html");c.querySelectorAll("span[style*=spacerun]").forEach(w=>{const k=w.innerText.length||0;w.innerHTML=Array(k+1).join("\xa0 ").substr(0,k)});const u=c.body.innerHTML,h=function(m,w){const k=new Ci(w),v=new ac(k,{renderingMode:"data"}),y=m.createDocumentFragment(),F=m.body.childNodes;for(;F.length>0;)y.appendChild(F[0]);return v.domToView(y,{skipComments:!0})}(c,e),g=function(m){const w=[],k=[],v=Array.from(m.getElementsByTagName("style"));for(const y of v)y.sheet&&y.sheet.cssRules&&y.sheet.cssRules.length&&(w.push(y.sheet),k.push(y.innerHTML));return{styles:w,stylesString:k.join(" ")}}(c);return{body:h,bodyString:u,styles:g.styles,stylesString:g.stylesString}}(u,e.stylesProcessor),h.execute(c),c._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends be{static get requires(){return[Vd,Ro]}static get pluginName(){return"PictureEditing"}afterInit(){const l=this.editor;l.plugins.has("ImageBlockEditing")&&l.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),l.plugins.has("ImageInlineEditing")&&l.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const l=this.editor,e=l.conversion,i=l.plugins.get("ImageUtils");e.for("upcast").add(function(s){const c=["srcset","media","type","sizes"];return h=>{h.on("element:picture",u)};function u(h,g,m){const w=g.viewItem;if(!m.consumable.test(w,{name:!0}))return;const k=new Map;for(const F of w.getChildren())if(F.is("element","source")){const G={};for(const $ of c)F.hasAttribute($)&&m.consumable.test(F,{attributes:$})&&(G[$]=F.getAttribute($));Object.keys(G).length&&k.set(F,G)}const v=s.findViewImgElement(w);if(!v)return;let y=g.modelCursor.parent;if(!y.is("element","imageBlock")){const F=m.convertItem(v,g.modelCursor);g.modelRange=F.modelRange,g.modelCursor=F.modelCursor,y=vn(F.modelRange.getItems())}m.consumable.consume(w,{name:!0});for(const[F,G]of k)m.consumable.consume(F,{attributes:Object.keys(G)});k.size&&m.writer.setAttribute("sources",Array.from(k.values()),y),m.convertChildren(w,y)}}(i)),e.for("downcast").add(function(s){return u=>{u.on("attribute:sources:imageBlock",c),u.on("attribute:sources:imageInline",c)};function c(u,h,g){if(!g.consumable.consume(h.item,u.name))return;const m=g.writer,w=g.mapper.toViewElement(h.item),k=s.findViewImgElement(w);if(h.attributeNewValue&&h.attributeNewValue.length){const v=m.createContainerElement("picture",null,h.attributeNewValue.map(G=>m.createEmptyElement("source",G))),y=[];let F=k.parent;for(;F&&F.is("attributeElement");){const G=F.parent;m.unwrap(m.createRangeOn(k),F),y.unshift(F),F=G}m.insert(m.createPositionBefore(k),v),m.move(m.createRangeOn(k),m.createPositionAt(v,"end"));for(const G of y)m.wrap(m.createRangeOn(v),G)}else if(k.parent.is("element","picture")){const v=k.parent;m.move(m.createRangeOn(k),m.createPositionBefore(v)),m.remove(v)}}}(i))}_setupImageUploadEditingIntegration(){const l=this.editor;l.plugins.has("ImageUploadEditing")&&this.listenTo(l.plugins.get("ImageUploadEditing"),"uploadComplete",(e,{imageElement:i,data:s})=>{const c=s.sources;c&&l.model.change(u=>{u.setAttributes({sources:c},i)})})}},class extends be{static get requires(){return[_o,o0,or,Yg,a0,eu,Lc]}static get pluginName(){return"Table"}},class extends be{static get requires(){return[Fd]}static get pluginName(){return"TableToolbar"}afterInit(){const l=this.editor,e=l.t,i=l.plugins.get(Fd),s=l.config.get("table.contentToolbar"),c=l.config.get("table.tableToolbar");s&&i.register("tableContent",{ariaLabel:e("Table toolbar"),items:s,getRelatedElement:ir}),c&&i.register("table",{ariaLabel:e("Table toolbar"),items:c,getRelatedElement:u0})}},class extends be{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(l){super(l),l.config.define("typing",{transformations:{include:jE}})}init(){const l=this.editor.model.document.selection;l.on("change:range",()=>{this.isEnabled=!l.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const l=this.editor,e=l.model,i=l.plugins.get("Delete"),s=function(u){const g=u.remove||[],m=w=>!g.includes(w);return function(w){const k=new Set;for(const v of w)if(mw[v])for(const y of mw[v])k.add(y);else k.add(v);return Array.from(k)}(u.include.concat(u.extra||[]).filter(m)).filter(m).map(w=>pw[w]||w).filter(w=>"object"==typeof w).map(w=>({from:bw(w.from),to:Mt(w.to)}))}(l.config.get("typing.transformations")),c=new Rf(l.model,u=>{for(const h of s)if(h.from.test(u))return{normalizedTransformation:h}});c.on("matched:data",(u,h)=>{if(!h.batch.isTyping)return;const{from:g,to:m}=h.normalizedTransformation,w=g.exec(h.text),k=m(w.slice(1)),v=h.range;let y=w.index;e.enqueueChange(F=>{for(let G=1;G<w.length;G++){const $=w[G],K=k[G-1];if(null==K){y+=$.length;continue}const Y=v.start.getShiftedBy(y),ee=e.createRange(Y,Y.getShiftedBy($.length)),ce=Fy(Y);e.insertContent(F.createText(K,ce),ee),y+=K.length}e.enqueueChange(()=>{i.requestUndoOnBackspace()})})}),c.bind("isEnabled").to(this)}}],el.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","uploadImage","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),O.default})())()},749:(S,R,V)=>{"use strict";function x(t){return"function"==typeof t}function D(t){const r=t(a=>{Error.call(a),a.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const M=D(t=>function(r){t(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((a,d)=>`${d+1}) ${a.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function P(t,n){if(t){const r=t.indexOf(n);0<=r&&t.splice(r,1)}}class O{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const f of r)f.remove(this);else r.remove(this);const{initialTeardown:a}=this;if(x(a))try{a()}catch(f){n=f instanceof M?f.errors:[f]}const{_finalizers:d}=this;if(d){this._finalizers=null;for(const f of d)try{E(f)}catch(p){n=null!=n?n:[],p instanceof M?n=[...n,...p.errors]:n.push(p)}}if(n)throw new M(n)}}add(n){var r;if(n&&n!==this)if(this.closed)E(n);else{if(n instanceof O){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(n)}}_hasParent(n){const{_parentage:r}=this;return r===n||Array.isArray(r)&&r.includes(n)}_addParent(n){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(n),r):r?[r,n]:n}_removeParent(n){const{_parentage:r}=this;r===n?this._parentage=null:Array.isArray(r)&&P(r,n)}remove(n){const{_finalizers:r}=this;r&&P(r,n),n instanceof O&&n._removeParent(this)}}O.EMPTY=(()=>{const t=new O;return t.closed=!0,t})();const B=O.EMPTY;function I(t){return t instanceof O||t&&"closed"in t&&x(t.remove)&&x(t.add)&&x(t.unsubscribe)}function E(t){x(t)?t():t.unsubscribe()}const U={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},L={setTimeout(t,n,...r){const{delegate:a}=L;return(null==a?void 0:a.setTimeout)?a.setTimeout(t,n,...r):setTimeout(t,n,...r)},clearTimeout(t){const{delegate:n}=L;return((null==n?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function z(t){L.setTimeout(()=>{const{onUnhandledError:n}=U;if(!n)throw t;n(t)})}function A(){}const Q=we("C",void 0,void 0);function we(t,n,r){return{kind:t,value:n,error:r}}let te=null;function ye(t){if(U.useDeprecatedSynchronousErrorHandling){const n=!te;if(n&&(te={errorThrown:!1,error:null}),t(),n){const{errorThrown:r,error:a}=te;if(te=null,r)throw a}}else t()}class ue extends O{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,I(n)&&n.add(this)):this.destination=De}static create(n,r,a){return new se(n,r,a)}next(n){this.isStopped?Se(function ve(t){return we("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Se(function J(t){return we("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Se(Q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ge=Function.prototype.bind;function _e(t,n){return ge.call(t,n)}class ne{constructor(n){this.partialObserver=n}next(n){const{partialObserver:r}=this;if(r.next)try{r.next(n)}catch(a){pe(a)}}error(n){const{partialObserver:r}=this;if(r.error)try{r.error(n)}catch(a){pe(a)}else pe(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(r){pe(r)}}}class se extends ue{constructor(n,r,a){let d;if(super(),x(n)||!n)d={next:null!=n?n:void 0,error:null!=r?r:void 0,complete:null!=a?a:void 0};else{let f;this&&U.useDeprecatedNextContext?(f=Object.create(n),f.unsubscribe=()=>this.unsubscribe(),d={next:n.next&&_e(n.next,f),error:n.error&&_e(n.error,f),complete:n.complete&&_e(n.complete,f)}):d=n}this.destination=new ne(d)}}function pe(t){U.useDeprecatedSynchronousErrorHandling?function ke(t){U.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=t)}(t):z(t)}function Se(t,n){const{onStoppedNotification:r}=U;r&&L.setTimeout(()=>r(t,n))}const De={closed:!0,next:A,error:function me(t){throw t},complete:A},Re="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ee(t){return t}let Be=(()=>{class t{constructor(r){r&&(this._subscribe=r)}lift(r){const a=new t;return a.source=this,a.operator=r,a}subscribe(r,a,d){const f=function Fn(t){return t&&t instanceof ue||function Yt(t){return t&&x(t.next)&&x(t.error)&&x(t.complete)}(t)&&I(t)}(r)?r:new se(r,a,d);return ye(()=>{const{operator:p,source:b}=this;f.add(p?p.call(f,b):b?this._subscribe(f):this._trySubscribe(f))}),f}_trySubscribe(r){try{return this._subscribe(r)}catch(a){r.error(a)}}forEach(r,a){return new(a=St(a))((d,f)=>{const p=new se({next:b=>{try{r(b)}catch(_){f(_),p.unsubscribe()}},error:f,complete:d});this.subscribe(p)})}_subscribe(r){var a;return null===(a=this.source)||void 0===a?void 0:a.subscribe(r)}[Re](){return this}pipe(...r){return function Ve(t){return 0===t.length?Ee:1===t.length?t[0]:function(r){return t.reduce((a,d)=>d(a),r)}}(r)(this)}toPromise(r){return new(r=St(r))((a,d)=>{let f;this.subscribe(p=>f=p,p=>d(p),()=>a(f))})}}return t.create=n=>new t(n),t})();function St(t){var n;return null!==(n=null!=t?t:U.Promise)&&void 0!==n?n:Promise}const hn=D(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let je=(()=>{class t extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const a=new yn(this,this);return a.operator=r,a}_throwIfClosed(){if(this.closed)throw new hn}next(r){ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const a of this.currentObservers)a.next(r)}})}error(r){ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:a}=this;for(;a.length;)a.shift().error(r)}})}complete(){ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:a,isStopped:d,observers:f}=this;return a||d?B:(this.currentObservers=null,f.push(r),new O(()=>{this.currentObservers=null,P(f,r)}))}_checkFinalizedStatuses(r){const{hasError:a,thrownError:d,isStopped:f}=this;a?r.error(d):f&&r.complete()}asObservable(){const r=new Be;return r.source=this,r}}return t.create=(n,r)=>new yn(n,r),t})();class yn extends je{constructor(n,r){super(),this.destination=n,this.source=r}next(n){var r,a;null===(a=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===a||a.call(r,n)}error(n){var r,a;null===(a=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===a||a.call(r,n)}complete(){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===r||r.call(n)}_subscribe(n){var r,a;return null!==(a=null===(r=this.source)||void 0===r?void 0:r.subscribe(n))&&void 0!==a?a:B}}function Vr(t){return x(null==t?void 0:t.lift)}function ot(t){return n=>{if(Vr(n))return n.lift(function(r){try{return t(r,this)}catch(a){this.error(a)}});throw new TypeError("Unable to lift unknown Observable type")}}function an(t,n,r,a,d){return new ni(t,n,r,a,d)}class ni extends ue{constructor(n,r,a,d,f,p){super(n),this.onFinalize=f,this.shouldUnsubscribe=p,this._next=r?function(b){try{r(b)}catch(_){n.error(_)}}:super._next,this._error=d?function(b){try{d(b)}catch(_){n.error(_)}finally{this.unsubscribe()}}:super._error,this._complete=a?function(){try{a()}catch(b){n.error(b)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Ae(t,n){return ot((r,a)=>{let d=0;r.subscribe(an(a,f=>{a.next(t.call(n,f,d++))}))})}function Yn(t,n,r,a){return new(r||(r=Promise))(function(f,p){function b(T){try{C(a.next(T))}catch(j){p(j)}}function _(T){try{C(a.throw(T))}catch(j){p(j)}}function C(T){T.done?f(T.value):function d(f){return f instanceof r?f:new r(function(p){p(f)})}(T.value).then(b,_)}C((a=a.apply(t,n||[])).next())})}function fr(t){return this instanceof fr?(this.v=t,this):new fr(t)}function gr(t,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d,a=r.apply(t,n||[]),f=[];return d={},p("next"),p("throw"),p("return"),d[Symbol.asyncIterator]=function(){return this},d;function p(q){a[q]&&(d[q]=function(Z){return new Promise(function(X,re){f.push([q,Z,X,re])>1||b(q,Z)})})}function b(q,Z){try{!function _(q){q.value instanceof fr?Promise.resolve(q.value.v).then(C,T):j(f[0][2],q)}(a[q](Z))}catch(X){j(f[0][3],X)}}function C(q){b("next",q)}function T(q){b("throw",q)}function j(q,Z){q(Z),f.shift(),f.length&&b(f[0][0],f[0][1])}}function _u(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Tp(t){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&t[n],a=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(f){r[f]=t[f]&&function(p){return new Promise(function(b,_){!function d(f,p,b,_){Promise.resolve(_).then(function(C){f({value:C,done:b})},p)}(b,_,(p=t[f](p)).done,p.value)})}}}const Np=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Ss(t){return x(null==t?void 0:t.then)}function ja(t){return x(t[Re])}function Pp(t){return Symbol.asyncIterator&&x(null==t?void 0:t[Symbol.asyncIterator])}function Op(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Rp=function gv(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Bp(t){return x(null==t?void 0:t[Rp])}function Ur(t){return gr(this,arguments,function*(){const r=t.getReader();try{for(;;){const{value:a,done:d}=yield fr(r.read());if(d)return yield fr(void 0);yield yield fr(a)}}finally{r.releaseLock()}})}function za(t){return x(null==t?void 0:t.getReader)}function ii(t){if(t instanceof Be)return t;if(null!=t){if(ja(t))return function pv(t){return new Be(n=>{const r=t[Re]();if(x(r.subscribe))return r.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Np(t))return function mv(t){return new Be(n=>{for(let r=0;r<t.length&&!n.closed;r++)n.next(t[r]);n.complete()})}(t);if(Ss(t))return function bv(t){return new Be(n=>{t.then(r=>{n.closed||(n.next(r),n.complete())},r=>n.error(r)).then(null,z)})}(t);if(Pp(t))return kl(t);if(Bp(t))return function Hr(t){return new Be(n=>{for(const r of t)if(n.next(r),n.closed)return;n.complete()})}(t);if(za(t))return function Fp(t){return kl(Ur(t))}(t)}throw Op(t)}function kl(t){return new Be(n=>{(function wv(t,n){var r,a,d,f;return Yn(this,void 0,void 0,function*(){try{for(r=_u(t);!(a=yield r.next()).done;)if(n.next(a.value),n.closed)return}catch(p){d={error:p}}finally{try{a&&!a.done&&(f=r.return)&&(yield f.call(r))}finally{if(d)throw d.error}}n.complete()})})(t,n).catch(r=>n.error(r))})}function Vi(t,n,r,a=0,d=!1){const f=n.schedule(function(){r(),d?t.add(this.schedule(null,a)):this.unsubscribe()},a);if(t.add(f),!d)return f}function An(t,n,r=1/0){return x(n)?An((a,d)=>Ae((f,p)=>n(a,f,d,p))(ii(t(a,d))),r):("number"==typeof n&&(r=n),ot((a,d)=>function Gr(t,n,r,a,d,f,p,b){const _=[];let C=0,T=0,j=!1;const q=()=>{j&&!_.length&&!C&&n.complete()},Z=re=>C<a?X(re):_.push(re),X=re=>{f&&n.next(re),C++;let de=!1;ii(r(re,T++)).subscribe(an(n,le=>{null==d||d(le),f?Z(le):n.next(le)},()=>{de=!0},void 0,()=>{if(de)try{for(C--;_.length&&C<a;){const le=_.shift();p?Vi(n,p,()=>X(le)):X(le)}q()}catch(le){n.error(le)}}))};return t.subscribe(an(n,Z,()=>{j=!0,q()})),()=>{null==b||b()}}(a,d,t,r)))}function Va(t=1/0){return An(Ee,t)}const Ui=new Be(t=>t.complete());function vu(t){return t[t.length-1]}function Lp(t){return x(vu(t))?t.pop():void 0}function ri(t){return function _v(t){return t&&x(t.schedule)}(vu(t))?t.pop():void 0}function Ts(t,n=0){return ot((r,a)=>{r.subscribe(an(a,d=>Vi(a,t,()=>a.next(d),n),()=>Vi(a,t,()=>a.complete(),n),d=>Vi(a,t,()=>a.error(d),n)))})}function jp(t,n=0){return ot((r,a)=>{a.add(t.schedule(()=>r.subscribe(a),n))})}function zp(t,n){if(!t)throw new Error("Iterable cannot be null");return new Be(r=>{Vi(r,n,()=>{const a=t[Symbol.asyncIterator]();Vi(r,n,()=>{a.next().then(d=>{d.done?r.complete():r.next(d.value)})},0,!0)})})}function Dn(t,n){return n?function Ns(t,n){if(null!=t){if(ja(t))return function vv(t,n){return ii(t).pipe(jp(n),Ts(n))}(t,n);if(Np(t))return function yv(t,n){return new Be(r=>{let a=0;return n.schedule(function(){a===t.length?r.complete():(r.next(t[a++]),r.closed||this.schedule())})})}(t,n);if(Ss(t))return function Cv(t,n){return ii(t).pipe(jp(n),Ts(n))}(t,n);if(Pp(t))return zp(t,n);if(Bp(t))return function Av(t,n){return new Be(r=>{let a;return Vi(r,n,()=>{a=t[Rp](),Vi(r,n,()=>{let d,f;try{({value:d,done:f}=a.next())}catch(p){return void r.error(p)}f?r.complete():r.next(d)},0,!0)}),()=>x(null==a?void 0:a.return)&&a.return()})}(t,n);if(za(t))return function Dv(t,n){return zp(Ur(t),n)}(t,n)}throw Op(t)}(t,n):ii(t)}function Ps(t,n,...r){if(!0===n)return void t();if(!1===n)return;const a=new se({next:()=>{a.unsubscribe(),t()}});return n(...r).subscribe(a)}function Rt(t){for(let n in t)if(t[n]===Rt)return n;throw Error("Could not find renamed property on target object.")}function Cu(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function Et(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Et).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function yu(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Os=Rt({__forward_ref__:Rt});function vt(t){return t.__forward_ref__=vt,t.toString=function(){return Et(this())},t}function et(t){return $r(t)?t():t}function $r(t){return"function"==typeof t&&t.hasOwnProperty(Os)&&t.__forward_ref__===vt}class pt extends Error{constructor(n,r){super(function Rs(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,r)),this.code=n}}function qe(t){return"string"==typeof t?t:null==t?"":String(t)}function Nn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():qe(t)}function Ga(t,n){const r=n?` in ${n}`:"";throw new pt(-201,`No provider for ${Nn(t)} found${r}`)}function dt(t,n){null==t&&function Bt(t,n,r,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${r} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Ge(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jn(t){return{providers:t.providers||[],imports:t.imports||[]}}function qa(t){return Hp(t,yl)||Hp(t,$p)}function Hp(t,n){return t.hasOwnProperty(n)?t[n]:null}function Cl(t){return t&&(t.hasOwnProperty(Eu)||t.hasOwnProperty(Al))?t[Eu]:null}const yl=Rt({\u0275prov:Rt}),Eu=Rt({\u0275inj:Rt}),$p=Rt({ngInjectableDef:Rt}),Al=Rt({ngInjectorDef:Rt});var $e=(()=>(($e=$e||{})[$e.Default=0]="Default",$e[$e.Host=1]="Host",$e[$e.Self=2]="Self",$e[$e.SkipSelf=4]="SkipSelf",$e[$e.Optional=8]="Optional",$e))();let xu;function pr(t){const n=xu;return xu=t,n}function Wp(t,n,r){const a=qa(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:r&$e.Optional?null:void 0!==n?n:void Ga(Et(t),"Injector")}function mr(t){return{toString:t}.toString()}var jo=(()=>((jo=jo||{})[jo.OnPush=0]="OnPush",jo[jo.Default=1]="Default",jo))(),si=(()=>{return(t=si||(si={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",si;var t})();const qp="undefined"!=typeof globalThis&&globalThis,Qp="undefined"!=typeof window&&window,Lv="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Tt=qp||"undefined"!=typeof global&&global||Qp||Lv,Bs={},Nt=[],Za=Rt({\u0275cmp:Rt}),Mu=Rt({\u0275dir:Rt}),Dl=Rt({\u0275pipe:Rt}),El=Rt({\u0275mod:Rt}),Hi=Rt({\u0275fac:Rt}),Wr=Rt({__NG_ELEMENT_ID__:Rt});let Iu=0;function zo(t){return mr(()=>{const r={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===jo.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Nt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||si.Emulated,id:"c",styles:t.styles||Nt,_:null,setInput:null,schemas:t.schemas||null,tView:null},d=t.directives,f=t.features,p=t.pipes;return a.id+=Iu++,a.inputs=Yp(t.inputs,r),a.outputs=Yp(t.outputs),f&&f.forEach(b=>b(a)),a.directiveDefs=d?()=>("function"==typeof d?d():d).map(Tu):null,a.pipeDefs=p?()=>("function"==typeof p?p():p).map(Nu):null,a})}function Tu(t){return Ln(t)||function br(t){return t[Mu]||null}(t)}function Nu(t){return function Do(t){return t[Dl]||null}(t)}const Pu={};function lo(t){return mr(()=>{const n={type:t.type,bootstrap:t.bootstrap||Nt,declarations:t.declarations||Nt,imports:t.imports||Nt,exports:t.exports||Nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Pu[t.id]=t.type),n})}function Yp(t,n){if(null==t)return Bs;const r={};for(const a in t)if(t.hasOwnProperty(a)){let d=t[a],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),r[d]=a,n&&(n[d]=f)}return r}const Ue=zo;function Ln(t){return t[Za]||null}function jn(t,n){const r=t[El]||null;if(!r&&!0===n)throw new Error(`Type ${Et(t)} does not have '\u0275mod' property.`);return r}function _i(t){return Array.isArray(t)&&"object"==typeof t[1]}function nn(t){return Array.isArray(t)&&!0===t[1]}function Il(t){return 0!=(8&t.flags)}function fo(t){return 2==(2&t.flags)}function Vs(t){return 1==(1&t.flags)}function Pt(t){return null!==t.template}function Uv(t){return 0!=(512&t[2])}function Zr(t,n){return t.hasOwnProperty(Hi)?t[Hi]:null}class Wv{constructor(n,r,a){this.previousValue=n,this.currentValue=r,this.firstChange=a}isFirstChange(){return this.firstChange}}function Uo(){return Bu}function Bu(t){return t.type.prototype.ngOnChanges&&(t.setInput=qv),om}function om(){const t=Nl(this),n=null==t?void 0:t.current;if(n){const r=t.previous;if(r===Bs)t.previous=n;else for(let a in n)r[a]=n[a];t.current=null,this.ngOnChanges(n)}}function qv(t,n,r,a){const d=Nl(t)||function Qv(t,n){return t[Tl]=n}(t,{previous:Bs,current:null}),f=d.current||(d.current={}),p=d.previous,b=this.declaredInputs[r],_=p[b];f[b]=new Wv(_&&_.currentValue,n,p===Bs),t[a]=n}Uo.ngInherit=!0;const Tl="__ngSimpleChanges__";function Nl(t){return t[Tl]||null}let zu;function on(t){return!!t.listen}const rm={createRenderer:(t,n)=>function Xa(){return void 0!==zu?zu:"undefined"!=typeof document?document:void 0}()};function fn(t){for(;Array.isArray(t);)t=t[0];return t}function Ol(t,n){return fn(n[t])}function Ho(t,n){return fn(n[t.index])}function am(t,n){return t.data[n]}function Io(t,n){const r=n[t];return _i(r)?r:r[0]}function Rl(t){return 128==(128&t[2])}function yr(t,n){return null==n?null:t[n]}function dm(t){t[18]=0}function Vu(t,n){t[5]+=n;let r=t,a=t[3];for(;null!==a&&(1===n&&1===r[5]||-1===n&&0===r[5]);)a[5]+=n,r=a,a=a[3]}const Ye={lFrame:ai(null),bindingsEnabled:!0};function Uu(){return Ye.bindingsEnabled}function fe(){return Ye.lFrame.lView}function it(){return Ye.lFrame.tView}function Te(){let t=ec();for(;null!==t&&64===t.type;)t=t.parent;return t}function ec(){return Ye.lFrame.currentTNode}function gn(t,n){const r=Ye.lFrame;r.currentTNode=t,r.isParent=n}function tc(){return Ye.lFrame.isParent}function Ci(){return Ye.lFrame.bindingIndex++}function pm(t,n){const r=Ye.lFrame;r.bindingIndex=r.bindingRootIndex=t,Wi(n)}function Wi(t){Ye.lFrame.currentDirectiveIndex=t}function Vl(t){Ye.lFrame.currentQueryIndex=t}function tC(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function mm(t,n,r){if(r&$e.SkipSelf){let d=n,f=t;for(;!(d=d.parent,null!==d||r&$e.Host||(d=tC(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;n=d,t=f}const a=Ye.lFrame=bm();return a.currentTNode=n,a.lView=t,!0}function Xe(t){const n=bm(),r=t[1];Ye.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function bm(){const t=Ye.lFrame,n=null===t?null:t.child;return null===n?ai(t):n}function ai(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ul(){const t=Ye.lFrame;return Ye.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Gu=Ul;function Gs(){const t=Ul();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function eo(){return Ye.lFrame.selectedIndex}function qi(t){Ye.lFrame.selectedIndex=t}function nc(t,n){for(let r=n.directiveStart,a=n.directiveEnd;r<a;r++){const f=t.data[r].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:b,ngAfterViewInit:_,ngAfterViewChecked:C,ngOnDestroy:T}=f;p&&(t.contentHooks||(t.contentHooks=[])).push(-r,p),b&&((t.contentHooks||(t.contentHooks=[])).push(r,b),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(r,b)),_&&(t.viewHooks||(t.viewHooks=[])).push(-r,_),C&&((t.viewHooks||(t.viewHooks=[])).push(r,C),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(r,C)),null!=T&&(t.destroyHooks||(t.destroyHooks=[])).push(r,T)}}function oc(t,n,r){$s(t,n,3,r)}function Hl(t,n,r,a){(3&t[2])===r&&$s(t,n,r,a)}function ic(t,n){let r=t[2];(3&r)===n&&(r&=2047,r+=1,t[2]=r)}function $s(t,n,r,a){const f=null!=a?a:-1,p=n.length-1;let b=0;for(let _=void 0!==a?65535&t[18]:0;_<p;_++)if("number"==typeof n[_+1]){if(b=n[_],null!=a&&b>=a)break}else n[_]<0&&(t[18]+=65536),(b<f||-1==f)&&(_m(t,r,n,_),t[18]=(4294901760&t[18])+_+2),_++}function _m(t,n,r,a){const d=r[a]<0,f=r[a+1],b=t[d?-r[a]:r[a]];if(d){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{f.call(b)}finally{}}}else try{f.call(b)}finally{}}class Ws{constructor(n,r,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=a}}function rc(t,n,r){const a=on(t);let d=0;for(;d<r.length;){const f=r[d];if("number"==typeof f){if(0!==f)break;d++;const p=r[d++],b=r[d++],_=r[d++];a?t.setAttribute(n,b,_,p):n.setAttributeNS(p,b,_)}else{const p=f,b=r[++d];yi(p)?a&&t.setProperty(n,p,b):a?t.setAttribute(n,p,b):n.setAttribute(p,b),d++}}return d}function Zu(t){return 3===t||4===t||6===t}function yi(t){return 64===t.charCodeAt(0)}function sc(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let a=0;a<n.length;a++){const d=n[a];"number"==typeof d?r=d:0===r||Ku(t,r,d,null,-1===r||2===r?n[++a]:null)}}return t}function Ku(t,n,r,a,d){let f=0,p=t.length;if(-1===n)p=-1;else for(;f<t.length;){const b=t[f++];if("number"==typeof b){if(b===n){p=-1;break}if(b>n){p=f-1;break}}}for(;f<t.length;){const b=t[f];if("number"==typeof b)break;if(b===r){if(null===a)return void(null!==d&&(t[f+1]=d));if(a===t[f+1])return void(t[f+2]=d)}f++,null!==a&&f++,null!==d&&f++}-1!==p&&(t.splice(p,0,n),f=p+1),t.splice(f++,0,r),null!==a&&t.splice(f++,0,a),null!==d&&t.splice(f++,0,d)}function es(t){return-1!==t}function ci(t){return 32767&t}function Fe(t,n){let r=function rC(t){return t>>16}(t),a=n;for(;r>0;)a=a[15],r--;return a}let $l=!0;function Wl(t){const n=$l;return $l=t,n}let aC=0;function ts(t,n){const r=Xu(t,n);if(-1!==r)return r;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,ql(a.data,t),ql(n,null),ql(a.blueprint,null));const d=Ql(t,n),f=t.injectorIndex;if(es(d)){const p=ci(d),b=Fe(d,n),_=b[1].data;for(let C=0;C<8;C++)n[f+C]=b[p+C]|_[p+C]}return n[f+8]=d,f}function ql(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Xu(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ql(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,a=null,d=n;for(;null!==d;){const f=d[1],p=f.type;if(a=2===p?f.declTNode:1===p?d[6]:null,null===a)return-1;if(r++,d=d[15],-1!==a.injectorIndex)return a.injectorIndex|r<<16}return-1}function Zl(t,n,r){!function Vt(t,n,r){let a;"string"==typeof r?a=r.charCodeAt(0)||0:r.hasOwnProperty(Wr)&&(a=r[Wr]),null==a&&(a=r[Wr]=aC++);const d=255&a;n.data[t+(d>>5)]|=1<<d}(t,n,r)}function eh(t,n,r){if(r&$e.Optional)return t;Ga(n,"NodeInjector")}function ac(t,n,r,a){if(r&$e.Optional&&void 0===a&&(a=null),0==(r&($e.Self|$e.Host))){const d=t[9],f=pr(void 0);try{return d?d.get(n,a,r&$e.Optional):Wp(n,a,r&$e.Optional)}finally{pr(f)}}return eh(a,n,r)}function th(t,n,r,a=$e.Default,d){if(null!==t){const f=function lc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Wr)?t[Wr]:void 0;return"number"==typeof n?n>=0?255&n:ym:n}(r);if("function"==typeof f){if(!mm(n,t,a))return a&$e.Host?eh(d,r,a):ac(n,r,a,d);try{const p=f(a);if(null!=p||a&$e.Optional)return p;Ga(r)}finally{Gu()}}else if("number"==typeof f){let p=null,b=Xu(t,n),_=-1,C=a&$e.Host?n[16][6]:null;for((-1===b||a&$e.SkipSelf)&&(_=-1===b?Ql(t,n):n[b+8],-1!==_&&ih(a,!1)?(p=n[1],b=ci(_),n=Fe(_,n)):b=-1);-1!==b;){const T=n[1];if(oh(f,b,T.data)){const j=Yl(b,n,r,p,a,C);if(j!==nh)return j}_=n[b+8],-1!==_&&ih(a,n[1].data[b+8]===C)&&oh(f,b,n)?(p=T,b=ci(_),n=Fe(_,n)):b=-1}}}return ac(n,r,a,d)}const nh={};function ym(){return new no(Te(),fe())}function Yl(t,n,r,a,d,f){const p=n[1],b=p.data[t+8],T=function qs(t,n,r,a,d){const f=t.providerIndexes,p=n.data,b=1048575&f,_=t.directiveStart,T=f>>20,q=d?b+T:t.directiveEnd;for(let Z=a?b:b+T;Z<q;Z++){const X=p[Z];if(Z<_&&r===X||Z>=_&&X.type===r)return Z}if(d){const Z=p[_];if(Z&&Pt(Z)&&Z.type===r)return _}return null}(b,p,r,null==a?fo(b)&&$l:a!=p&&0!=(3&b.type),d&$e.Host&&f===b);return null!==T?cc(n,p,T,b):nh}function cc(t,n,r,a){let d=t[r];const f=n.data;if(function vm(t){return t instanceof Ws}(d)){const p=d;p.resolving&&function Au(t,n){const r=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new pt(-200,`Circular dependency in DI detected for ${t}${r}`)}(Nn(f[r]));const b=Wl(p.canSeeViewProviders);p.resolving=!0;const _=p.injectImpl?pr(p.injectImpl):null;mm(t,a,$e.Default);try{d=t[r]=p.factory(void 0,f,t,a),n.firstCreatePass&&r>=a.directiveStart&&function qu(t,n,r){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:f}=n.type.prototype;if(a){const p=Bu(n);(r.preOrderHooks||(r.preOrderHooks=[])).push(t,p),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t,p)}d&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-t,d),f&&((r.preOrderHooks||(r.preOrderHooks=[])).push(t,f),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t,f))}(r,f[r],n)}finally{null!==_&&pr(_),Wl(b),p.resolving=!1,Gu()}}return d}function oh(t,n,r){return!!(r[n+(t>>5)]&1<<t)}function ih(t,n){return!(t&$e.Self||t&$e.Host&&n)}class no{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,a){return th(this._tNode,this._lView,n,a,r)}}function rh(t){return $r(t)?()=>{const n=rh(et(t));return n&&n()}:Zr(t)}const Zs="__parameters__";function Ys(t,n,r){return mr(()=>{const a=function ah(t){return function(...r){if(t){const a=t(...r);for(const d in a)this[d]=a[d]}}}(n);function d(...f){if(this instanceof d)return a.apply(this,f),this;const p=new d(...f);return b.annotation=p,b;function b(_,C,T){const j=_.hasOwnProperty(Zs)?_[Zs]:Object.defineProperty(_,Zs,{value:[]})[Zs];for(;j.length<=T;)j.push(null);return(j[T]=j[T]||[]).push(p),_}}return r&&(d.prototype=Object.create(r.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}class nt{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Ge({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}toString(){return`InjectionToken ${this._desc}`}}const lC=new nt("AnalyzeForEntryComponents");function Ai(t,n){t.forEach(r=>Array.isArray(r)?Ai(r,n):n(r))}function Am(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function Jl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Un(t,n,r){let a=Xs(t,n);return a>=0?t[1|a]=r:(a=~a,function gC(t,n,r,a){let d=t.length;if(d==n)t.push(r,a);else if(1===d)t.push(a,t[0]),t[0]=r;else{for(d--,t.push(t[d-1],t[d]);d>n;)t[d]=t[d-2],d--;t[n]=r,t[n+1]=a}}(t,a,n,r)),a}function uh(t,n){const r=Xs(t,n);if(r>=0)return t[1|r]}function Xs(t,n){return function xm(t,n,r){let a=0,d=t.length>>r;for(;d!==a;){const f=a+(d-a>>1),p=t[f<<r];if(n===p)return f<<r;p>n?d=f:a=f+1}return~(d<<r)}(t,n,1)}const fc={},hh="__NG_DI_FLAG__",ns="ngTempTokenPath",Tm=/\n/gm,gc="__source",Nm=Rt({provide:String,useValue:Rt});let ea;function Pm(t){const n=ea;return ea=t,n}function wC(t,n=$e.Default){if(void 0===ea)throw new pt(203,"");return null===ea?Wp(t,void 0,n):ea.get(t,n&$e.Optional?null:void 0,n)}function Ne(t,n=$e.Default){return(function Rv(){return xu}()||wC)(et(t),n)}const Om=Ne;function Xl(t){const n=[];for(let r=0;r<t.length;r++){const a=et(t[r]);if(Array.isArray(a)){if(0===a.length)throw new pt(900,"");let d,f=$e.Default;for(let p=0;p<a.length;p++){const b=a[p],_=kC(b);"number"==typeof _?-1===_?d=b.token:f|=_:d=b}n.push(Ne(d,f))}else n.push(Ne(a))}return n}function os(t,n){return t[hh]=n,t.prototype[hh]=n,t}function kC(t){return t[hh]}const Di=os(Ys("Inject",t=>({token:t})),-1),mt=os(Ys("Optional"),8),Ei=os(Ys("SkipSelf"),4);class zm{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ki(t){return t instanceof zm?t.changingThisBreaksApplicationSecurity:t}const wh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Zm=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var bn=(()=>((bn=bn||{})[bn.NONE=0]="NONE",bn[bn.HTML=1]="HTML",bn[bn.STYLE=2]="STYLE",bn[bn.SCRIPT=3]="SCRIPT",bn[bn.URL=4]="URL",bn[bn.RESOURCE_URL=5]="RESOURCE_URL",bn))();function Mi(t){const n=function ia(){const t=fe();return t&&t[12]}();return n?n.sanitize(bn.URL,t)||"":function rs(t,n){const r=function $m(t){return t instanceof zm&&t.getTypeName()||null}(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===n}(t,"URL")?Ki(t):function kc(t){return(t=String(t)).match(wh)||t.match(Zm)?t:"unsafe:"+t}(qe(t))}const At="__ngContext__";function wt(t,n){t[At]=n}function Gn(t){const n=function xn(t){return t[At]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Sh(t){return t.ngOriginalError}function FC(t,...n){t.error(...n)}class ra{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n),a=function BC(t){return t&&t.ngErrorLogger||FC}(n);a(this._console,"ERROR",n),r&&a(this._console,"ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&Sh(n);for(;r&&Sh(r);)r=Sh(r);return r||null}}const Pn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tt))();function Ii(t){return t instanceof Function?t():t}var mo=(()=>((mo=mo||{})[mo.Important=1]="Important",mo[mo.DashCase=2]="DashCase",mo))();function sd(t,n){return undefined(t,n)}function Ac(t){const n=t[3];return nn(n)?n[3]:n}function Rh(t){return Fh(t[13])}function Bh(t){return Fh(t[4])}function Fh(t){for(;null!==t&&!nn(t);)t=t[4];return t}function cs(t,n,r,a,d){if(null!=a){let f,p=!1;nn(a)?f=a:_i(a)&&(p=!0,a=a[0]);const b=fn(a);0===t&&null!==r?null==d?wo(n,r,b):Qe(n,r,b,d||null,!0):1===t&&null!==r?Qe(n,r,b,d||null,!0):2===t?function qh(t,n,r){const a=xc(t,n);a&&function YC(t,n,r,a){on(t)?t.removeChild(n,r,a):n.removeChild(r)}(t,a,n,r)}(n,b,p):3===t&&n.destroyNode(b),null!=f&&function bb(t,n,r,a,d){const f=r[7];f!==fn(r)&&cs(n,t,a,f,d);for(let b=10;b<r.length;b++){const _=r[b];Ir(_[1],_,t,n,a,f)}}(n,t,f,r,d)}}function Dc(t,n,r){if(on(t))return t.createElement(n,r);{const a=null!==r?function ju(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(r):null;return null===a?t.createElement(n):t.createElementNS(a,n)}}function zh(t,n){const r=t[9],a=r.indexOf(n),d=n[3];1024&n[2]&&(n[2]&=-1025,Vu(d,-1)),r.splice(a,1)}function bo(t,n){if(t.length<=10)return;const r=10+n,a=t[r];if(a){const d=a[17];null!==d&&d!==t&&zh(d,a),n>0&&(t[r-1][4]=a[4]);const f=Jl(t,10+n);!function hb(t,n){Ir(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const p=f[19];null!==p&&p.detachView(f[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function ad(t,n){if(!(256&n[2])){const r=n[11];on(r)&&r.destroyNode&&Ir(t,n,r,3,null,null),function ZC(t){let n=t[13];if(!n)return Ec(t[1],t);for(;n;){let r=null;if(_i(n))r=n[13];else{const a=n[10];a&&(r=a)}if(!r){for(;n&&!n[4]&&n!==t;)_i(n)&&Ec(n[1],n),n=n[3];null===n&&(n=t),_i(n)&&Ec(n[1],n),r=n&&n[4]}n=r}}(n)}}function Ec(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function ls(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let a=0;a<r.length;a+=2){const d=n[r[a]];if(!(d instanceof Ws)){const f=r[a+1];if(Array.isArray(f))for(let p=0;p<f.length;p+=2){const b=d[f[p]],_=f[p+1];try{_.call(b)}finally{}}else try{f.call(d)}finally{}}}}(t,n),function Vh(t,n){const r=t.cleanup,a=n[7];let d=-1;if(null!==r)for(let f=0;f<r.length-1;f+=2)if("string"==typeof r[f]){const p=r[f+1],b="function"==typeof p?p(n):fn(n[p]),_=a[d=r[f+2]],C=r[f+3];"boolean"==typeof C?b.removeEventListener(r[f],_,C):C>=0?a[d=C]():a[d=-C].unsubscribe(),f+=2}else{const p=a[d=r[f+1]];r[f].call(p)}if(null!==a){for(let f=d+1;f<a.length;f++)a[f]();n[7]=null}}(t,n),1===n[1].type&&on(n[11])&&n[11].destroy();const r=n[17];if(null!==r&&nn(n[3])){r!==n[3]&&zh(r,n);const a=n[19];null!==a&&a.detachView(t)}}}function Uh(t,n,r){return function gb(t,n,r){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return r[0];if(2&a.flags){const d=t.data[a.directiveStart].encapsulation;if(d===si.None||d===si.Emulated)return null}return Ho(a,r)}(t,n.parent,r)}function Qe(t,n,r,a,d){on(t)?t.insertBefore(n,r,a,d):n.insertBefore(r,a,d)}function wo(t,n,r){on(t)?t.appendChild(n,r):n.appendChild(r)}function aa(t,n,r,a,d){null!==a?Qe(t,n,r,a,d):wo(t,n,r)}function xc(t,n){return on(t)?t.parentNode(n):n.parentNode}let mb=function pb(t,n,r){return 40&t.type?Ho(t,r):null};function Mc(t,n,r,a){const d=Uh(t,a,n),f=n[11],b=function Hh(t,n,r){return mb(t,n,r)}(a.parent||n[6],a,n);if(null!=d)if(Array.isArray(r))for(let _=0;_<r.length;_++)aa(f,d,r[_],b,!1);else aa(f,d,r,b,!1)}function Ic(t,n){if(null!==n){const r=n.type;if(3&r)return Ho(n,t);if(4&r)return ld(-1,t[n.index]);if(8&r){const a=n.child;if(null!==a)return Ic(t,a);{const d=t[n.index];return nn(d)?ld(-1,d):fn(d)}}if(32&r)return sd(n,t)()||fn(t[n.index]);{const a=Wh(t,n);return null!==a?Array.isArray(a)?a[0]:Ic(Ac(t[16]),a):Ic(t,n.next)}}return null}function Wh(t,n){return null!==n?t[16][6].projection[n.projection]:null}function ld(t,n){const r=10+t+1;if(r<n.length){const a=n[r],d=a[1].firstChild;if(null!==d)return Ic(a,d)}return n[7]}function Mr(t,n,r,a,d,f,p){for(;null!=r;){const b=a[r.index],_=r.type;if(p&&0===n&&(b&&wt(fn(b),a),r.flags|=4),64!=(64&r.flags))if(8&_)Mr(t,n,r.child,a,d,f,!1),cs(n,t,d,b,f);else if(32&_){const C=sd(r,a);let T;for(;T=C();)cs(n,t,d,T,f);cs(n,t,d,b,f)}else 16&_?dd(t,n,a,r,d,f):cs(n,t,d,b,f);r=p?r.projectionNext:r.next}}function Ir(t,n,r,a,d,f){Mr(r,a,t.firstChild,n,d,f,!1)}function dd(t,n,r,a,d,f){const p=r[16],_=p[6].projection[a.projection];if(Array.isArray(_))for(let C=0;C<_.length;C++)cs(n,t,d,_[C],f);else Mr(t,n,_,p[3],d,f,!0)}function Zh(t,n,r){on(t)?t.setAttribute(n,"style",r):n.style.cssText=r}function Kh(t,n,r){on(t)?""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r):n.className=r}function Sc(t,n,r){let a=t.length;for(;;){const d=t.indexOf(n,r);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const f=n.length;if(d+f===a||t.charCodeAt(d+f)<=32)return d}r=d+1}}const wb="ng-template";function kb(t,n,r){let a=0;for(;a<t.length;){let d=t[a++];if(r&&"class"===d){if(d=t[a],-1!==Sc(d.toLowerCase(),n,0))return!0}else if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===n)return!0;return!1}}return!1}function Yh(t){return 4===t.type&&t.value!==wb}function ey(t,n,r){return n===(4!==t.type||r?t.value:wb)}function Ht(t,n,r){let a=4;const d=t.attrs||[],f=function ny(t){for(let n=0;n<t.length;n++)if(Zu(t[n]))return n;return t.length}(d);let p=!1;for(let b=0;b<n.length;b++){const _=n[b];if("number"!=typeof _){if(!p)if(4&a){if(a=2|1&a,""!==_&&!ey(t,_,r)||""===_&&1===n.length){if(Qo(a))return!1;p=!0}}else{const C=8&a?_:n[++b];if(8&a&&null!==t.attrs){if(!kb(t.attrs,C,r)){if(Qo(a))return!1;p=!0}continue}const j=ty(8&a?"class":_,d,Yh(t),r);if(-1===j){if(Qo(a))return!1;p=!0;continue}if(""!==C){let q;q=j>f?"":d[j+1].toLowerCase();const Z=8&a?q:null;if(Z&&-1!==Sc(Z,C,0)||2&a&&C!==q){if(Qo(a))return!1;p=!0}}}}else{if(!p&&!Qo(a)&&!Qo(_))return!1;if(p&&Qo(_))continue;p=!1,a=_|1&a}}return Qo(a)||p}function Qo(t){return 0==(1&t)}function ty(t,n,r,a){if(null===n)return-1;let d=0;if(a||!r){let f=!1;for(;d<n.length;){const p=n[d];if(p===t)return d;if(3===p||6===p)f=!0;else{if(1===p||2===p){let b=n[++d];for(;"string"==typeof b;)b=n[++d];continue}if(4===p)break;if(0===p){d+=4;continue}}d+=f?1:2}return-1}return function vb(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const a=t[r];if("number"==typeof a)return-1;if(a===n)return r;r++}return-1}(n,t)}function Tc(t,n,r=!1){for(let a=0;a<n.length;a++)if(Ht(t,n[a],r))return!0;return!1}function Jh(t,n){return t?":not("+n.trim()+")":n}function oy(t){let n=t[0],r=1,a=2,d="",f=!1;for(;r<t.length;){let p=t[r];if("string"==typeof p)if(2&a){const b=t[++r];d+="["+p+(b.length>0?'="'+b+'"':"")+"]"}else 8&a?d+="."+p:4&a&&(d+=" "+p);else""!==d&&!Qo(p)&&(n+=Jh(f,d),d=""),a=p,f=f||!Qo(a);r++}return""!==d&&(n+=Jh(f,d)),n}const Ze={};function Si(t){Xh(it(),fe(),eo()+t,!1)}function Xh(t,n,r,a){if(!a)if(3==(3&n[2])){const f=t.preOrderCheckHooks;null!==f&&oc(n,f,r)}else{const f=t.preOrderHooks;null!==f&&Hl(n,f,0,r)}qi(r)}function ca(t,n){return t<<17|n<<2}function $n(t){return t>>17&32767}function Nc(t){return 2|t}function Ti(t){return(131068&t)>>2}function nf(t,n){return-131069&t|n<<2}function ud(t){return 1|t}function io(t,n){const r=t.contentQueries;if(null!==r)for(let a=0;a<r.length;a+=2){const d=r[a],f=r[a+1];if(-1!==f){const p=t.data[f];Vl(d),p.contentQueries(2,n[f],f)}}}function Rc(t,n,r,a,d,f,p,b,_,C){const T=n.blueprint.slice();return T[0]=d,T[2]=140|a,dm(T),T[3]=T[15]=t,T[8]=r,T[10]=p||t&&t[10],T[11]=b||t&&t[11],T[12]=_||t&&t[12]||null,T[9]=C||t&&t[9]||null,T[6]=f,T[16]=2==n.type?t[16]:T,T}function ds(t,n,r,a,d){let f=t.data[n];if(null===f)f=function gf(t,n,r,a,d){const f=ec(),p=tc(),_=t.data[n]=function Bb(t,n,r,a,d,f){return{type:r,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?f:f&&f.parent,r,n,a,d);return null===t.firstChild&&(t.firstChild=_),null!==f&&(p?null==f.child&&null!==_.parent&&(f.child=_):null===f.next&&(f.next=_)),_}(t,n,r,a,d),function Xv(){return Ye.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=r,f.value=a,f.attrs=d;const p=function Yr(){const t=Ye.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();f.injectorIndex=null===p?-1:p.injectorIndex}return gn(f,!0),f}function Xi(t,n,r,a){if(0===r)return-1;const d=n.length;for(let f=0;f<r;f++)n.push(a),t.blueprint.push(a),t.data.push(null);return d}function Tr(t,n,r){Xe(n);try{const a=t.viewQuery;null!==a&&Gt(1,a,r);const d=t.template;null!==d&&pf(t,n,d,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&io(t,n),t.staticViewQueries&&Gt(2,t.viewQuery,r);const f=t.components;null!==f&&function Tb(t,n){for(let r=0;r<n.length;r++)yy(t,n[r])}(n,f)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,Gs()}}function ua(t,n,r,a){const d=n[2];if(256!=(256&d)){Xe(n);try{dm(n),function jl(t){return Ye.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&pf(t,n,r,2,a);const p=3==(3&d);if(p){const C=t.preOrderCheckHooks;null!==C&&oc(n,C,null)}else{const C=t.preOrderHooks;null!==C&&Hl(n,C,0,null),ic(n,0)}if(function $b(t){for(let n=Rh(t);null!==n;n=Bh(n)){if(!n[2])continue;const r=n[9];for(let a=0;a<r.length;a++){const d=r[a],f=d[3];0==(1024&d[2])&&Vu(f,1),d[2]|=1024}}}(n),function Cd(t){for(let n=Rh(t);null!==n;n=Bh(n))for(let r=10;r<n.length;r++){const a=n[r],d=a[1];Rl(a)&&ua(d,a,d.template,a[8])}}(n),null!==t.contentQueries&&io(t,n),p){const C=t.contentCheckHooks;null!==C&&oc(n,C)}else{const C=t.contentHooks;null!==C&&Hl(n,C,1),ic(n,1)}!function Sb(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let a=0;a<r.length;a++){const d=r[a];if(d<0)qi(~d);else{const f=d,p=r[++a],b=r[++a];pm(p,f),b(2,n[f])}}}finally{qi(-1)}}(t,n);const b=t.components;null!==b&&function ff(t,n){for(let r=0;r<n.length;r++)Wb(t,n[r])}(n,b);const _=t.viewQuery;if(null!==_&&Gt(2,_,a),p){const C=t.viewCheckHooks;null!==C&&oc(n,C)}else{const C=t.viewHooks;null!==C&&Hl(n,C,2),ic(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-73,1024&n[2]&&(n[2]&=-1025,Vu(n[3],-1))}finally{Gs()}}}function py(t,n,r,a){const d=n[10],p=function cm(t){return 4==(4&t[2])}(n);try{!p&&d.begin&&d.begin(),p&&Tr(t,n,a),ua(t,n,r,a)}finally{!p&&d.end&&d.end()}}function pf(t,n,r,a,d){const f=eo(),p=2&a;try{qi(-1),p&&n.length>20&&Xh(t,n,20,!1),r(a,d)}finally{qi(f)}}function us(t,n,r){!Uu()||(function _d(t,n,r,a){const d=r.directiveStart,f=r.directiveEnd;t.firstCreatePass||ts(r,n),wt(a,n);const p=r.initialInputs;for(let b=d;b<f;b++){const _=t.data[b],C=Pt(_);C&&Hb(n,r,_);const T=cc(n,t,b,r);wt(T,n),null!==p&&Gb(0,b-d,T,_,0,p),C&&(Io(r.index,n)[8]=T)}}(t,n,r,Ho(r,n)),128==(128&r.flags)&&function ha(t,n,r){const a=r.directiveStart,d=r.directiveEnd,p=r.index,b=function eC(){return Ye.lFrame.currentDirectiveIndex}();try{qi(p);for(let _=a;_<d;_++){const C=t.data[_],T=n[_];Wi(_),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&jb(C,T)}}finally{qi(-1),Wi(b)}}(t,n,r))}function mf(t,n,r=Ho){const a=n.localNames;if(null!==a){let d=n.index+1;for(let f=0;f<a.length;f+=2){const p=a[f+1],b=-1===p?r(n,t):t[p];t[d++]=b}}}function bf(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=wd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function wd(t,n,r,a,d,f,p,b,_,C){const T=20+a,j=T+d,q=function Pb(t,n){const r=[];for(let a=0;a<n;a++)r.push(a<t?null:Ze);return r}(T,j),Z="function"==typeof C?C():C;return q[1]={type:t,blueprint:q,template:r,queries:null,viewQuery:b,declTNode:n,data:q.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:_,consts:Z,incompleteFirstPass:!1}}function _f(t,n,r){for(let a in t)if(t.hasOwnProperty(a)){const d=t[a];(r=null===r?{}:r).hasOwnProperty(a)?r[a].push(n,d):r[a]=[n,d]}return r}function kd(t,n,r,a){let d=!1;if(Uu()){const f=function zb(t,n,r){const a=t.directiveRegistry;let d=null;if(a)for(let f=0;f<a.length;f++){const p=a[f];Tc(r,p.selectors,!1)&&(d||(d=[]),Zl(ts(r,n),t,p.type),Pt(p)?(Vb(t,r),d.unshift(p)):d.push(p))}return d}(t,n,r),p=null===a?null:{"":-1};if(null!==f){d=!0,Ub(r,t.data.length,f.length);for(let T=0;T<f.length;T++){const j=f[T];j.providersResolver&&j.providersResolver(j)}let b=!1,_=!1,C=Xi(t,n,f.length,null);for(let T=0;T<f.length;T++){const j=f[T];r.mergedAttrs=sc(r.mergedAttrs,j.hostAttrs),vd(t,r,n,C,j),yf(C,j,p),null!==j.contentQueries&&(r.flags|=8),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(r.flags|=128);const q=j.type.prototype;!b&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(r.index),b=!0),!_&&(q.ngOnChanges||q.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(r.index),_=!0),C++}!function my(t,n){const a=n.directiveEnd,d=t.data,f=n.attrs,p=[];let b=null,_=null;for(let C=n.directiveStart;C<a;C++){const T=d[C],j=T.inputs,q=null===f||Yh(n)?null:vy(j,f);p.push(q),b=_f(j,C,b),_=_f(T.outputs,C,_)}null!==b&&(b.hasOwnProperty("class")&&(n.flags|=16),b.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=p,n.inputs=b,n.outputs=_}(t,r)}p&&function _y(t,n,r){if(n){const a=t.localNames=[];for(let d=0;d<n.length;d+=2){const f=r[n[d+1]];if(null==f)throw new pt(-301,!1);a.push(n[d],f)}}}(r,a,p)}return r.mergedAttrs=sc(r.mergedAttrs,r.attrs),d}function hs(t,n,r,a,d,f){const p=f.hostBindings;if(p){let b=t.hostBindingOpCodes;null===b&&(b=t.hostBindingOpCodes=[]);const _=~n.index;(function ky(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(b)!=_&&b.push(_),b.push(a,d,p)}}function jb(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Vb(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function yf(t,n,r){if(r){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)r[n.exportAs[a]]=t;Pt(n)&&(r[""]=t)}}function Ub(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}function vd(t,n,r,a,d){t.data[a]=d;const f=d.factory||(d.factory=Zr(d.type)),p=new Ws(f,Pt(d),null);t.blueprint[a]=p,r[a]=p,hs(t,n,0,a,Xi(t,r,d.hostVars,Ze),d)}function Hb(t,n,r){const a=Ho(n,t),d=bf(r),f=t[10],p=Ad(t,Rc(t,d,null,r.onPush?64:16,a,n,f,f.createRenderer(a,r),null,null));t[n.index]=p}function Gb(t,n,r,a,d,f){const p=f[n];if(null!==p){const b=a.setInput;for(let _=0;_<p.length;){const C=p[_++],T=p[_++],j=p[_++];null!==b?a.setInput(r,j,C,T):r[T]=j}}}function vy(t,n){let r=null,a=0;for(;a<n.length;){const d=n[a];if(0!==d)if(5!==d){if("number"==typeof d)break;t.hasOwnProperty(d)&&(null===r&&(r=[]),r.push(d,t[d],n[a+1])),a+=2}else a+=2;else a+=4}return r}function Af(t,n,r,a){return new Array(t,!0,!1,n,null,0,a,r,null,null)}function Wb(t,n){const r=Io(n,t);if(Rl(r)){const a=r[1];80&r[2]?ua(a,r,a.template,r[8]):r[5]>0&&yd(r)}}function yd(t){for(let a=Rh(t);null!==a;a=Bh(a))for(let d=10;d<a.length;d++){const f=a[d];if(1024&f[2]){const p=f[1];ua(p,f,p.template,f[8])}else f[5]>0&&yd(f)}const r=t[1].components;if(null!==r)for(let a=0;a<r.length;a++){const d=Io(r[a],t);Rl(d)&&d[5]>0&&yd(d)}}function yy(t,n){const r=Io(n,t),a=r[1];(function qb(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])})(a,r),Tr(a,r,r[8])}function Ad(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Ni(t){for(;t;){t[2]|=64;const n=Ac(t);if(Uv(t)&&!n)return t;t=n}return null}function Fc(t){!function Bc(t){for(let n=0;n<t.components.length;n++){const r=t.components[n],a=Gn(r),d=a[1];py(d,a,d.template,r)}}(t[8])}function Gt(t,n,r){Vl(0),n(t,r)}const Dy=(()=>Promise.resolve(null))();function Kb(t){return t[7]||(t[7]=[])}function Ef(t){return t.cleanup||(t.cleanup=[])}function xf(t,n){const r=t[9],a=r?r.get(ra,null):null;a&&a.handleError(n)}function Mf(t,n,r,a,d){for(let f=0;f<r.length;){const p=r[f++],b=r[f++],_=n[p],C=t.data[p];null!==C.setInput?C.setInput(_,d,a,b):_[b]=d}}function er(t,n,r){const a=Ol(n,t);!function jh(t,n,r){on(t)?t.setValue(n,r):n.textContent=r}(t[11],a,r)}function Ko(t,n,r){let a=r?t.styles:null,d=r?t.classes:null,f=0;if(null!==n)for(let p=0;p<n.length;p++){const b=n[p];"number"==typeof b?f=b:1==f?d=yu(d,b):2==f&&(a=yu(a,b+": "+n[++p]+";"))}r?t.styles=a:t.stylesWithoutHost=a,r?t.classes=d:t.classesWithoutHost=d}const Dd=new nt("INJECTOR",-1);class If{get(n,r=fc){if(r===fc){const a=new Error(`NullInjectorError: No provider for ${Et(n)}!`);throw a.name="NullInjectorError",a}return r}}const Sf=new nt("Set Injector scope."),fa={},xy={};let Ed;function Jb(){return void 0===Ed&&(Ed=new If),Ed}function Xb(t,n=null,r=null,a){const d=Tf(t,n,r,a);return d._resolveInjectorDefTypes(),d}function Tf(t,n=null,r=null,a){return new ew(t,r,n||Jb(),a)}class ew{constructor(n,r,a,d=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];r&&Ai(r,b=>this.processProvider(b,n,r)),Ai([n],b=>this.processInjectorType(b,[],f)),this.records.set(Dd,gs(void 0,this));const p=this.records.get(Sf);this.scope=null!=p?p.value:null,this.source=d||("object"==typeof n?null:Et(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,r=fc,a=$e.Default){this.assertNotDestroyed();const d=Pm(this),f=pr(void 0);try{if(!(a&$e.SkipSelf)){let b=this.records.get(n);if(void 0===b){const _=function Ty(t){return"function"==typeof t||"object"==typeof t&&t instanceof nt}(n)&&qa(n);b=_&&this.injectableDefInScope(_)?gs(xd(n),fa):null,this.records.set(n,b)}if(null!=b)return this.hydrate(n,b)}return(a&$e.Self?Jb():this.parent).get(n,r=a&$e.Optional&&r===fc?null:r)}catch(p){if("NullInjectorError"===p.name){if((p[ns]=p[ns]||[]).unshift(Et(n)),d)throw p;return function Rm(t,n,r,a){const d=t[ns];throw n[gc]&&d.unshift(n[gc]),t.message=function Bm(t,n,r,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let d=Et(n);if(Array.isArray(n))d=n.map(Et).join(" -> ");else if("object"==typeof n){let f=[];for(let p in n)if(n.hasOwnProperty(p)){let b=n[p];f.push(p+":"+("string"==typeof b?JSON.stringify(b):Et(b)))}d=`{${f.join(", ")}}`}return`${r}${a?"("+a+")":""}[${d}]: ${t.replace(Tm,"\n  ")}`}("\n"+t.message,d,r,a),t.ngTokenPath=d,t[ns]=null,t}(p,n,"R3InjectorError",this.source)}throw p}finally{pr(f),Pm(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,d)=>n.push(Et(d))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pt(205,!1)}processInjectorType(n,r,a){if(!(n=et(n)))return!1;let d=Cl(n);const f=null==d&&n.ngModule||void 0,p=void 0===f?n:f,b=-1!==a.indexOf(p);if(void 0!==f&&(d=Cl(f)),null==d)return!1;if(null!=d.imports&&!b){let T;a.push(p);try{Ai(d.imports,j=>{this.processInjectorType(j,r,a)&&(void 0===T&&(T=[]),T.push(j))})}finally{}if(void 0!==T)for(let j=0;j<T.length;j++){const{ngModule:q,providers:Z}=T[j];Ai(Z,X=>this.processProvider(X,q,Z||Nt))}}this.injectorDefTypes.add(p);const _=Zr(p)||(()=>new p);this.records.set(p,gs(_,fa));const C=d.providers;if(null!=C&&!b){const T=n;Ai(C,j=>this.processProvider(j,T,C))}return void 0!==f&&void 0!==n.providers}processProvider(n,r,a){let d=ps(n=et(n))?n:et(n&&n.provide);const f=function Lc(t,n,r){return Nf(t)?gs(void 0,t.useValue):gs(tw(t),fa)}(n);if(ps(n)||!0!==n.multi)this.records.get(d);else{let p=this.records.get(d);p||(p=gs(void 0,fa,!0),p.factory=()=>Xl(p.multi),this.records.set(d,p)),d=n,p.multi.push(n)}this.records.set(d,f)}hydrate(n,r){return r.value===fa&&(r.value=xy,r.value=r.factory()),"object"==typeof r.value&&r.value&&function iw(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this.onDestroy.add(r.value),r.value}injectableDefInScope(n){if(!n.providedIn)return!1;const r=et(n.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}function xd(t){const n=qa(t),r=null!==n?n.factory:Zr(t);if(null!==r)return r;if(t instanceof nt)throw new pt(204,!1);if(t instanceof Function)return function My(t){const n=t.length;if(n>0)throw function uc(t,n){const r=[];for(let a=0;a<t;a++)r.push(n);return r}(n,"?"),new pt(204,!1);const r=function Gp(t){const n=t&&(t[yl]||t[$p]);if(n){const r=function Ov(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),n}return null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new pt(204,!1)}function tw(t,n,r){let a;if(ps(t)){const d=et(t);return Zr(d)||xd(d)}if(Nf(t))a=()=>et(t.useValue);else if(function Sy(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Xl(t.deps||[]));else if(function Iy(t){return!(!t||!t.useExisting)}(t))a=()=>Ne(et(t.useExisting));else{const d=et(t&&(t.useClass||t.provide));if(!function ow(t){return!!t.deps}(t))return Zr(d)||xd(d);a=()=>new d(...Xl(t.deps))}return a}function gs(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function Nf(t){return null!==t&&"object"==typeof t&&Nm in t}function ps(t){return"function"==typeof t}let Wn=(()=>{class t{static create(r,a){var d;if(Array.isArray(r))return Xb({name:""},a,r,"");{const f=null!==(d=r.name)&&void 0!==d?d:"";return Xb({name:f},r.parent,r.providers,f)}}}return t.THROW_IF_NOT_FOUND=fc,t.NULL=new If,t.\u0275prov=Ge({token:t,providedIn:"any",factory:()=>Ne(Dd)}),t.__NG_ELEMENT_ID__=-1,t})();function mw(t,n){nc(Gn(t)[1],Te())}function Mt(t){let n=function bw(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const a=[t];for(;n;){let d;if(Pt(t))d=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new pt(903,"");d=n.\u0275dir}if(d){if(r){a.push(d);const p=t;p.inputs=Pr(t.inputs),p.declaredInputs=Pr(t.declaredInputs),p.outputs=Pr(t.outputs);const b=d.hostBindings;b&&kw(t,b);const _=d.viewQuery,C=d.contentQueries;if(_&&ga(t,_),C&&ww(t,C),Cu(t.inputs,d.inputs),Cu(t.declaredInputs,d.declaredInputs),Cu(t.outputs,d.outputs),Pt(d)&&d.data.animation){const T=t.data;T.animation=(T.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let p=0;p<f.length;p++){const b=f[p];b&&b.ngInherit&&b(t),b===Mt&&(r=!1)}}n=Object.getPrototypeOf(n)}!function Fy(t){let n=0,r=null;for(let a=t.length-1;a>=0;a--){const d=t[a];d.hostVars=n+=d.hostVars,d.hostAttrs=sc(d.hostAttrs,r=sc(r,d.hostAttrs))}}(a)}function Pr(t){return t===Bs?{}:t===Nt?[]:t}function ga(t,n){const r=t.viewQuery;t.viewQuery=r?(a,d)=>{n(a,d),r(a,d)}:n}function ww(t,n){const r=t.contentQueries;t.contentQueries=r?(a,d,f)=>{n(a,d,f),r(a,d,f)}:n}function kw(t,n){const r=t.hostBindings;t.hostBindings=r?(a,d)=>{n(a,d),r(a,d)}:n}let Td=null;function pa(){if(!Td){const t=Tt.Symbol;if(t&&t.iterator)Td=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let r=0;r<n.length;++r){const a=n[r];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Td=a)}}}return Td}function ma(t){return!!function Nd(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&pa()in t)}function qn(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function Vc(t,n,r,a,d,f,p,b){const _=fe(),C=it(),T=t+20,j=C.firstCreatePass?function Uy(t,n,r,a,d,f,p,b,_){const C=n.consts,T=ds(n,t,4,p||null,yr(C,b));kd(n,r,T,yr(C,_)),nc(n,T);const j=T.tViews=wd(2,T,a,d,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,C);return null!==n.queries&&(n.queries.template(n,T),j.queries=n.queries.embeddedTView(T)),T}(T,C,_,n,r,a,d,f,p):C.data[T];gn(j,!1);const q=_[11].createComment("");Mc(C,_,q,j),wt(q,_),Ad(_,_[T]=Af(q,_,q,j)),Vs(j)&&us(C,_,j),null!=p&&mf(_,j,b)}function ae(t,n=$e.Default){const r=fe();return null===r?Ne(t,n):th(Te(),r,et(t),n)}function jd(){throw new Error("invalid")}function Yo(t,n,r){const a=fe();return qn(a,Ci(),n)&&function Ke(t,n,r,a,d,f,p,b){const _=Ho(n,r);let T,C=n.inputs;!b&&null!=C&&(T=C[a])?(Mf(t,r,T,a,d),fo(n)&&function by(t,n){const r=Io(n,t);16&r[2]||(r[2]|=64)}(r,n.index)):3&n.type&&(a=function vf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),d=null!=p?p(d,n.value||"",a):d,on(f)?f.setProperty(_,a,d):yi(a)||(_.setProperty?_.setProperty(a,d):_[a]=d))}(it(),function rn(){const t=Ye.lFrame;return am(t.tView,t.selectedIndex)}(),a,t,n,a[11],r,!1),Yo}function Ro(t,n,r,a,d){const p=d?"class":"style";Mf(t,r,n.inputs[p],p,a)}function Ot(t,n,r,a){const d=fe(),f=it(),p=20+t,b=d[11],_=d[p]=Dc(b,n,function km(){return Ye.lFrame.currentNamespace}()),C=f.firstCreatePass?function Bw(t,n,r,a,d,f,p){const b=n.consts,C=ds(n,t,2,d,yr(b,f));return kd(n,r,C,yr(b,p)),null!==C.attrs&&Ko(C,C.attrs,!1),null!==C.mergedAttrs&&Ko(C,C.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,C),C}(p,f,d,0,n,r,a):f.data[p];gn(C,!0);const T=C.mergedAttrs;null!==T&&rc(b,_,T);const j=C.classes;null!==j&&Kh(b,_,j);const q=C.styles;return null!==q&&Zh(b,_,q),64!=(64&C.flags)&&Mc(f,d,_,C),0===function Go(){return Ye.lFrame.elementDepthCount}()&&wt(_,d),function hm(){Ye.lFrame.elementDepthCount++}(),Vs(C)&&(us(f,d,C),function Nb(t,n,r){if(Il(n)){const d=n.directiveEnd;for(let f=n.directiveStart;f<d;f++){const p=t.data[f];p.contentQueries&&p.contentQueries(1,r[f],f)}}}(f,C,d)),null!==a&&mf(d,C),Ot}function It(){let t=Te();tc()?function Jr(){Ye.lFrame.isParent=!1}():(t=t.parent,gn(t,!1));const n=t;!function Fl(){Ye.lFrame.elementDepthCount--}();const r=it();return r.firstCreatePass&&(nc(r,t),Il(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Gl(t){return 0!=(16&t.flags)}(n)&&Ro(r,n,fe(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Qu(t){return 0!=(32&t.flags)}(n)&&Ro(r,n,fe(),n.stylesWithoutHost,!1),It}function pi(t,n,r,a){return Ot(t,n,r,a),It(),pi}function va(t){return!!t&&"function"==typeof t.then}const Qf=function Hc(t){return!!t&&"function"==typeof t.subscribe};function $t(t,n,r,a){const d=fe(),f=it(),p=Te();return function Zf(t,n,r,a,d,f,p,b){const _=Vs(a),T=t.firstCreatePass&&Ef(t),j=n[8],q=Kb(n);let Z=!0;if(3&a.type||b){const de=Ho(a,n),le=b?b(de):de,ie=q.length,Oe=b?Je=>b(fn(Je[a.index])):a.index;if(on(r)){let Je=null;if(!b&&_&&(Je=function Lw(t,n,r,a){const d=t.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const p=d[f];if(p===r&&d[f+1]===a){const b=n[7],_=d[f+2];return b.length>_?b[_]:null}"string"==typeof p&&(f+=2)}return null}(t,n,d,a.index)),null!==Je)(Je.__ngLastListenerFn__||Je).__ngNextListenerFn__=f,Je.__ngLastListenerFn__=f,Z=!1;else{f=Yf(a,n,j,f,!1);const gt=r.listen(le,d,f);q.push(f,gt),T&&T.push(d,Oe,ie,ie+1)}}else f=Yf(a,n,j,f,!0),le.addEventListener(d,f,p),q.push(f),T&&T.push(d,Oe,ie,p)}else f=Yf(a,n,j,f,!1);const X=a.outputs;let re;if(Z&&null!==X&&(re=X[d])){const de=re.length;if(de)for(let le=0;le<de;le+=2){const _t=n[re[le]][re[le+1]].subscribe(f),Ao=q.length;q.push(f,_t),T&&T.push(d,a.index,Ao,-(Ao+1))}}}(f,d,d[11],p,t,n,!!r,a),$t}function Kf(t,n,r,a){try{return!1!==r(a)}catch(d){return xf(t,d),!1}}function Yf(t,n,r,a,d){return function f(p){if(p===Function)return a;const b=2&t.flags?Io(t.index,n):n;0==(32&n[2])&&Ni(b);let _=Kf(n,0,a,p),C=f.__ngNextListenerFn__;for(;C;)_=Kf(n,0,C,p)&&_,C=C.__ngNextListenerFn__;return d&&!1===_&&(p.preventDefault(),p.returnValue=!1),_}}function Jf(t=1){return function $u(t){return(Ye.lFrame.contextLView=function nC(t,n){for(;t>0;)n=n[15],t--;return n}(t,Ye.lFrame.contextLView))[8]}(t)}function Gc(t,n,r,a,d){const f=t[r+1],p=null===n;let b=a?$n(f):Ti(f),_=!1;for(;0!==b&&(!1===_||p);){const T=t[b+1];Ww(t[b],n)&&(_=!0,t[b+1]=a?ud(T):Nc(T)),b=a?$n(T):Ti(T)}_&&(t[r+1]=a?Nc(f):ud(f))}function Ww(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Xs(t,n)>=0}function Hd(t,n){return function bi(t,n,r,a){const d=fe(),f=it(),p=function go(t){const n=Ye.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}(2);f.firstUpdatePass&&function ug(t,n,r,a){const d=t.data;if(null===d[r+1]){const f=d[eo()],p=function dg(t,n){return n>=t.expandoStartIndex}(t,r);(function sk(t,n){return 0!=(t.flags&(n?16:32))})(f,a)&&null===n&&!p&&(n=!1),n=function ek(t,n,r,a){const d=function Hu(t){const n=Ye.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let f=a?n.residualClasses:n.residualStyles;if(null===d)0===(a?n.classBindings:n.styleBindings)&&(r=$c(r=hg(null,t,n,r,a),n.attrs,a),f=null);else{const p=n.directiveStylingLast;if(-1===p||t[p]!==d)if(r=hg(d,t,n,r,a),null===f){let _=function tk(t,n,r){const a=r?n.classBindings:n.styleBindings;if(0!==Ti(a))return t[$n(a)]}(t,n,a);void 0!==_&&Array.isArray(_)&&(_=hg(null,t,n,_[1],a),_=$c(_,n.attrs,a),function uA(t,n,r,a){t[$n(r?n.classBindings:n.styleBindings)]=a}(t,n,a,_))}else f=function hA(t,n,r){let a;const d=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<d;f++)a=$c(a,t[f].hostAttrs,r);return $c(a,n.attrs,r)}(t,n,a)}return void 0!==f&&(a?n.residualClasses=f:n.residualStyles=f),r}(d,f,n,a),function Gw(t,n,r,a,d,f){let p=f?n.classBindings:n.styleBindings,b=$n(p),_=Ti(p);t[a]=r;let T,C=!1;if(Array.isArray(r)){const j=r;T=j[1],(null===T||Xs(j,T)>0)&&(C=!0)}else T=r;if(d)if(0!==_){const q=$n(t[b+1]);t[a+1]=ca(q,b),0!==q&&(t[q+1]=nf(t[q+1],a)),t[b+1]=function la(t,n){return 131071&t|n<<17}(t[b+1],a)}else t[a+1]=ca(b,0),0!==b&&(t[b+1]=nf(t[b+1],a)),b=a;else t[a+1]=ca(_,0),0===b?b=a:t[_+1]=nf(t[_+1],a),_=a;C&&(t[a+1]=Nc(t[a+1])),Gc(t,T,a,!0),Gc(t,T,a,!1),function $w(t,n,r,a,d){const f=d?t.residualClasses:t.residualStyles;null!=f&&"string"==typeof n&&Xs(f,n)>=0&&(r[a+1]=ud(r[a+1]))}(n,T,t,a,f),p=ca(b,_),f?n.classBindings=p:n.styleBindings=p}(d,f,n,r,p,a)}}(f,t,p,a),n!==Ze&&qn(d,p,n)&&function ok(t,n,r,a,d,f,p,b){if(!(3&n.type))return;const _=t.data,C=_[b+1];Gd(function of(t){return 1==(1&t)}(C)?ik(_,n,r,d,Ti(C),p):void 0)||(Gd(f)||function tf(t){return 2==(2&t)}(C)&&(f=ik(_,null,r,d,b,p)),function JC(t,n,r,a,d){const f=on(t);if(n)d?f?t.addClass(r,a):r.classList.add(a):f?t.removeClass(r,a):r.classList.remove(a);else{let p=-1===a.indexOf("-")?void 0:mo.DashCase;if(null==d)f?t.removeStyle(r,a,p):r.style.removeProperty(a);else{const b="string"==typeof d&&d.endsWith("!important");b&&(d=d.slice(0,-10),p|=mo.Important),f?t.setStyle(r,a,d,p):r.style.setProperty(a,d,b?"important":"")}}}(a,p,Ol(eo(),r),d,f))}(f,f.data[eo()],d,d[11],t,d[p+1]=function rk(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Et(Ki(t)))),t}(n,r),a,p)}(t,n,null,!0),Hd}function hg(t,n,r,a,d){let f=null;const p=r.directiveEnd;let b=r.directiveStylingLast;for(-1===b?b=r.directiveStart:b++;b<p&&(f=n[b],a=$c(a,f.hostAttrs,d),f!==t);)b++;return null!==t&&(r.directiveStylingLast=b),a}function $c(t,n,r){const a=r?1:2;let d=-1;if(null!==n)for(let f=0;f<n.length;f++){const p=n[f];"number"==typeof p?d=p:d===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Un(t,p,!!r||n[++f]))}return void 0===t?null:t}function ik(t,n,r,a,d,f){const p=null===n;let b;for(;d>0;){const _=t[d],C=Array.isArray(_),T=C?_[1]:_,j=null===T;let q=r[d+1];q===Ze&&(q=j?Nt:void 0);let Z=j?uh(q,a):T===a?q:void 0;if(C&&!Gd(Z)&&(Z=uh(_,a)),Gd(Z)&&(b=Z,p))return b;const X=t[d+1];d=p?$n(X):Ti(X)}if(null!==n){let _=f?n.residualClasses:n.residualStyles;null!=_&&(b=uh(_,a))}return b}function Gd(t){return void 0!==t}function _n(t,n=""){const r=fe(),a=it(),d=t+20,f=a.firstCreatePass?ds(a,d,1,n,null):a.data[d],p=r[d]=function Lh(t,n){return on(t)?t.createText(n):t.createTextNode(n)}(r[11],n);Mc(a,r,p,f),gn(f,!1)}function Wc(t){return Ca("",t,""),Wc}function Ca(t,n,r){const a=fe(),d=function Oo(t,n,r,a){return qn(t,Ci(),r)?n+qe(r)+a:Ze}(a,t,n,r);return d!==Ze&&er(a,eo(),d),Ca}const qc="en-US";let yk=qc;function Gg(t,n,r,a,d){if(t=et(t),Array.isArray(t))for(let f=0;f<t.length;f++)Gg(t[f],n,r,a,d);else{const f=it(),p=fe();let b=ps(t)?t:et(t.provide),_=tw(t);const C=Te(),T=1048575&C.providerIndexes,j=C.directiveStart,q=C.providerIndexes>>20;if(ps(t)||!t.multi){const Z=new Ws(_,d,ae),X=Xd(b,n,d?T:T+q,j);-1===X?(Zl(ts(C,p),f,b),$g(f,t,n.length),n.push(b),C.directiveStart++,C.directiveEnd++,d&&(C.providerIndexes+=1048576),r.push(Z),p.push(Z)):(r[X]=Z,p[X]=Z)}else{const Z=Xd(b,n,T+q,j),X=Xd(b,n,T,T+q),re=Z>=0&&r[Z],de=X>=0&&r[X];if(d&&!de||!d&&!re){Zl(ts(C,p),f,b);const le=function YA(t,n,r,a,d){const f=new Ws(t,r,ae);return f.multi=[],f.index=n,f.componentProviders=0,Wg(f,d,a&&!r),f}(d?KA:ZA,r.length,d,a,_);!d&&de&&(r[X].providerFactory=le),$g(f,t,n.length,0),n.push(b),C.directiveStart++,C.directiveEnd++,d&&(C.providerIndexes+=1048576),r.push(le),p.push(le)}else $g(f,t,Z>-1?Z:X,Wg(r[d?X:Z],_,!d&&a));!d&&a&&de&&r[X].componentProviders++}}}function $g(t,n,r,a){const d=ps(n),f=function nw(t){return!!t.useClass}(n);if(d||f){const _=(f?et(n.useClass):n).prototype.ngOnDestroy;if(_){const C=t.destroyHooks||(t.destroyHooks=[]);if(!d&&n.multi){const T=C.indexOf(r);-1===T?C.push(r,[a,_]):C[T+1].push(a,_)}else C.push(r,_)}}}function Wg(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function Xd(t,n,r,a){for(let d=r;d<a;d++)if(n[d]===t)return d;return-1}function ZA(t,n,r,a){return qg(this.multi,[])}function KA(t,n,r,a){const d=this.multi;let f;if(this.providerFactory){const p=this.providerFactory.componentProviders,b=cc(r,r[1],this.providerFactory.index,a);f=b.slice(0,p),qg(d,f);for(let _=p;_<b.length;_++)f.push(b[_])}else f=[],qg(d,f);return f}function qg(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function Wt(t,n=[]){return r=>{r.providersResolver=(a,d)=>function QA(t,n,r){const a=it();if(a.firstCreatePass){const d=Pt(t);Gg(r,a.data,a.blueprint,d,!0),Gg(n,a.data,a.blueprint,d,!1)}}(a,d?d(t):t,n)}}class Zk{}class e0{resolveComponentFactory(n){throw function XA(t){const n=Error(`No component factory found for ${Et(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let Jc=(()=>{class t{}return t.NULL=new e0,t})();function Yk(){return Da(Te(),fe())}function Da(t,n){return new _o(Ho(t,n))}let _o=(()=>{class t{constructor(r){this.nativeElement=r}}return t.__NG_ELEMENT_ID__=Yk,t})();class Xk{}let nr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function o0(){const t=fe(),r=Io(Te().index,t);return function n0(t){return t[11]}(_i(r)?r:t)}(),t})(),r0=(()=>{class t{}return t.\u0275prov=Ge({token:t,providedIn:"root",factory:()=>null}),t})();class Ea{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const s0=new Ea("13.3.11"),or={};function eu(t,n,r,a,d=!1){for(;null!==r;){const f=n[r.index];if(null!==f&&a.push(fn(f)),nn(f))for(let b=10;b<f.length;b++){const _=f[b],C=_[1].firstChild;null!==C&&eu(_[1],_,C,a)}const p=r.type;if(8&p)eu(t,n,r.child,a);else if(32&p){const b=sd(r,n);let _;for(;_=b();)a.push(_)}else if(16&p){const b=Wh(n,r);if(Array.isArray(b))a.push(...b);else{const _=Ac(n[16]);eu(_[1],_,b,a,!0)}}r=d?r.projectionNext:r.next}return a}class xa{constructor(n,r){this._lView=n,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,r=n[1];return eu(r,n,r.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(nn(n)){const r=n[8],a=r?r.indexOf(this):-1;a>-1&&(bo(n,a),Jl(r,a))}this._attachedToViewContainer=!1}ad(this._lView[1],this._lView)}onDestroy(n){!function Rb(t,n,r,a){const d=Kb(n);null===r?d.push(a):(d.push(r),t.firstCreatePass&&Ef(t).push(a,d.length-1))}(this._lView[1],this._lView,null,n)}markForCheck(){Ni(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Df(t,n,r){const a=n[10];a.begin&&a.begin();try{ua(t,n,t.template,r)}catch(d){throw xf(n,d),d}finally{a.end&&a.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function QC(t,n){Ir(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new pt(902,"");this._appRef=n}}class Zg extends xa{constructor(n){super(n),this._view=n}detectChanges(){Fc(this._view)}checkNoChanges(){}get context(){return null}}class tu extends Jc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Ln(n);return new Yg(r,this.ngModule)}}function Kg(t){const n=[];for(let r in t)t.hasOwnProperty(r)&&n.push({propName:t[r],templateName:r});return n}class Yg extends Zk{constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function yb(t){return t.map(oy).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}get inputs(){return Kg(this.componentDef.inputs)}get outputs(){return Kg(this.componentDef.outputs)}create(n,r,a,d){const f=(d=d||this.ngModule)?function c0(t,n){return{get:(r,a,d)=>{const f=t.get(r,or,d);return f!==or||a===or?f:n.get(r,a,d)}}}(n,d.injector):n,p=f.get(Xk,rm),b=f.get(r0,null),_=p.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",T=a?function kf(t,n,r){if(on(t))return t.selectRootElement(n,r===si.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}(_,a,this.componentDef.encapsulation):Dc(p.createRenderer(null,this.componentDef),C,function a0(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(C)),j=this.componentDef.onPush?576:528,q=function pw(t,n){return{components:[],scheduler:t||Pn,clean:Dy,playerHandler:n||null,flags:0}}(),Z=wd(0,null,null,1,0,null,null,null,null,null),X=Rc(null,Z,q,j,null,null,p,_,b,f);let re,de;Xe(X);try{const le=function fw(t,n,r,a,d,f){const p=r[1];r[20]=t;const _=ds(p,20,2,"#host",null),C=_.mergedAttrs=n.hostAttrs;null!==C&&(Ko(_,C,!0),null!==t&&(rc(d,t,C),null!==_.classes&&Kh(d,t,_.classes),null!==_.styles&&Zh(d,t,_.styles)));const T=a.createRenderer(t,n),j=Rc(r,bf(n),null,n.onPush?64:16,r[20],_,a,T,f||null,null);return p.firstCreatePass&&(Zl(ts(_,r),p,n.type),Vb(p,_),Ub(_,r.length,1)),Ad(r,j),r[20]=j}(T,this.componentDef,X,p,_);if(T)if(a)rc(_,T,["ng-version",s0.full]);else{const{attrs:ie,classes:Oe}=function iy(t){const n=[],r=[];let a=1,d=2;for(;a<t.length;){let f=t[a];if("string"==typeof f)2===d?""!==f&&n.push(f,t[++a]):8===d&&r.push(f);else{if(!Qo(d))break;d=f}a++}return{attrs:n,classes:r}}(this.componentDef.selectors[0]);ie&&rc(_,T,ie),Oe&&Oe.length>0&&Kh(_,T,Oe.join(" "))}if(de=am(Z,20),void 0!==r){const ie=de.projection=[];for(let Oe=0;Oe<this.ngContentSelectors.length;Oe++){const Je=r[Oe];ie.push(null!=Je?Array.from(Je):null)}}re=function gw(t,n,r,a,d){const f=r[1],p=function Lb(t,n,r){const a=Te();t.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),vd(t,a,n,Xi(t,n,1,null),r));const d=cc(n,t,a.directiveStart,a);wt(d,n);const f=Ho(a,n);return f&&wt(f,n),d}(f,r,n);if(a.components.push(p),t[8]=p,d&&d.forEach(_=>_(p,n)),n.contentQueries){const _=Te();n.contentQueries(1,p,_.directiveStart)}const b=Te();return!f.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(qi(b.index),hs(r[1],b,0,b.directiveStart,b.directiveEnd,n),jb(n,p)),p}(le,this.componentDef,X,q,[mw]),Tr(Z,X,null)}finally{Gs()}return new d0(this.componentType,re,Da(de,X),X,de)}}class d0 extends class JA{}{constructor(n,r,a,d,f){super(),this.location=a,this._rootLView=d,this._tNode=f,this.instance=r,this.hostView=this.changeDetectorRef=new Zg(d),this.componentType=n}get injector(){return new no(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class ir{}class Jg{}const Fr=new Map;class n_ extends ir{constructor(n,r){super(),this._parent=r,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new tu(this);const a=jn(n);this._bootstrapComponents=Ii(a.bootstrap),this._r3Injector=Tf(n,r,[{provide:ir,useValue:this},{provide:Jc,useValue:this.componentFactoryResolver}],Et(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,r=Wn.THROW_IF_NOT_FOUND,a=$e.Default){return n===Wn||n===ir||n===Dd?this:this._r3Injector.get(n,r,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class el extends Jg{constructor(n){super(),this.moduleType=n,null!==jn(n)&&function f0(t){const n=new Set;!function r(a){const d=jn(a,!0),f=d.id;null!==f&&(function Xc(t,n,r){if(n&&n!==r)throw new Error(`Duplicate module registered for ${t} - ${Et(n)} vs ${Et(n.name)}`)}(f,Fr.get(f),a),Fr.set(f,a));const p=Ii(d.imports);for(const b of p)n.has(b)||(n.add(b),r(b))}(t)}(n)}create(n){return new n_(this.moduleType,n)}}function dn(t){return n=>{setTimeout(t,void 0,n)}}const at=class Qn extends je{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,r,a){var d,f,p;let b=n,_=r||(()=>null),C=a;if(n&&"object"==typeof n){const j=n;b=null===(d=j.next)||void 0===d?void 0:d.bind(j),_=null===(f=j.error)||void 0===f?void 0:f.bind(j),C=null===(p=j.complete)||void 0===p?void 0:p.bind(j)}this.__isAsync&&(_=dn(_),b&&(b=dn(b)),C&&(C=dn(C)));const T=super.subscribe({next:b,error:_,complete:C});return n instanceof O&&n.add(T),T}};Symbol;let Rn=(()=>{class t{}return t.__NG_ELEMENT_ID__=o_,t})();const rr=Rn,Ma=class extends rr{constructor(n,r,a){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=a}createEmbeddedView(n){const r=this._declarationTContainer.tViews,a=Rc(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(a[19]=f.createEmbeddedView(r)),Tr(r,a,n),new xa(a)}};function o_(){return function tl(t,n){return 4&t.type?new Ma(n,t,Da(t,n)):null}(Te(),fe())}let sr=(()=>{class t{}return t.__NG_ELEMENT_ID__=w2,t})();function w2(){return function ex(t,n){let r;const a=n[t.index];if(nn(a))r=a;else{let d;if(8&t.type)d=fn(a);else{const f=n[11];d=f.createComment("");const p=Ho(t,n);Qe(f,xc(f,p),d,function cd(t,n){return on(t)?t.nextSibling(n):n.nextSibling}(f,p),!1)}n[t.index]=r=Af(a,n,d,t),Ad(n,r)}return new JE(r,t,n)}(Te(),fe())}const k2=sr,JE=class extends k2{constructor(n,r,a){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=a}get element(){return Da(this._hostTNode,this._hostLView)}get injector(){return new no(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ql(this._hostTNode,this._hostLView);if(es(n)){const r=Fe(n,this._hostLView),a=ci(n);return new no(r[1].data[a+8],r)}return new no(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=XE(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,r,a){const d=n.createEmbeddedView(r||{});return this.insert(d,a),d}createComponent(n,r,a,d,f){const p=n&&!function $o(t){return"function"==typeof t}(n);let b;if(p)b=r;else{const j=r||{};b=j.index,a=j.injector,d=j.projectableNodes,f=j.ngModuleRef}const _=p?n:new Yg(Ln(n)),C=a||this.parentInjector;if(!f&&null==_.ngModule){const q=(p?C:this.parentInjector).get(ir,null);q&&(f=q)}const T=_.create(C,d,void 0,f);return this.insert(T.hostView,b),T}insert(n,r){const a=n._lView,d=a[1];if(function lm(t){return nn(t[3])}(a)){const T=this.indexOf(n);if(-1!==T)this.detach(T);else{const j=a[3],q=new JE(j,j[6],j[3]);q.detach(q.indexOf(n))}}const f=this._adjustIndex(r),p=this._lContainer;!function KC(t,n,r,a){const d=10+a,f=r.length;a>0&&(r[d-1][4]=n),a<f-10?(n[4]=r[d],Am(r,10+a,n)):(r.push(n),n[4]=null),n[3]=r;const p=n[17];null!==p&&r!==p&&function fb(t,n){const r=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===r?t[9]=[n]:r.push(n)}(p,n);const b=n[19];null!==b&&b.insertView(t),n[2]|=128}(d,a,p,f);const b=ld(f,p),_=a[11],C=xc(_,p[7]);return null!==C&&function qC(t,n,r,a,d,f){a[0]=d,a[6]=n,Ir(t,a,r,1,d,f)}(d,p[6],_,a,C,b),n.attachToViewContainerRef(),Am(g0(p),f,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=XE(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),a=bo(this._lContainer,r);a&&(Jl(g0(this._lContainer),r),ad(a[1],a))}detach(n){const r=this._adjustIndex(n,-1),a=bo(this._lContainer,r);return a&&null!=Jl(g0(this._lContainer),r)?new xa(a):null}_adjustIndex(n,r=0){return null==n?this.length+r:n}};function XE(t){return t[8]}function g0(t){return t[8]||(t[8]=[])}function s_(...t){}const M0=new nt("Application Initializer");let I0=(()=>{class t{constructor(r){this.appInits=r,this.resolve=s_,this.reject=s_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d})}runInitializers(){if(this.initialized)return;const r=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(va(f))r.push(f);else if(Qf(f)){const p=new Promise((b,_)=>{f.subscribe({complete:b,error:_})});r.push(p)}}Promise.all(r).then(()=>{a()}).catch(d=>{this.reject(d)}),0===r.length&&a(),this.initialized=!0}}return t.\u0275fac=function(r){return new(r||t)(Ne(M0,8))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const tp=new nt("AppId",{providedIn:"root",factory:function Cx(){return`${S0()}${S0()}${S0()}`}});function S0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yx=new nt("Platform Initializer"),T0=new nt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ax=new nt("appBootstrapListener");let W2=(()=>{class t{log(r){console.log(r)}warn(r){console.warn(r)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ia=new nt("LocaleId",{providedIn:"root",factory:()=>Om(Ia,$e.Optional|$e.SkipSelf)||function q2(){return"undefined"!=typeof $localize&&$localize.locale||qc}()});class Z2{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let Dx=(()=>{class t{compileModuleSync(r){return new el(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const a=this.compileModuleSync(r),f=Ii(jn(r).declarations).reduce((p,b)=>{const _=Ln(b);return _&&p.push(new Yg(_)),p},[]);return new Z2(a,f)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Y2=(()=>Promise.resolve(0))();function N0(t){"undefined"==typeof Zone?Y2.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Zn{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new at(!1),this.onMicrotaskEmpty=new at(!1),this.onStable=new at(!1),this.onError=new at(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&r,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function J2(){let t=Tt.requestAnimationFrame,n=Tt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function tN(t){const n=()=>{!function eN(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Tt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,O0(t),t.isCheckStableRunning=!0,P0(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),O0(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,a,d,f,p,b)=>{try{return Ex(t),r.invokeTask(d,f,p,b)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||t.shouldCoalesceRunChangeDetection)&&n(),xx(t)}},onInvoke:(r,a,d,f,p,b,_)=>{try{return Ex(t),r.invoke(d,f,p,b,_)}finally{t.shouldCoalesceRunChangeDetection&&n(),xx(t)}},onHasTask:(r,a,d,f)=>{r.hasTask(d,f),a===d&&("microTask"==f.change?(t._hasPendingMicrotasks=f.microTask,O0(t),P0(t)):"macroTask"==f.change&&(t.hasPendingMacrotasks=f.macroTask))},onHandleError:(r,a,d,f)=>(r.handleError(d,f),t.runOutsideAngular(()=>t.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,r,a){return this._inner.run(n,r,a)}runTask(n,r,a,d){const f=this._inner,p=f.scheduleEventTask("NgZoneEvent: "+d,n,X2,s_,s_);try{return f.runTask(p,r,a)}finally{f.cancelTask(p)}}runGuarded(n,r,a){return this._inner.runGuarded(n,r,a)}runOutsideAngular(n){return this._outer.run(n)}}const X2={};function P0(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function O0(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ex(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xx(t){t._nesting--,P0(t)}class nN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new at,this.onMicrotaskEmpty=new at,this.onStable=new at,this.onError=new at}run(n,r,a){return n.apply(r,a)}runGuarded(n,r,a){return n.apply(r,a)}runOutsideAngular(n){return n()}runTask(n,r,a,d){return n.apply(r,a)}}let R0=(()=>{class t{constructor(r){this._ngZone=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zn.assertNotInAngularZone(),N0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())N0(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(r)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,a,d){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==f),r(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:r,timeoutId:f,updateCb:d})}whenStable(r,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(r,a,d){return[]}}return t.\u0275fac=function(r){return new(r||t)(Ne(Zn))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})(),oN=(()=>{class t{constructor(){this._applications=new Map,B0.addToWindow(this)}registerApplication(r,a){this._applications.set(r,a)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,a=!0){return B0.findTestabilityInTree(this,r,a)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class iN{addToWindow(n){}findTestabilityInTree(n,r,a){return null}}let B0=new iN,nl=null;const Mx=new nt("AllowMultipleToken"),Ix=new nt("PlatformOnDestroy");class Sx{constructor(n,r){this.name=n,this.token=r}}function Tx(t,n,r=[]){const a=`Platform: ${n}`,d=new nt(a);return(f=[])=>{let p=F0();if(!p||p.injector.get(Mx,!1)){const b=[...r,...f,{provide:d,useValue:!0}];t?t(b):function cN(t){if(nl&&!nl.get(Mx,!1))throw new pt(400,"");nl=t;const n=t.get(Nx),r=t.get(yx,null);r&&r.forEach(a=>a())}(function dN(t=[],n){return Wn.create({name:n,providers:[{provide:Sf,useValue:"platform"},{provide:Ix,useValue:()=>nl=null},...t]})}(b,a))}return function lN(t){const n=F0();if(!n)throw new pt(401,"");return n}()}}function F0(){var t;return null!==(t=null==nl?void 0:nl.get(Nx))&&void 0!==t?t:null}let Nx=(()=>{class t{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,a){const b=function uN(t,n){let r;return r="noop"===t?new nN:("zone.js"===t?void 0:t)||new Zn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),r}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),_=[{provide:Zn,useValue:b}];return b.run(()=>{const C=Wn.create({providers:_,parent:this.injector,name:r.moduleType.name}),T=r.create(C),j=T.injector.get(ra,null);if(!j)throw new pt(402,"");return b.runOutsideAngular(()=>{const q=b.onError.subscribe({next:Z=>{j.handleError(Z)}});T.onDestroy(()=>{j0(this._modules,T),q.unsubscribe()})}),function hN(t,n,r){try{const a=r();return va(a)?a.catch(d=>{throw n.runOutsideAngular(()=>t.handleError(d)),d}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(j,b,()=>{const q=T.injector.get(I0);return q.runInitializers(),q.donePromise.then(()=>(function Ak(t){dt(t,"Expected localeId to be defined"),"string"==typeof t&&(yk=t.toLowerCase().replace(/_/g,"-"))}(T.injector.get(Ia,qc)||qc),this._moduleDoBootstrap(T),T))})})}bootstrapModule(r,a=[]){const d=Px({},a);return function sN(t,n,r){const a=new el(r);return Promise.resolve(a)}(0,0,r).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(r){const a=r.injector.get(L0);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!r.instance.ngDoBootstrap)throw new pt(403,"");r.instance.ngDoBootstrap(a)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pt(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const r=this._injector.get(Ix,null);null==r||r(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(r){return new(r||t)(Ne(Wn))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function Px(t,n){return Array.isArray(n)?n.reduce(Px,t):Object.assign(Object.assign({},t),n)}let L0=(()=>{class t{constructor(r,a,d,f){this._zone=r,this._injector=a,this._exceptionHandler=d,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new Be(_=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{_.next(this._stable),_.complete()})}),b=new Be(_=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Zn.assertNotInAngularZone(),N0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,_.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Zn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{_.next(!1)}))});return()=>{C.unsubscribe(),T.unsubscribe()}});this.isStable=function Ev(...t){const n=ri(t),r=function Ua(t,n){return"number"==typeof vu(t)?t.pop():n}(t,1/0),a=t;return a.length?1===a.length?ii(a[0]):Va(r)(Dn(a,n)):Ui}(p,b.pipe(function xv(t={}){const{connector:n=(()=>new je),resetOnError:r=!0,resetOnComplete:a=!0,resetOnRefCountZero:d=!0}=t;return f=>{let p,b,_,C=0,T=!1,j=!1;const q=()=>{null==b||b.unsubscribe(),b=void 0},Z=()=>{q(),p=_=void 0,T=j=!1},X=()=>{const re=p;Z(),null==re||re.unsubscribe()};return ot((re,de)=>{C++,!j&&!T&&q();const le=_=null!=_?_:n();de.add(()=>{C--,0===C&&!j&&!T&&(b=Ps(X,d))}),le.subscribe(de),!p&&C>0&&(p=new se({next:ie=>le.next(ie),error:ie=>{j=!0,q(),b=Ps(Z,r,ie),le.error(ie)},complete:()=>{T=!0,q(),b=Ps(Z,a),le.complete()}}),ii(re).subscribe(p))})(f)}}()))}bootstrap(r,a){if(!this._initStatus.done)throw new pt(405,"");let d;d=r instanceof Zk?r:this._injector.get(Jc).resolveComponentFactory(r),this.componentTypes.push(d.componentType);const f=function aN(t){return t.isBoundToModule}(d)?void 0:this._injector.get(ir),b=d.create(Wn.NULL,[],a||d.selector,f),_=b.location.nativeElement,C=b.injector.get(R0,null),T=C&&b.injector.get(oN);return C&&T&&T.registerApplication(_,C),b.onDestroy(()=>{this.detachView(b.hostView),j0(this.components,b),T&&T.unregisterApplication(_)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new pt(101,"");try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const a=r;this._views.push(a),a.attachToAppRef(this)}detachView(r){const a=r;j0(this._views,a),a.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(Ax,[]).concat(this._bootstrapListeners).forEach(d=>d(r))}ngOnDestroy(){this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(r){return new(r||t)(Ne(Zn),Ne(Wn),Ne(ra),Ne(I0))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function j0(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}let Rx=!0,a_=(()=>{class t{}return t.__NG_ELEMENT_ID__=pN,t})();function pN(t){return function mN(t,n,r){if(fo(t)&&!r){const a=Io(t.index,n);return new xa(a,a)}return 47&t.type?new xa(n[16],n):null}(Te(),fe(),16==(16&t))}class zx{constructor(){}supports(n){return ma(n)}create(n){return new CN(n)}}const vN=(t,n)=>n;class CN{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||vN}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,a=this._removalsHead,d=0,f=null;for(;r||a;){const p=!a||r&&r.currentIndex<Ux(a,d,f)?r:a,b=Ux(p,d,f),_=p.currentIndex;if(p===a)d--,a=a._nextRemoved;else if(r=r._next,null==p.previousIndex)d++;else{f||(f=[]);const C=b-d,T=_-d;if(C!=T){for(let q=0;q<C;q++){const Z=q<f.length?f[q]:f[q]=0,X=Z+q;T<=X&&X<C&&(f[q]=Z+1)}f[p.previousIndex]=T-C}}b!==_&&n(p,b,_)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!ma(n))throw new pt(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let d,f,p,r=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let b=0;b<this.length;b++)f=n[b],p=this._trackByFn(b,f),null!==r&&Object.is(r.trackById,p)?(a&&(r=this._verifyReinsertion(r,f,p,b)),Object.is(r.item,f)||this._addIdentityChange(r,f)):(r=this._mismatch(r,f,p,b),a=!0),r=r._next}else d=0,function vw(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[pa()]();let a;for(;!(a=r.next()).done;)n(a.value)}}(n,b=>{p=this._trackByFn(d,b),null!==r&&Object.is(r.trackById,p)?(a&&(r=this._verifyReinsertion(r,b,p,d)),Object.is(r.item,b)||this._addIdentityChange(r,b)):(r=this._mismatch(r,b,p,d),a=!0),r=r._next,d++}),this.length=d;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,a,d){let f;return null===n?f=this._itTail:(f=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,f,d)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,f,d)):n=this._addAfter(new yN(r,a),f,d),n}_verifyReinsertion(n,r,a,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?n=this._reinsertAfter(f,n._prev,d):n.currentIndex!=d&&(n.currentIndex=d,this._addToMoves(n,d)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const d=n._prevRemoved,f=n._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(n,r,a),this._addToMoves(n,a),n}_moveAfter(n,r,a){return this._unlink(n),this._insertAfter(n,r,a),this._addToMoves(n,a),n}_addAfter(n,r,a){return this._insertAfter(n,r,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,a){const d=null===r?this._itHead:r._next;return n._next=d,n._prev=r,null===d?this._itTail=n:d._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new Vx),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,a=n._next;return null===r?this._itHead=a:r._next=a,null===a?this._itTail=r:a._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vx),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class yN{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AN{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===r||r<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const r=n._prevDup,a=n._nextDup;return null===r?this._head=a:r._nextDup=a,null===a?this._tail=r:a._prevDup=r,null===this._head}}class Vx{constructor(){this.map=new Map}put(n){const r=n.trackById;let a=this.map.get(r);a||(a=new AN,this.map.set(r,a)),a.add(n)}get(n,r){const d=this.map.get(n);return d?d.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ux(t,n,r){const a=t.previousIndex;if(null===a)return a;let d=0;return r&&a<r.length&&(d=r[a]),a+n+d}function Gx(){return new d_([new zx])}let d_=(()=>{class t{constructor(r){this.factories=r}static create(r,a){if(null!=a){const d=a.factories.slice();r=r.concat(d)}return new t(r)}static extend(r){return{provide:t,useFactory:a=>t.create(r,a||Gx()),deps:[[t,new Ei,new mt]]}}find(r){const a=this.factories.find(d=>d.supports(r));if(null!=a)return a;throw new pt(901,"")}}return t.\u0275prov=Ge({token:t,providedIn:"root",factory:Gx}),t})();const IN=Tx(null,"core",[]);let SN=(()=>{class t{constructor(r){}}return t.\u0275fac=function(r){return new(r||t)(Ne(L0))},t.\u0275mod=lo({type:t}),t.\u0275inj=Jn({}),t})(),u_=null;function Lr(){return u_}const wi=new nt("DocumentToken");let il=(()=>{class t{historyGo(r){throw new Error("Not implemented")}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ge({token:t,factory:function(){return function ON(){return Ne(Wx)}()},providedIn:"platform"}),t})();const RN=new nt("Location Initialized");let Wx=(()=>{class t extends il{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Lr().getBaseHref(this._doc)}onPopState(r){const a=Lr().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",r,!1),()=>a.removeEventListener("popstate",r)}onHashChange(r){const a=Lr().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",r,!1),()=>a.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,a,d){qx()?this._history.pushState(r,a,d):this.location.hash=d}replaceState(r,a,d){qx()?this._history.replaceState(r,a,d):this.location.hash=d}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return t.\u0275fac=function(r){return new(r||t)(Ne(wi))},t.\u0275prov=Ge({token:t,factory:function(){return function BN(){return new Wx(Ne(wi))}()},providedIn:"platform"}),t})();function qx(){return!!window.history.pushState}function G0(t,n){if(0==t.length)return n;if(0==n.length)return t;let r=0;return t.endsWith("/")&&r++,n.startsWith("/")&&r++,2==r?t+n.substring(1):1==r?t+n:t+"/"+n}function Qx(t){const n=t.match(/#|\?|$/),r=n&&n.index||t.length;return t.slice(0,r-("/"===t[r-1]?1:0))+t.slice(r)}function As(t){return t&&"?"!==t[0]?"?"+t:t}let ou=(()=>{class t{historyGo(r){throw new Error("Not implemented")}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ge({token:t,factory:function(){return function FN(t){const n=Ne(wi).location;return new Zx(Ne(il),n&&n.origin||"")}()},providedIn:"root"}),t})();const $0=new nt("appBaseHref");let Zx=(()=>{class t extends ou{constructor(r,a){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==a&&(a=this._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=a}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return G0(this._baseHref,r)}path(r=!1){const a=this._platformLocation.pathname+As(this._platformLocation.search),d=this._platformLocation.hash;return d&&r?`${a}${d}`:a}pushState(r,a,d,f){const p=this.prepareExternalUrl(d+As(f));this._platformLocation.pushState(r,a,p)}replaceState(r,a,d,f){const p=this.prepareExternalUrl(d+As(f));this._platformLocation.replaceState(r,a,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,d;null===(d=(a=this._platformLocation).historyGo)||void 0===d||d.call(a,r)}}return t.\u0275fac=function(r){return new(r||t)(Ne(il),Ne($0,8))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})(),LN=(()=>{class t extends ou{constructor(r,a){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=a&&(this._baseHref=a)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let a=this._platformLocation.hash;return null==a&&(a="#"),a.length>0?a.substring(1):a}prepareExternalUrl(r){const a=G0(this._baseHref,r);return a.length>0?"#"+a:a}pushState(r,a,d,f){let p=this.prepareExternalUrl(d+As(f));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(r,a,p)}replaceState(r,a,d,f){let p=this.prepareExternalUrl(d+As(f));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(r,a,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,d;null===(d=(a=this._platformLocation).historyGo)||void 0===d||d.call(a,r)}}return t.\u0275fac=function(r){return new(r||t)(Ne(il),Ne($0,8))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})(),W0=(()=>{class t{constructor(r,a){this._subject=new at,this._urlChangeListeners=[],this._platformStrategy=r;const d=this._platformStrategy.getBaseHref();this._platformLocation=a,this._baseHref=Qx(Kx(d)),this._platformStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,a=""){return this.path()==this.normalize(r+As(a))}normalize(r){return t.stripTrailingSlash(function zN(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,Kx(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,a="",d=null){this._platformStrategy.pushState(d,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+As(a)),d)}replaceState(r,a="",d=null){this._platformStrategy.replaceState(d,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+As(a)),d)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var a,d;null===(d=(a=this._platformStrategy).historyGo)||void 0===d||d.call(a,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}))}_notifyUrlChangeListeners(r="",a){this._urlChangeListeners.forEach(d=>d(r,a))}subscribe(r,a,d){return this._subject.subscribe({next:r,error:a,complete:d})}}return t.normalizeQueryParams=As,t.joinWithSlash=G0,t.stripTrailingSlash=Qx,t.\u0275fac=function(r){return new(r||t)(Ne(ou),Ne(il))},t.\u0275prov=Ge({token:t,factory:function(){return function jN(){return new W0(Ne(ou),Ne(il))}()},providedIn:"root"}),t})();function Kx(t){return t.replace(/\/index.html$/,"")}function rM(t,n){n=encodeURIComponent(n);for(const r of t.split(";")){const a=r.indexOf("="),[d,f]=-1==a?[r,""]:[r.slice(0,a),r.slice(a+1)];if(d.trim()===n)return decodeURIComponent(f)}return null}class DP{constructor(n,r,a,d){this.$implicit=n,this.ngForOf=r,this.index=a,this.count=d}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sM=(()=>{class t{constructor(r,a,d){this._viewContainer=r,this._template=a,this._differs=d,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const a=this._viewContainer;r.forEachOperation((d,f,p)=>{if(null==d.previousIndex)a.createEmbeddedView(this._template,new DP(d.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)a.remove(null===f?void 0:f);else if(null!==f){const b=a.get(f);a.move(b,p),aM(b,d)}});for(let d=0,f=a.length;d<f;d++){const b=a.get(d).context;b.index=d,b.count=f,b.ngForOf=this._ngForOf}r.forEachIdentityChange(d=>{aM(a.get(d.currentIndex),d)})}static ngTemplateContextGuard(r,a){return!0}}return t.\u0275fac=function(r){return new(r||t)(ae(sr),ae(Rn),ae(d_))},t.\u0275dir=Ue({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function aM(t,n){t.context.$implicit=n.item}let cM=(()=>{class t{constructor(r,a){this._viewContainer=r,this._context=new EP,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=a}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){lM("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){lM("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,a){return!0}}return t.\u0275fac=function(r){return new(r||t)(ae(sr),ae(Rn))},t.\u0275dir=Ue({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class EP{constructor(){this.$implicit=null,this.ngIf=null}}function lM(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Et(n)}'.`)}let hM=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lo({type:t}),t.\u0275inj=Jn({}),t})();let nO=(()=>{class t{}return t.\u0275prov=Ge({token:t,providedIn:"root",factory:()=>new oO(Ne(wi),window)}),t})();class oO{constructor(n,r){this.document=n,this.window=r,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const r=function iO(t,n){const r=t.getElementById(n)||t.getElementsByName(n)[0];if(r)return r;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const a=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let d=a.currentNode;for(;d;){const f=d.shadowRoot;if(f){const p=f.getElementById(n)||f.querySelector(`[name="${n}"]`);if(p)return p}d=a.nextNode()}}return null}(this.document,n);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=n)}}scrollToElement(n){const r=n.getBoundingClientRect(),a=r.left+this.window.pageXOffset,d=r.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(a-f[0],d-f[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=gM(this.window.history)||gM(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function gM(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class pM{}class s1 extends class rO extends class PN{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function NN(t){u_||(u_=t)}(new s1)}onAndCancel(n,r,a){return n.addEventListener(r,a,!1),()=>{n.removeEventListener(r,a,!1)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,r){return(r=r||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return"window"===r?window:"document"===r?n:"body"===r?n.body:null}getBaseHref(n){const r=function sO(){return rp=rp||document.querySelector("base"),rp?rp.getAttribute("href"):null}();return null==r?null:function aO(t){v_=v_||document.createElement("a"),v_.setAttribute("href",t);const n=v_.pathname;return"/"===n.charAt(0)?n:`/${n}`}(r)}resetBaseElement(){rp=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return rM(document.cookie,n)}}let v_,rp=null;const mM=new nt("TRANSITION_ID"),lO=[{provide:M0,useFactory:function cO(t,n,r){return()=>{r.get(I0).donePromise.then(()=>{const a=Lr(),d=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let f=0;f<d.length;f++)a.remove(d[f])})}},deps:[mM,wi,Wn],multi:!0}];class a1{static init(){!function rN(t){B0=t}(new a1)}addToWindow(n){Tt.getAngularTestability=(a,d=!0)=>{const f=n.findTestabilityInTree(a,d);if(null==f)throw new Error("Could not find testability for element.");return f},Tt.getAllAngularTestabilities=()=>n.getAllTestabilities(),Tt.getAllAngularRootElements=()=>n.getAllRootElements(),Tt.frameworkStabilizers||(Tt.frameworkStabilizers=[]),Tt.frameworkStabilizers.push(a=>{const d=Tt.getAllAngularTestabilities();let f=d.length,p=!1;const b=function(_){p=p||_,f--,0==f&&a(p)};d.forEach(function(_){_.whenStable(b)})})}findTestabilityInTree(n,r,a){if(null==r)return null;const d=n.getTestability(r);return null!=d?d:a?Lr().isShadowRoot(r)?this.findTestabilityInTree(n,r.host,!0):this.findTestabilityInTree(n,r.parentElement,!0):null}}let dO=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})();const C_=new nt("EventManagerPlugins");let y_=(()=>{class t{constructor(r,a){this._zone=a,this._eventNameToPlugin=new Map,r.forEach(d=>d.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,a,d){return this._findPluginFor(a).addEventListener(r,a,d)}addGlobalEventListener(r,a,d){return this._findPluginFor(a).addGlobalEventListener(r,a,d)}getZone(){return this._zone}_findPluginFor(r){const a=this._eventNameToPlugin.get(r);if(a)return a;const d=this._plugins;for(let f=0;f<d.length;f++){const p=d[f];if(p.supports(r))return this._eventNameToPlugin.set(r,p),p}throw new Error(`No event manager plugin found for event ${r}`)}}return t.\u0275fac=function(r){return new(r||t)(Ne(C_),Ne(Zn))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})();class bM{constructor(n){this._doc=n}addGlobalEventListener(n,r,a){const d=Lr().getGlobalEventTarget(this._doc,n);if(!d)throw new Error(`Unsupported event target ${d} for event ${r}`);return this.addEventListener(d,r,a)}}let wM=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(r){const a=new Set;r.forEach(d=>{this._stylesSet.has(d)||(this._stylesSet.add(d),a.add(d))}),this.onStylesAdded(a)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})(),sp=(()=>{class t extends wM{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,a,d){r.forEach(f=>{const p=this._doc.createElement("style");p.textContent=f,d.push(a.appendChild(p))})}addHost(r){const a=[];this._addStylesToHost(this._stylesSet,r,a),this._hostNodes.set(r,a)}removeHost(r){const a=this._hostNodes.get(r);a&&a.forEach(kM),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((a,d)=>{this._addStylesToHost(r,d,a)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(kM))}}return t.\u0275fac=function(r){return new(r||t)(Ne(wi))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})();function kM(t){Lr().remove(t)}const c1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},l1=/%COMP%/g;function A_(t,n,r){for(let a=0;a<n.length;a++){let d=n[a];Array.isArray(d)?A_(t,d,r):(d=d.replace(l1,t),r.push(d))}return r}function CM(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let d1=(()=>{class t{constructor(r,a,d){this.eventManager=r,this.sharedStylesHost=a,this.appId=d,this.rendererByCompId=new Map,this.defaultRenderer=new u1(r)}createRenderer(r,a){if(!r||!a)return this.defaultRenderer;switch(a.encapsulation){case si.Emulated:{let d=this.rendererByCompId.get(a.id);return d||(d=new mO(this.eventManager,this.sharedStylesHost,a,this.appId),this.rendererByCompId.set(a.id,d)),d.applyToHost(r),d}case 1:case si.ShadowDom:return new bO(this.eventManager,this.sharedStylesHost,r,a);default:if(!this.rendererByCompId.has(a.id)){const d=A_(a.id,a.styles,[]);this.sharedStylesHost.addStyles(d),this.rendererByCompId.set(a.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(r){return new(r||t)(Ne(y_),Ne(sp),Ne(tp))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})();class u1{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,r){return r?document.createElementNS(c1[r]||r,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,r){n.appendChild(r)}insertBefore(n,r,a){n&&n.insertBefore(r,a)}removeChild(n,r){n&&n.removeChild(r)}selectRootElement(n,r){let a="string"==typeof n?document.querySelector(n):n;if(!a)throw new Error(`The selector "${n}" did not match any elements`);return r||(a.textContent=""),a}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,a,d){if(d){r=d+":"+r;const f=c1[d];f?n.setAttributeNS(f,r,a):n.setAttribute(r,a)}else n.setAttribute(r,a)}removeAttribute(n,r,a){if(a){const d=c1[a];d?n.removeAttributeNS(d,r):n.removeAttribute(`${a}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,a,d){d&(mo.DashCase|mo.Important)?n.style.setProperty(r,a,d&mo.Important?"important":""):n.style[r]=a}removeStyle(n,r,a){a&mo.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,a){n[r]=a}setValue(n,r){n.nodeValue=r}listen(n,r,a){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,r,CM(a)):this.eventManager.addEventListener(n,r,CM(a))}}class mO extends u1{constructor(n,r,a,d){super(n),this.component=a;const f=A_(d+"-"+a.id,a.styles,[]);r.addStyles(f),this.contentAttr=function fO(t){return"_ngcontent-%COMP%".replace(l1,t)}(d+"-"+a.id),this.hostAttr=function gO(t){return"_nghost-%COMP%".replace(l1,t)}(d+"-"+a.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,r){const a=super.createElement(n,r);return super.setAttribute(a,this.contentAttr,""),a}}class bO extends u1{constructor(n,r,a,d){super(n),this.sharedStylesHost=r,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=A_(d.id,d.styles,[]);for(let p=0;p<f.length;p++){const b=document.createElement("style");b.textContent=f[p],this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,a){return super.insertBefore(this.nodeOrShadowRoot(n),r,a)}removeChild(n,r){return super.removeChild(this.nodeOrShadowRoot(n),r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let wO=(()=>{class t extends bM{constructor(r){super(r)}supports(r){return!0}addEventListener(r,a,d){return r.addEventListener(a,d,!1),()=>this.removeEventListener(r,a,d)}removeEventListener(r,a,d){return r.removeEventListener(a,d)}}return t.\u0275fac=function(r){return new(r||t)(Ne(wi))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})();const AM=["alt","control","meta","shift"],_O={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DM={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let CO=(()=>{class t extends bM{constructor(r){super(r)}supports(r){return null!=t.parseEventName(r)}addEventListener(r,a,d){const f=t.parseEventName(a),p=t.eventCallback(f.fullKey,d,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lr().onAndCancel(r,f.domEventName,p))}static parseEventName(r){const a=r.toLowerCase().split("."),d=a.shift();if(0===a.length||"keydown"!==d&&"keyup"!==d)return null;const f=t._normalizeKey(a.pop());let p="";if(AM.forEach(_=>{const C=a.indexOf(_);C>-1&&(a.splice(C,1),p+=_+".")}),p+=f,0!=a.length||0===f.length)return null;const b={};return b.domEventName=d,b.fullKey=p,b}static getEventFullKey(r){let a="",d=function yO(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&DM.hasOwnProperty(n)&&(n=DM[n]))}return _O[n]||n}(r);return d=d.toLowerCase()," "===d?d="space":"."===d&&(d="dot"),AM.forEach(f=>{f!=d&&vO[f](r)&&(a+=f+".")}),a+=d,a}static eventCallback(r,a,d){return f=>{t.getEventFullKey(f)===r&&d.runGuarded(()=>a(f))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return t.\u0275fac=function(r){return new(r||t)(Ne(wi))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})();const xO=Tx(IN,"browser",[{provide:T0,useValue:"browser"},{provide:yx,useValue:function AO(){s1.makeCurrent(),a1.init()},multi:!0},{provide:wi,useFactory:function EO(){return function Kv(t){zu=t}(document),document},deps:[]}]),MO=[{provide:Sf,useValue:"root"},{provide:ra,useFactory:function DO(){return new ra},deps:[]},{provide:C_,useClass:wO,multi:!0,deps:[wi,Zn,T0]},{provide:C_,useClass:CO,multi:!0,deps:[wi]},{provide:d1,useClass:d1,deps:[y_,sp,tp]},{provide:Xk,useExisting:d1},{provide:wM,useExisting:sp},{provide:sp,useClass:sp,deps:[wi]},{provide:R0,useClass:R0,deps:[Zn]},{provide:y_,useClass:y_,deps:[C_,Zn]},{provide:pM,useClass:dO,deps:[]}];let IO=(()=>{class t{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:t,providers:[{provide:tp,useValue:r.appId},{provide:mM,useExisting:tp},lO]}}}return t.\u0275fac=function(r){return new(r||t)(Ne(t,12))},t.\u0275mod=lo({type:t}),t.\u0275inj=Jn({providers:MO,imports:[hM,SN]}),t})();function rt(...t){return Dn(t,ri(t))}"undefined"!=typeof window&&window;class lr extends je{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const r=super._subscribe(n);return!r.closed&&n.next(this._value),r}getValue(){const{hasError:n,thrownError:r,_value:a}=this;if(n)throw r;return this._throwIfClosed(),a}next(n){super.next(this._value=n)}}const{isArray:zO}=Array,{getPrototypeOf:VO,prototype:UO,keys:HO}=Object;function MM(t){if(1===t.length){const n=t[0];if(zO(n))return{args:n,keys:null};if(function GO(t){return t&&"object"==typeof t&&VO(t)===UO}(n)){const r=HO(n);return{args:r.map(a=>n[a]),keys:r}}}return{args:t,keys:null}}const{isArray:$O}=Array;function IM(t){return Ae(n=>function WO(t,n){return $O(n)?t(...n):t(n)}(t,n))}function SM(t,n){return t.reduce((r,a,d)=>(r[a]=n[d],r),{})}function TM(t,n,r){t?Vi(r,t,n):n()}function D_(t,n){const r=x(t)?t:()=>t,a=d=>d.error(r());return new Be(n?d=>n.schedule(a,0,d):a)}const E_=D(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function f1(...t){return function ZO(){return Va(1)}()(Dn(t,ri(t)))}function NM(t){return new Be(n=>{ii(t()).subscribe(n)})}function PM(){return ot((t,n)=>{let r=null;t._refCount++;const a=an(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(r=null);const d=t._connection,f=r;r=null,d&&(!f||d===f)&&d.unsubscribe(),n.unsubscribe()});t.subscribe(a),a.closed||(r=t.connect())})}class KO extends Be{constructor(n,r){super(),this.source=n,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,Vr(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new O;const r=this.getSubject();n.add(this.source.subscribe(an(r,void 0,()=>{this._teardown(),r.complete()},a=>{this._teardown(),r.error(a)},()=>this._teardown()))),n.closed&&(this._connection=null,n=O.EMPTY)}return n}refCount(){return PM()(this)}}function rl(t,n){return ot((r,a)=>{let d=null,f=0,p=!1;const b=()=>p&&!d&&a.complete();r.subscribe(an(a,_=>{null==d||d.unsubscribe();let C=0;const T=f++;ii(t(_,T)).subscribe(d=an(a,j=>a.next(n?n(_,j,T,C++):j),()=>{d=null,b()}))},()=>{p=!0,b()}))})}function g1(t){return t<=0?()=>Ui:ot((n,r)=>{let a=0;n.subscribe(an(r,d=>{++a<=t&&(r.next(d),t<=a&&r.complete())}))})}function JO(t,n,r,a,d){return(f,p)=>{let b=r,_=n,C=0;f.subscribe(an(p,T=>{const j=C++;_=b?t(_,T,j):(b=!0,T),a&&p.next(_)},d&&(()=>{b&&p.next(_),p.complete()})))}}function OM(t,n){return ot(JO(t,n,arguments.length>=2,!0))}function sl(t,n){return ot((r,a)=>{let d=0;r.subscribe(an(a,f=>t.call(n,f,d++)&&a.next(f)))})}function Ta(t){return ot((n,r)=>{let f,a=null,d=!1;a=n.subscribe(an(r,void 0,void 0,p=>{f=ii(t(p,Ta(t)(n))),a?(a.unsubscribe(),a=null,f.subscribe(r)):d=!0})),d&&(a.unsubscribe(),a=null,f.subscribe(r))})}function iu(t,n){return x(n)?An(t,n,1):An(t,1)}function p1(t){return t<=0?()=>Ui:ot((n,r)=>{let a=[];n.subscribe(an(r,d=>{a.push(d),t<a.length&&a.shift()},()=>{for(const d of a)r.next(d);r.complete()},void 0,()=>{a=null}))})}function RM(t=XO){return ot((n,r)=>{let a=!1;n.subscribe(an(r,d=>{a=!0,r.next(d)},()=>a?r.complete():r.error(t())))})}function XO(){return new E_}function BM(t){return ot((n,r)=>{let a=!1;n.subscribe(an(r,d=>{a=!0,r.next(d)},()=>{a||r.next(t),r.complete()}))})}function al(t,n){const r=arguments.length>=2;return a=>a.pipe(t?sl((d,f)=>t(d,f,a)):Ee,g1(1),r?BM(n):RM(()=>new E_))}function ki(t,n,r){const a=x(t)||n||r?{next:t,error:n,complete:r}:t;return a?ot((d,f)=>{var p;null===(p=a.subscribe)||void 0===p||p.call(a);let b=!0;d.subscribe(an(f,_=>{var C;null===(C=a.next)||void 0===C||C.call(a,_),f.next(_)},()=>{var _;b=!1,null===(_=a.complete)||void 0===_||_.call(a),f.complete()},_=>{var C;b=!1,null===(C=a.error)||void 0===C||C.call(a,_),f.error(_)},()=>{var _,C;b&&(null===(_=a.unsubscribe)||void 0===_||_.call(a)),null===(C=a.finalize)||void 0===C||C.call(a)}))}):Ee}class Es{constructor(n,r){this.id=n,this.url=r}}class m1 extends Es{constructor(n,r,a="imperative",d=null){super(n,r),this.navigationTrigger=a,this.restoredState=d}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ap extends Es{constructor(n,r,a){super(n,r),this.urlAfterRedirects=a}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class FM extends Es{constructor(n,r,a){super(n,r),this.reason=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nR extends Es{constructor(n,r,a){super(n,r),this.error=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oR extends Es{constructor(n,r,a,d){super(n,r),this.urlAfterRedirects=a,this.state=d}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iR extends Es{constructor(n,r,a,d){super(n,r),this.urlAfterRedirects=a,this.state=d}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rR extends Es{constructor(n,r,a,d,f){super(n,r),this.urlAfterRedirects=a,this.state=d,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sR extends Es{constructor(n,r,a,d){super(n,r),this.urlAfterRedirects=a,this.state=d}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aR extends Es{constructor(n,r,a,d){super(n,r),this.urlAfterRedirects=a,this.state=d}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LM{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jM{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cR{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lR{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dR{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uR{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zM{constructor(n,r,a){this.routerEvent=n,this.position=r,this.anchor=a}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ht="primary";class hR{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function ru(t){return new hR(t)}const VM="ngNavigationCancelingError";function b1(t){const n=Error("NavigationCancelingError: "+t);return n[VM]=!0,n}function gR(t,n,r){const a=r.path.split("/");if(a.length>t.length||"full"===r.pathMatch&&(n.hasChildren()||a.length<t.length))return null;const d={};for(let f=0;f<a.length;f++){const p=a[f],b=t[f];if(p.startsWith(":"))d[p.substring(1)]=b;else if(p!==b.path)return null}return{consumed:t.slice(0,a.length),posParams:d}}function jr(t,n){const r=t?Object.keys(t):void 0,a=n?Object.keys(n):void 0;if(!r||!a||r.length!=a.length)return!1;let d;for(let f=0;f<r.length;f++)if(d=r[f],!UM(t[d],n[d]))return!1;return!0}function UM(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const r=[...t].sort(),a=[...n].sort();return r.every((d,f)=>a[f]===d)}return t===n}function HM(t){return Array.prototype.concat.apply([],t)}function GM(t){return t.length>0?t[t.length-1]:null}function so(t,n){for(const r in t)t.hasOwnProperty(r)&&n(t[r],r)}function zr(t){return Qf(t)?t:va(t)?Dn(Promise.resolve(t)):rt(t)}const bR={exact:function qM(t,n,r){if(!ll(t.segments,n.segments)||!x_(t.segments,n.segments,r)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const a in n.children)if(!t.children[a]||!qM(t.children[a],n.children[a],r))return!1;return!0},subset:QM},$M={exact:function wR(t,n){return jr(t,n)},subset:function kR(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(r=>UM(t[r],n[r]))},ignored:()=>!0};function WM(t,n,r){return bR[r.paths](t.root,n.root,r.matrixParams)&&$M[r.queryParams](t.queryParams,n.queryParams)&&!("exact"===r.fragment&&t.fragment!==n.fragment)}function QM(t,n,r){return ZM(t,n,n.segments,r)}function ZM(t,n,r,a){if(t.segments.length>r.length){const d=t.segments.slice(0,r.length);return!(!ll(d,r)||n.hasChildren()||!x_(d,r,a))}if(t.segments.length===r.length){if(!ll(t.segments,r)||!x_(t.segments,r,a))return!1;for(const d in n.children)if(!t.children[d]||!QM(t.children[d],n.children[d],a))return!1;return!0}{const d=r.slice(0,t.segments.length),f=r.slice(t.segments.length);return!!(ll(t.segments,d)&&x_(t.segments,d,a)&&t.children[ht])&&ZM(t.children[ht],n,f,a)}}function x_(t,n,r){return n.every((a,d)=>$M[r](t[d].parameters,a.parameters))}class cl{constructor(n,r,a){this.root=n,this.queryParams=r,this.fragment=a}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ru(this.queryParams)),this._queryParamMap}toString(){return CR.serialize(this)}}class bt{constructor(n,r){this.segments=n,this.children=r,this.parent=null,so(r,(a,d)=>a.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return M_(this)}}class cp{constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=ru(this.parameters)),this._parameterMap}toString(){return eI(this)}}function ll(t,n){return t.length===n.length&&t.every((r,a)=>r.path===n[a].path)}class KM{}class YM{parse(n){const r=new TR(n);return new cl(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){const r=`/${lp(n.root,!0)}`,a=function DR(t){const n=Object.keys(t).map(r=>{const a=t[r];return Array.isArray(a)?a.map(d=>`${I_(r)}=${I_(d)}`).join("&"):`${I_(r)}=${I_(a)}`}).filter(r=>!!r);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${r}${a}${"string"==typeof n.fragment?`#${function yR(t){return encodeURI(t)}(n.fragment)}`:""}`}}const CR=new YM;function M_(t){return t.segments.map(n=>eI(n)).join("/")}function lp(t,n){if(!t.hasChildren())return M_(t);if(n){const r=t.children[ht]?lp(t.children[ht],!1):"",a=[];return so(t.children,(d,f)=>{f!==ht&&a.push(`${f}:${lp(d,!1)}`)}),a.length>0?`${r}(${a.join("//")})`:r}{const r=function vR(t,n){let r=[];return so(t.children,(a,d)=>{d===ht&&(r=r.concat(n(a,d)))}),so(t.children,(a,d)=>{d!==ht&&(r=r.concat(n(a,d)))}),r}(t,(a,d)=>d===ht?[lp(t.children[ht],!1)]:[`${d}:${lp(a,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ht]?`${M_(t)}/${r[0]}`:`${M_(t)}/(${r.join("//")})`}}function JM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function I_(t){return JM(t).replace(/%3B/gi,";")}function w1(t){return JM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function S_(t){return decodeURIComponent(t)}function XM(t){return S_(t.replace(/\+/g,"%20"))}function eI(t){return`${w1(t.path)}${function AR(t){return Object.keys(t).map(n=>`;${w1(n)}=${w1(t[n])}`).join("")}(t.parameters)}`}const ER=/^[^\/()?;=#]+/;function T_(t){const n=t.match(ER);return n?n[0]:""}const xR=/^[^=?&#]+/,IR=/^[^&#]+/;class TR{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bt([],{}):new bt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let a={};return this.peekStartsWith("(")&&(a=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(a[ht]=new bt(n,r)),a}parseSegment(){const n=T_(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new cp(S_(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const r=T_(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const d=T_(this.remaining);d&&(a=d,this.capture(a))}n[S_(r)]=S_(a)}parseQueryParam(n){const r=function MR(t){const n=t.match(xR);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const p=function SR(t){const n=t.match(IR);return n?n[0]:""}(this.remaining);p&&(a=p,this.capture(a))}const d=XM(r),f=XM(a);if(n.hasOwnProperty(d)){let p=n[d];Array.isArray(p)||(p=[p],n[d]=p),p.push(f)}else n[d]=f}parseParens(n){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const a=T_(this.remaining),d=this.remaining[a.length];if("/"!==d&&")"!==d&&";"!==d)throw new Error(`Cannot parse url '${this.url}'`);let f;a.indexOf(":")>-1?(f=a.substr(0,a.indexOf(":")),this.capture(f),this.capture(":")):n&&(f=ht);const p=this.parseChildren();r[f]=1===Object.keys(p).length?p[ht]:new bt([],p),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class tI{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){const r=k1(n,this._root);return r?r.children.map(a=>a.value):[]}firstChild(n){const r=k1(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){const r=_1(n,this._root);return r.length<2?[]:r[r.length-2].children.map(d=>d.value).filter(d=>d!==n)}pathFromRoot(n){return _1(n,this._root).map(r=>r.value)}}function k1(t,n){if(t===n.value)return n;for(const r of n.children){const a=k1(t,r);if(a)return a}return null}function _1(t,n){if(t===n.value)return[n];for(const r of n.children){const a=_1(t,r);if(a.length)return a.unshift(n),a}return[]}class xs{constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}}function su(t){const n={};return t&&t.children.forEach(r=>n[r.value.outlet]=r),n}class nI extends tI{constructor(n,r){super(n),this.snapshot=r,v1(this,n)}toString(){return this.snapshot.toString()}}function oI(t,n){const r=function NR(t,n){const p=new N_([],{},{},"",{},ht,n,null,t.root,-1,{});return new rI("",new xs(p,[]))}(t,n),a=new lr([new cp("",{})]),d=new lr({}),f=new lr({}),p=new lr({}),b=new lr(""),_=new au(a,d,p,b,f,ht,n,r.root);return _.snapshot=r.root,new nI(new xs(_,[]),r)}class au{constructor(n,r,a,d,f,p,b,_){this.url=n,this.params=r,this.queryParams=a,this.fragment=d,this.data=f,this.outlet=p,this.component=b,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ae(n=>ru(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ae(n=>ru(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iI(t,n="emptyOnly"){const r=t.pathFromRoot;let a=0;if("always"!==n)for(a=r.length-1;a>=1;){const d=r[a],f=r[a-1];if(d.routeConfig&&""===d.routeConfig.path)a--;else{if(f.component)break;a--}}return function PR(t){return t.reduce((n,r)=>({params:Object.assign(Object.assign({},n.params),r.params),data:Object.assign(Object.assign({},n.data),r.data),resolve:Object.assign(Object.assign({},n.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(a))}class N_{constructor(n,r,a,d,f,p,b,_,C,T,j){this.url=n,this.params=r,this.queryParams=a,this.fragment=d,this.data=f,this.outlet=p,this.component=b,this.routeConfig=_,this._urlSegment=C,this._lastPathIndex=T,this._resolve=j}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ru(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ru(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(a=>a.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rI extends tI{constructor(n,r){super(r),this.url=n,v1(this,r)}toString(){return sI(this._root)}}function v1(t,n){n.value._routerState=t,n.children.forEach(r=>v1(t,r))}function sI(t){const n=t.children.length>0?` { ${t.children.map(sI).join(", ")} } `:"";return`${t.value}${n}`}function C1(t){if(t.snapshot){const n=t.snapshot,r=t._futureSnapshot;t.snapshot=r,jr(n.queryParams,r.queryParams)||t.queryParams.next(r.queryParams),n.fragment!==r.fragment&&t.fragment.next(r.fragment),jr(n.params,r.params)||t.params.next(r.params),function pR(t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;++r)if(!jr(t[r],n[r]))return!1;return!0}(n.url,r.url)||t.url.next(r.url),jr(n.data,r.data)||t.data.next(r.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function y1(t,n){const r=jr(t.params,n.params)&&function _R(t,n){return ll(t,n)&&t.every((r,a)=>jr(r.parameters,n[a].parameters))}(t.url,n.url);return r&&!(!t.parent!=!n.parent)&&(!t.parent||y1(t.parent,n.parent))}function dp(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){const a=r.value;a._futureSnapshot=n.value;const d=function RR(t,n,r){return n.children.map(a=>{for(const d of r.children)if(t.shouldReuseRoute(a.value,d.value.snapshot))return dp(t,a,d);return dp(t,a)})}(t,n,r);return new xs(a,d)}{if(t.shouldAttach(n.value)){const f=t.retrieve(n.value);if(null!==f){const p=f.route;return p.value._futureSnapshot=n.value,p.children=n.children.map(b=>dp(t,b)),p}}const a=function BR(t){return new au(new lr(t.url),new lr(t.params),new lr(t.queryParams),new lr(t.fragment),new lr(t.data),t.outlet,t.component,t)}(n.value),d=n.children.map(f=>dp(t,f));return new xs(a,d)}}function P_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function up(t){return"object"==typeof t&&null!=t&&t.outlets}function A1(t,n,r,a,d){let f={};if(a&&so(a,(b,_)=>{f[_]=Array.isArray(b)?b.map(C=>`${C}`):`${b}`}),t===n)return new cl(r,f,d);const p=aI(t,n,r);return new cl(p,f,d)}function aI(t,n,r){const a={};return so(t.children,(d,f)=>{a[f]=d===n?r:aI(d,n,r)}),new bt(t.segments,a)}class cI{constructor(n,r,a){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=a,n&&a.length>0&&P_(a[0]))throw new Error("Root segment cannot have matrix parameters");const d=a.find(up);if(d&&d!==GM(a))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class D1{constructor(n,r,a){this.segmentGroup=n,this.processChildren=r,this.index=a}}function lI(t,n,r){if(t||(t=new bt([],{})),0===t.segments.length&&t.hasChildren())return O_(t,n,r);const a=function UR(t,n,r){let a=0,d=n;const f={match:!1,pathIndex:0,commandIndex:0};for(;d<t.segments.length;){if(a>=r.length)return f;const p=t.segments[d],b=r[a];if(up(b))break;const _=`${b}`,C=a<r.length-1?r[a+1]:null;if(d>0&&void 0===_)break;if(_&&C&&"object"==typeof C&&void 0===C.outlets){if(!uI(_,C,p))return f;a+=2}else{if(!uI(_,{},p))return f;a++}d++}return{match:!0,pathIndex:d,commandIndex:a}}(t,n,r),d=r.slice(a.commandIndex);if(a.match&&a.pathIndex<t.segments.length){const f=new bt(t.segments.slice(0,a.pathIndex),{});return f.children[ht]=new bt(t.segments.slice(a.pathIndex),t.children),O_(f,0,d)}return a.match&&0===d.length?new bt(t.segments,{}):a.match&&!t.hasChildren()?E1(t,n,r):a.match?O_(t,0,d):E1(t,n,r)}function O_(t,n,r){if(0===r.length)return new bt(t.segments,{});{const a=function VR(t){return up(t[0])?t[0].outlets:{[ht]:t}}(r),d={};return so(a,(f,p)=>{"string"==typeof f&&(f=[f]),null!==f&&(d[p]=lI(t.children[p],n,f))}),so(t.children,(f,p)=>{void 0===a[p]&&(d[p]=f)}),new bt(t.segments,d)}}function E1(t,n,r){const a=t.segments.slice(0,n);let d=0;for(;d<r.length;){const f=r[d];if(up(f)){const _=HR(f.outlets);return new bt(a,_)}if(0===d&&P_(r[0])){a.push(new cp(t.segments[n].path,dI(r[0]))),d++;continue}const p=up(f)?f.outlets[ht]:`${f}`,b=d<r.length-1?r[d+1]:null;p&&b&&P_(b)?(a.push(new cp(p,dI(b))),d+=2):(a.push(new cp(p,{})),d++)}return new bt(a,{})}function HR(t){const n={};return so(t,(r,a)=>{"string"==typeof r&&(r=[r]),null!==r&&(n[a]=E1(new bt([],{}),0,r))}),n}function dI(t){const n={};return so(t,(r,a)=>n[a]=`${r}`),n}function uI(t,n,r){return t==r.path&&jr(n,r.parameters)}class $R{constructor(n,r,a,d){this.routeReuseStrategy=n,this.futureState=r,this.currState=a,this.forwardEvent=d}activate(n){const r=this.futureState._root,a=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,a,n),C1(this.futureState.root),this.activateChildRoutes(r,a,n)}deactivateChildRoutes(n,r,a){const d=su(r);n.children.forEach(f=>{const p=f.value.outlet;this.deactivateRoutes(f,d[p],a),delete d[p]}),so(d,(f,p)=>{this.deactivateRouteAndItsChildren(f,a)})}deactivateRoutes(n,r,a){const d=n.value,f=r?r.value:null;if(d===f)if(d.component){const p=a.getContext(d.outlet);p&&this.deactivateChildRoutes(n,r,p.children)}else this.deactivateChildRoutes(n,r,a);else f&&this.deactivateRouteAndItsChildren(r,a)}deactivateRouteAndItsChildren(n,r){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){const a=r.getContext(n.value.outlet),d=a&&n.value.component?a.children:r,f=su(n);for(const p of Object.keys(f))this.deactivateRouteAndItsChildren(f[p],d);if(a&&a.outlet){const p=a.outlet.detach(),b=a.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:p,route:n,contexts:b})}}deactivateRouteAndOutlet(n,r){const a=r.getContext(n.value.outlet),d=a&&n.value.component?a.children:r,f=su(n);for(const p of Object.keys(f))this.deactivateRouteAndItsChildren(f[p],d);a&&a.outlet&&(a.outlet.deactivate(),a.children.onOutletDeactivated(),a.attachRef=null,a.resolver=null,a.route=null)}activateChildRoutes(n,r,a){const d=su(r);n.children.forEach(f=>{this.activateRoutes(f,d[f.value.outlet],a),this.forwardEvent(new uR(f.value.snapshot))}),n.children.length&&this.forwardEvent(new lR(n.value.snapshot))}activateRoutes(n,r,a){const d=n.value,f=r?r.value:null;if(C1(d),d===f)if(d.component){const p=a.getOrCreateContext(d.outlet);this.activateChildRoutes(n,r,p.children)}else this.activateChildRoutes(n,r,a);else if(d.component){const p=a.getOrCreateContext(d.outlet);if(this.routeReuseStrategy.shouldAttach(d.snapshot)){const b=this.routeReuseStrategy.retrieve(d.snapshot);this.routeReuseStrategy.store(d.snapshot,null),p.children.onOutletReAttached(b.contexts),p.attachRef=b.componentRef,p.route=b.route.value,p.outlet&&p.outlet.attach(b.componentRef,b.route.value),C1(b.route.value),this.activateChildRoutes(n,null,p.children)}else{const b=function WR(t){for(let n=t.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(d.snapshot),_=b?b.module.componentFactoryResolver:null;p.attachRef=null,p.route=d,p.resolver=_,p.outlet&&p.outlet.activateWith(d,_),this.activateChildRoutes(n,null,p.children)}}else this.activateChildRoutes(n,null,a)}}class x1{constructor(n,r){this.routes=n,this.module=r}}function Na(t){return"function"==typeof t}function dl(t){return t instanceof cl}const hp=Symbol("INITIAL_VALUE");function fp(){return rl(t=>function qO(...t){const n=ri(t),r=Lp(t),{args:a,keys:d}=MM(t);if(0===a.length)return Dn([],n);const f=new Be(function QO(t,n,r=Ee){return a=>{TM(n,()=>{const{length:d}=t,f=new Array(d);let p=d,b=d;for(let _=0;_<d;_++)TM(n,()=>{const C=Dn(t[_],n);let T=!1;C.subscribe(an(a,j=>{f[_]=j,T||(T=!0,b--),b||a.next(r(f.slice()))},()=>{--p||a.complete()}))},a)},a)}}(a,n,d?p=>SM(d,p):Ee));return r?f.pipe(IM(r)):f}(t.map(n=>n.pipe(g1(1),function YO(...t){const n=ri(t);return ot((r,a)=>{(n?f1(t,r,n):f1(t,r)).subscribe(a)})}(hp)))).pipe(OM((n,r)=>{let a=!1;return r.reduce((d,f,p)=>d!==hp?d:(f===hp&&(a=!0),a||!1!==f&&p!==r.length-1&&!dl(f)?d:f),n)},hp),sl(n=>n!==hp),Ae(n=>dl(n)?n:!0===n),g1(1)))}class JR{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new gp,this.attachRef=null}}class gp{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const a=this.getOrCreateContext(n);a.outlet=r,this.contexts.set(n,a)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new JR,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}let M1=(()=>{class t{constructor(r,a,d,f,p){this.parentContexts=r,this.location=a,this.resolver=d,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new at,this.deactivateEvents=new at,this.attachEvents=new at,this.detachEvents=new at,this.name=f||ht,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,a){this.activated=r,this._activatedRoute=a,this.location.insert(r.hostView),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,a){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const p=(a=a||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),b=this.parentContexts.getOrCreateContext(this.name).children,_=new XR(r,b,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(r){return new(r||t)(ae(gp),ae(sr),ae(Jc),function Er(t){return function Kl(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const a=r.length;let d=0;for(;d<a;){const f=r[d];if(Zu(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<a&&"string"==typeof r[d];)d++;else{if(f===n)return r[d+1];d+=2}}}return null}(Te(),t)}("name"),ae(a_))},t.\u0275dir=Ue({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class XR{constructor(n,r,a){this.route=n,this.childContexts=r,this.parent=a}get(n,r){return n===au?this.route:n===gp?this.childContexts:this.parent.get(n,r)}}let hI=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=zo({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,a){1&r&&pi(0,"router-outlet")},directives:[M1],encapsulation:2}),t})();function fI(t,n=""){for(let r=0;r<t.length;r++){const a=t[r];e5(a,t5(n,a))}}function e5(t,n){t.children&&fI(t.children,n)}function t5(t,n){return n?t||n.path?t&&!n.path?`${t}/`:!t&&n.path?n.path:`${t}/${n.path}`:"":t}function I1(t){const n=t.children&&t.children.map(I1),r=n?Object.assign(Object.assign({},t),{children:n}):Object.assign({},t);return!r.component&&(n||r.loadChildren)&&r.outlet&&r.outlet!==ht&&(r.component=hI),r}function ji(t){return t.outlet||ht}function gI(t,n){const r=t.filter(a=>ji(a)===n);return r.push(...t.filter(a=>ji(a)!==n)),r}const pI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function R_(t,n,r){var a;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||r.length>0)?Object.assign({},pI):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const f=(n.matcher||gR)(r,t,n);if(!f)return Object.assign({},pI);const p={};so(f.posParams,(_,C)=>{p[C]=_.path});const b=f.consumed.length>0?Object.assign(Object.assign({},p),f.consumed[f.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:f.consumed,remainingSegments:r.slice(f.consumed.length),parameters:b,positionalParamSegments:null!==(a=f.posParams)&&void 0!==a?a:{}}}function B_(t,n,r,a,d="corrected"){if(r.length>0&&function i5(t,n,r){return r.some(a=>F_(t,n,a)&&ji(a)!==ht)}(t,r,a)){const p=new bt(n,function o5(t,n,r,a){const d={};d[ht]=a,a._sourceSegment=t,a._segmentIndexShift=n.length;for(const f of r)if(""===f.path&&ji(f)!==ht){const p=new bt([],{});p._sourceSegment=t,p._segmentIndexShift=n.length,d[ji(f)]=p}return d}(t,n,a,new bt(r,t.children)));return p._sourceSegment=t,p._segmentIndexShift=n.length,{segmentGroup:p,slicedSegments:[]}}if(0===r.length&&function r5(t,n,r){return r.some(a=>F_(t,n,a))}(t,r,a)){const p=new bt(t.segments,function n5(t,n,r,a,d,f){const p={};for(const b of a)if(F_(t,r,b)&&!d[ji(b)]){const _=new bt([],{});_._sourceSegment=t,_._segmentIndexShift="legacy"===f?t.segments.length:n.length,p[ji(b)]=_}return Object.assign(Object.assign({},d),p)}(t,n,r,a,t.children,d));return p._sourceSegment=t,p._segmentIndexShift=n.length,{segmentGroup:p,slicedSegments:r}}const f=new bt(t.segments,t.children);return f._sourceSegment=t,f._segmentIndexShift=n.length,{segmentGroup:f,slicedSegments:r}}function F_(t,n,r){return(!(t.hasChildren()||n.length>0)||"full"!==r.pathMatch)&&""===r.path}function mI(t,n,r,a){return!!(ji(t)===a||a!==ht&&F_(n,r,t))&&("**"===t.path||R_(n,t,r).matched)}function bI(t,n,r){return 0===n.length&&!t.children[r]}class L_{constructor(n){this.segmentGroup=n||null}}class wI{constructor(n){this.urlTree=n}}function pp(t){return D_(new L_(t))}function kI(t){return D_(new wI(t))}class l5{constructor(n,r,a,d,f){this.configLoader=r,this.urlSerializer=a,this.urlTree=d,this.config=f,this.allowRedirects=!0,this.ngModule=n.get(ir)}apply(){const n=B_(this.urlTree.root,[],[],this.config).segmentGroup,r=new bt(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,r,ht).pipe(Ae(f=>this.createUrlTree(S1(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ta(f=>{if(f instanceof wI)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof L_?this.noMatchError(f):f}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,ht).pipe(Ae(d=>this.createUrlTree(S1(d),n.queryParams,n.fragment))).pipe(Ta(d=>{throw d instanceof L_?this.noMatchError(d):d}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,r,a){const d=n.segments.length>0?new bt([],{[ht]:n}):n;return new cl(d,r,a)}expandSegmentGroup(n,r,a,d){return 0===a.segments.length&&a.hasChildren()?this.expandChildren(n,r,a).pipe(Ae(f=>new bt([],f))):this.expandSegment(n,a,r,a.segments,d,!0)}expandChildren(n,r,a){const d=[];for(const f of Object.keys(a.children))"primary"===f?d.unshift(f):d.push(f);return Dn(d).pipe(iu(f=>{const p=a.children[f],b=gI(r,f);return this.expandSegmentGroup(n,b,p,f).pipe(Ae(_=>({segment:_,outlet:f})))}),OM((f,p)=>(f[p.outlet]=p.segment,f),{}),function eR(t,n){const r=arguments.length>=2;return a=>a.pipe(t?sl((d,f)=>t(d,f,a)):Ee,p1(1),r?BM(n):RM(()=>new E_))}())}expandSegment(n,r,a,d,f,p){return Dn(a).pipe(iu(b=>this.expandSegmentAgainstRoute(n,r,a,b,d,f,p).pipe(Ta(C=>{if(C instanceof L_)return rt(null);throw C}))),al(b=>!!b),Ta((b,_)=>{if(b instanceof E_||"EmptyError"===b.name)return bI(r,d,f)?rt(new bt([],{})):pp(r);throw b}))}expandSegmentAgainstRoute(n,r,a,d,f,p,b){return mI(d,r,f,p)?void 0===d.redirectTo?this.matchSegmentAgainstRoute(n,r,d,f,p):b&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,a,d,f,p):pp(r):pp(r)}expandSegmentAgainstRouteUsingRedirect(n,r,a,d,f,p){return"**"===d.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,a,d,p):this.expandRegularSegmentAgainstRouteUsingRedirect(n,r,a,d,f,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,a,d){const f=this.applyRedirectCommands([],a.redirectTo,{});return a.redirectTo.startsWith("/")?kI(f):this.lineralizeSegments(a,f).pipe(An(p=>{const b=new bt(p,{});return this.expandSegment(n,b,r,p,d,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,r,a,d,f,p){const{matched:b,consumedSegments:_,remainingSegments:C,positionalParamSegments:T}=R_(r,d,f);if(!b)return pp(r);const j=this.applyRedirectCommands(_,d.redirectTo,T);return d.redirectTo.startsWith("/")?kI(j):this.lineralizeSegments(d,j).pipe(An(q=>this.expandSegment(n,r,a,q.concat(C),p,!1)))}matchSegmentAgainstRoute(n,r,a,d,f){if("**"===a.path)return a.loadChildren?(a._loadedConfig?rt(a._loadedConfig):this.configLoader.load(n.injector,a)).pipe(Ae(j=>(a._loadedConfig=j,new bt(d,{})))):rt(new bt(d,{}));const{matched:p,consumedSegments:b,remainingSegments:_}=R_(r,a,d);return p?this.getChildConfig(n,a,d).pipe(An(T=>{const j=T.module,q=T.routes,{segmentGroup:Z,slicedSegments:X}=B_(r,b,_,q),re=new bt(Z.segments,Z.children);if(0===X.length&&re.hasChildren())return this.expandChildren(j,q,re).pipe(Ae(Oe=>new bt(b,Oe)));if(0===q.length&&0===X.length)return rt(new bt(b,{}));const de=ji(a)===f;return this.expandSegment(j,re,q,X,de?ht:f,!0).pipe(Ae(ie=>new bt(b.concat(ie.segments),ie.children)))})):pp(r)}getChildConfig(n,r,a){return r.children?rt(new x1(r.children,n)):r.loadChildren?void 0!==r._loadedConfig?rt(r._loadedConfig):this.runCanLoadGuards(n.injector,r,a).pipe(An(d=>d?this.configLoader.load(n.injector,r).pipe(Ae(f=>(r._loadedConfig=f,f))):function a5(t){return D_(b1(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(r))):rt(new x1([],n))}runCanLoadGuards(n,r,a){const d=r.canLoad;return d&&0!==d.length?rt(d.map(p=>{const b=n.get(p);let _;if(function QR(t){return t&&Na(t.canLoad)}(b))_=b.canLoad(r,a);else{if(!Na(b))throw new Error("Invalid CanLoad guard");_=b(r,a)}return zr(_)})).pipe(fp(),ki(p=>{if(!dl(p))return;const b=b1(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw b.url=p,b}),Ae(p=>!0===p)):rt(!0)}lineralizeSegments(n,r){let a=[],d=r.root;for(;;){if(a=a.concat(d.segments),0===d.numberOfChildren)return rt(a);if(d.numberOfChildren>1||!d.children[ht])return D_(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n.redirectTo}'`));d=d.children[ht]}}applyRedirectCommands(n,r,a){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),n,a)}applyRedirectCreatreUrlTree(n,r,a,d){const f=this.createSegmentGroup(n,r.root,a,d);return new cl(f,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){const a={};return so(n,(d,f)=>{if("string"==typeof d&&d.startsWith(":")){const b=d.substring(1);a[f]=r[b]}else a[f]=d}),a}createSegmentGroup(n,r,a,d){const f=this.createSegments(n,r.segments,a,d);let p={};return so(r.children,(b,_)=>{p[_]=this.createSegmentGroup(n,b,a,d)}),new bt(f,p)}createSegments(n,r,a,d){return r.map(f=>f.path.startsWith(":")?this.findPosParam(n,f,d):this.findOrReturn(f,a))}findPosParam(n,r,a){const d=a[r.path.substring(1)];if(!d)throw new Error(`Cannot redirect to '${n}'. Cannot find '${r.path}'.`);return d}findOrReturn(n,r){let a=0;for(const d of r){if(d.path===n.path)return r.splice(a),d;a++}return n}}function S1(t){const n={};for(const a of Object.keys(t.children)){const f=S1(t.children[a]);(f.segments.length>0||f.hasChildren())&&(n[a]=f)}return function d5(t){if(1===t.numberOfChildren&&t.children[ht]){const n=t.children[ht];return new bt(t.segments.concat(n.segments),n.children)}return t}(new bt(t.segments,n))}class _I{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class j_{constructor(n,r){this.component=n,this.route=r}}function h5(t,n,r){const a=t._root;return mp(a,n?n._root:null,r,[a.value])}function z_(t,n,r){const a=function g5(t){if(!t)return null;for(let n=t.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(n);return(a?a.module.injector:r).get(t)}function mp(t,n,r,a,d={canDeactivateChecks:[],canActivateChecks:[]}){const f=su(n);return t.children.forEach(p=>{(function p5(t,n,r,a,d={canDeactivateChecks:[],canActivateChecks:[]}){const f=t.value,p=n?n.value:null,b=r?r.getContext(t.value.outlet):null;if(p&&f.routeConfig===p.routeConfig){const _=function m5(t,n,r){if("function"==typeof r)return r(t,n);switch(r){case"pathParamsChange":return!ll(t.url,n.url);case"pathParamsOrQueryParamsChange":return!ll(t.url,n.url)||!jr(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!y1(t,n)||!jr(t.queryParams,n.queryParams);default:return!y1(t,n)}}(p,f,f.routeConfig.runGuardsAndResolvers);_?d.canActivateChecks.push(new _I(a)):(f.data=p.data,f._resolvedData=p._resolvedData),mp(t,n,f.component?b?b.children:null:r,a,d),_&&b&&b.outlet&&b.outlet.isActivated&&d.canDeactivateChecks.push(new j_(b.outlet.component,p))}else p&&bp(n,b,d),d.canActivateChecks.push(new _I(a)),mp(t,null,f.component?b?b.children:null:r,a,d)})(p,f[p.value.outlet],r,a.concat([p.value]),d),delete f[p.value.outlet]}),so(f,(p,b)=>bp(p,r.getContext(b),d)),d}function bp(t,n,r){const a=su(t),d=t.value;so(a,(f,p)=>{bp(f,d.component?n?n.children.getContext(p):null:n,r)}),r.canDeactivateChecks.push(new j_(d.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,d))}class D5{}function vI(t){return new Be(n=>n.error(t))}class x5{constructor(n,r,a,d,f,p){this.rootComponentType=n,this.config=r,this.urlTree=a,this.url=d,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=p}recognize(){const n=B_(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,n,ht);if(null===r)return null;const a=new N_([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ht,this.rootComponentType,null,this.urlTree.root,-1,{}),d=new xs(a,r),f=new rI(this.url,d);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(n){const r=n.value,a=iI(r,this.paramsInheritanceStrategy);r.params=Object.freeze(a.params),r.data=Object.freeze(a.data),n.children.forEach(d=>this.inheritParamsAndData(d))}processSegmentGroup(n,r,a){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,r):this.processSegment(n,r,r.segments,a)}processChildren(n,r){const a=[];for(const f of Object.keys(r.children)){const p=r.children[f],b=gI(n,f),_=this.processSegmentGroup(b,p,f);if(null===_)return null;a.push(..._)}const d=CI(a);return function M5(t){t.sort((n,r)=>n.value.outlet===ht?-1:r.value.outlet===ht?1:n.value.outlet.localeCompare(r.value.outlet))}(d),d}processSegment(n,r,a,d){for(const f of n){const p=this.processSegmentAgainstRoute(f,r,a,d);if(null!==p)return p}return bI(r,a,d)?[]:null}processSegmentAgainstRoute(n,r,a,d){if(n.redirectTo||!mI(n,r,a,d))return null;let f,p=[],b=[];if("**"===n.path){const Z=a.length>0?GM(a).parameters:{};f=new N_(a,Z,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,DI(n),ji(n),n.component,n,yI(r),AI(r)+a.length,EI(n))}else{const Z=R_(r,n,a);if(!Z.matched)return null;p=Z.consumedSegments,b=Z.remainingSegments,f=new N_(p,Z.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,DI(n),ji(n),n.component,n,yI(r),AI(r)+p.length,EI(n))}const _=function I5(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(n),{segmentGroup:C,slicedSegments:T}=B_(r,p,b,_.filter(Z=>void 0===Z.redirectTo),this.relativeLinkResolution);if(0===T.length&&C.hasChildren()){const Z=this.processChildren(_,C);return null===Z?null:[new xs(f,Z)]}if(0===_.length&&0===T.length)return[new xs(f,[])];const j=ji(n)===d,q=this.processSegment(_,C,T,j?ht:d);return null===q?null:[new xs(f,q)]}}function S5(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function CI(t){const n=[],r=new Set;for(const a of t){if(!S5(a)){n.push(a);continue}const d=n.find(f=>a.value.routeConfig===f.value.routeConfig);void 0!==d?(d.children.push(...a.children),r.add(d)):n.push(a)}for(const a of r){const d=CI(a.children);n.push(new xs(a.value,d))}return n.filter(a=>!r.has(a))}function yI(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function AI(t){let n=t,r=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,r+=n._segmentIndexShift?n._segmentIndexShift:0;return r-1}function DI(t){return t.data||{}}function EI(t){return t.resolve||{}}function xI(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function T1(t){return rl(n=>{const r=t(n);return r?Dn(r).pipe(Ae(()=>n)):rt(n)})}class L5 extends class F5{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}}{}const N1=new nt("ROUTES");class MI{constructor(n,r,a,d){this.injector=n,this.compiler=r,this.onLoadStartListener=a,this.onLoadEndListener=d}load(n,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const d=this.loadModuleFactory(r.loadChildren).pipe(Ae(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);const p=f.create(n);return new x1(HM(p.injector.get(N1,void 0,$e.Self|$e.Optional)).map(I1),p)}),Ta(f=>{throw r._loader$=void 0,f}));return r._loader$=new KO(d,()=>new je).pipe(PM()),r._loader$}loadModuleFactory(n){return zr(n()).pipe(An(r=>r instanceof Jg?rt(r):Dn(this.compiler.compileModuleAsync(r))))}}class z5{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}function V5(t){throw t}function U5(t,n,r){return n.parse("/")}function II(t,n){return rt(null)}const H5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},G5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kn=(()=>{class t{constructor(r,a,d,f,p,b,_){this.rootComponentType=r,this.urlSerializer=a,this.rootContexts=d,this.location=f,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new je,this.errorHandler=V5,this.malformedUriErrorHandler=U5,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:II,afterPreactivation:II},this.urlHandlingStrategy=new z5,this.routeReuseStrategy=new L5,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(ir),this.console=p.get(W2);const j=p.get(Zn);this.isNgZoneEnabled=j instanceof Zn&&Zn.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function mR(){return new cl(new bt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new MI(p,b,q=>this.triggerEvent(new LM(q)),q=>this.triggerEvent(new jM(q))),this.routerState=oI(this.currentUrlTree,this.rootComponentType),this.transitions=new lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const a=this.events;return r.pipe(sl(d=>0!==d.id),Ae(d=>Object.assign(Object.assign({},d),{extractedUrl:this.urlHandlingStrategy.extract(d.rawUrl)})),rl(d=>{let f=!1,p=!1;return rt(d).pipe(ki(b=>{this.currentNavigation={id:b.id,initialUrl:b.currentRawUrl,extractedUrl:b.extractedUrl,trigger:b.source,extras:b.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),rl(b=>{const _=this.browserUrlTree.toString(),C=!this.navigated||b.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(b.rawUrl))return SI(b.source)&&(this.browserUrlTree=b.extractedUrl),rt(b).pipe(rl(j=>{const q=this.transitions.getValue();return a.next(new m1(j.id,this.serializeUrl(j.extractedUrl),j.source,j.restoredState)),q!==this.transitions.getValue()?Ui:Promise.resolve(j)}),function u5(t,n,r,a){return rl(d=>function c5(t,n,r,a,d){return new l5(t,n,r,a,d).apply()}(t,n,r,d.extractedUrl,a).pipe(Ae(f=>Object.assign(Object.assign({},d),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ki(j=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:j.urlAfterRedirects})}),function T5(t,n,r,a,d){return An(f=>function E5(t,n,r,a,d="emptyOnly",f="legacy"){try{const p=new x5(t,n,r,a,d,f).recognize();return null===p?vI(new D5):rt(p)}catch(p){return vI(p)}}(t,n,f.urlAfterRedirects,r(f.urlAfterRedirects),a,d).pipe(Ae(p=>Object.assign(Object.assign({},f),{targetSnapshot:p}))))}(this.rootComponentType,this.config,j=>this.serializeUrl(j),this.paramsInheritanceStrategy,this.relativeLinkResolution),ki(j=>{if("eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const Z=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(Z,j)}this.browserUrlTree=j.urlAfterRedirects}const q=new oR(j.id,this.serializeUrl(j.extractedUrl),this.serializeUrl(j.urlAfterRedirects),j.targetSnapshot);a.next(q)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:q,extractedUrl:Z,source:X,restoredState:re,extras:de}=b,le=new m1(q,this.serializeUrl(Z),X,re);a.next(le);const ie=oI(Z,this.rootComponentType).snapshot;return rt(Object.assign(Object.assign({},b),{targetSnapshot:ie,urlAfterRedirects:Z,extras:Object.assign(Object.assign({},de),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=b.rawUrl,b.resolve(null),Ui}),T1(b=>{const{targetSnapshot:_,id:C,extractedUrl:T,rawUrl:j,extras:{skipLocationChange:q,replaceUrl:Z}}=b;return this.hooks.beforePreactivation(_,{navigationId:C,appliedUrlTree:T,rawUrlTree:j,skipLocationChange:!!q,replaceUrl:!!Z})}),ki(b=>{const _=new iR(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(_)}),Ae(b=>Object.assign(Object.assign({},b),{guards:h5(b.targetSnapshot,b.currentSnapshot,this.rootContexts)})),function b5(t,n){return An(r=>{const{targetSnapshot:a,currentSnapshot:d,guards:{canActivateChecks:f,canDeactivateChecks:p}}=r;return 0===p.length&&0===f.length?rt(Object.assign(Object.assign({},r),{guardsResult:!0})):function w5(t,n,r,a){return Dn(t).pipe(An(d=>function A5(t,n,r,a,d){const f=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return f&&0!==f.length?rt(f.map(b=>{const _=z_(b,n,d);let C;if(function YR(t){return t&&Na(t.canDeactivate)}(_))C=zr(_.canDeactivate(t,n,r,a));else{if(!Na(_))throw new Error("Invalid CanDeactivate guard");C=zr(_(t,n,r,a))}return C.pipe(al())})).pipe(fp()):rt(!0)}(d.component,d.route,r,n,a)),al(d=>!0!==d,!0))}(p,a,d,t).pipe(An(b=>b&&function qR(t){return"boolean"==typeof t}(b)?function k5(t,n,r,a){return Dn(n).pipe(iu(d=>f1(function v5(t,n){return null!==t&&n&&n(new cR(t)),rt(!0)}(d.route.parent,a),function _5(t,n){return null!==t&&n&&n(new dR(t)),rt(!0)}(d.route,a),function y5(t,n,r){const a=n[n.length-1],f=n.slice(0,n.length-1).reverse().map(p=>function f5(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(p)).filter(p=>null!==p).map(p=>NM(()=>rt(p.guards.map(_=>{const C=z_(_,p.node,r);let T;if(function KR(t){return t&&Na(t.canActivateChild)}(C))T=zr(C.canActivateChild(a,t));else{if(!Na(C))throw new Error("Invalid CanActivateChild guard");T=zr(C(a,t))}return T.pipe(al())})).pipe(fp())));return rt(f).pipe(fp())}(t,d.path,r),function C5(t,n,r){const a=n.routeConfig?n.routeConfig.canActivate:null;if(!a||0===a.length)return rt(!0);const d=a.map(f=>NM(()=>{const p=z_(f,n,r);let b;if(function ZR(t){return t&&Na(t.canActivate)}(p))b=zr(p.canActivate(n,t));else{if(!Na(p))throw new Error("Invalid CanActivate guard");b=zr(p(n,t))}return b.pipe(al())}));return rt(d).pipe(fp())}(t,d.route,r))),al(d=>!0!==d,!0))}(a,f,t,n):rt(b)),Ae(b=>Object.assign(Object.assign({},r),{guardsResult:b})))})}(this.ngModule.injector,b=>this.triggerEvent(b)),ki(b=>{if(dl(b.guardsResult)){const C=b1(`Redirecting to "${this.serializeUrl(b.guardsResult)}"`);throw C.url=b.guardsResult,C}const _=new rR(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot,!!b.guardsResult);this.triggerEvent(_)}),sl(b=>!!b.guardsResult||(this.restoreHistory(b),this.cancelNavigationTransition(b,""),!1)),T1(b=>{if(b.guards.canActivateChecks.length)return rt(b).pipe(ki(_=>{const C=new sR(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}),rl(_=>{let C=!1;return rt(_).pipe(function N5(t,n){return An(r=>{const{targetSnapshot:a,guards:{canActivateChecks:d}}=r;if(!d.length)return rt(r);let f=0;return Dn(d).pipe(iu(p=>function P5(t,n,r,a){return function O5(t,n,r,a){const d=xI(t);if(0===d.length)return rt({});const f={};return Dn(d).pipe(An(p=>function R5(t,n,r,a){const d=z_(t,n,a);return zr(d.resolve?d.resolve(n,r):d(n,r))}(t[p],n,r,a).pipe(ki(b=>{f[p]=b}))),p1(1),An(()=>xI(f).length===d.length?rt(f):Ui))}(t._resolve,t,n,a).pipe(Ae(f=>(t._resolvedData=f,t.data=Object.assign(Object.assign({},t.data),iI(t,r).resolve),null)))}(p.route,a,t,n)),ki(()=>f++),p1(1),An(p=>f===d.length?rt(r):Ui))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ki({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),ki(_=>{const C=new aR(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}))}),T1(b=>{const{targetSnapshot:_,id:C,extractedUrl:T,rawUrl:j,extras:{skipLocationChange:q,replaceUrl:Z}}=b;return this.hooks.afterPreactivation(_,{navigationId:C,appliedUrlTree:T,rawUrlTree:j,skipLocationChange:!!q,replaceUrl:!!Z})}),Ae(b=>{const _=function OR(t,n,r){const a=dp(t,n._root,r?r._root:void 0);return new nI(a,n)}(this.routeReuseStrategy,b.targetSnapshot,b.currentRouterState);return Object.assign(Object.assign({},b),{targetRouterState:_})}),ki(b=>{this.currentUrlTree=b.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl),this.routerState=b.targetRouterState,"deferred"===this.urlUpdateStrategy&&(b.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,b),this.browserUrlTree=b.urlAfterRedirects)}),((t,n,r)=>Ae(a=>(new $R(n,a.targetRouterState,a.currentRouterState,r).activate(t),a)))(this.rootContexts,this.routeReuseStrategy,b=>this.triggerEvent(b)),ki({next(){f=!0},complete(){f=!0}}),function tR(t){return ot((n,r)=>{try{n.subscribe(r)}finally{r.add(t)}})}(()=>{var b;f||p||this.cancelNavigationTransition(d,`Navigation ID ${d.id} is not equal to the current navigation id ${this.navigationId}`),(null===(b=this.currentNavigation)||void 0===b?void 0:b.id)===d.id&&(this.currentNavigation=null)}),Ta(b=>{if(p=!0,function fR(t){return t&&t[VM]}(b)){const _=dl(b.url);_||(this.navigated=!0,this.restoreHistory(d,!0));const C=new FM(d.id,this.serializeUrl(d.extractedUrl),b.message);a.next(C),_?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(b.url,this.rawUrlTree),j={skipLocationChange:d.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||SI(d.source)};this.scheduleNavigation(T,"imperative",null,j,{resolve:d.resolve,reject:d.reject,promise:d.promise})},0):d.resolve(!1)}else{this.restoreHistory(d,!0);const _=new nR(d.id,this.serializeUrl(d.extractedUrl),b);a.next(_);try{d.resolve(this.errorHandler(b))}catch(C){d.reject(C)}}return Ui}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const a="popstate"===r.type?"popstate":"hashchange";"popstate"===a&&setTimeout(()=>{var d;const f={replaceUrl:!0},p=(null===(d=r.state)||void 0===d?void 0:d.navigationId)?r.state:null;if(p){const _=Object.assign({},p);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(f.state=_)}const b=this.parseUrl(r.url);this.scheduleNavigation(b,a,p,f)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){fI(r),this.config=r.map(I1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,a={}){const{relativeTo:d,queryParams:f,fragment:p,queryParamsHandling:b,preserveFragment:_}=a,C=d||this.routerState.root,T=_?this.currentUrlTree.fragment:p;let j=null;switch(b){case"merge":j=Object.assign(Object.assign({},this.currentUrlTree.queryParams),f);break;case"preserve":j=this.currentUrlTree.queryParams;break;default:j=f||null}return null!==j&&(j=this.removeEmptyProps(j)),function FR(t,n,r,a,d){if(0===r.length)return A1(n.root,n.root,n.root,a,d);const f=function LR(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new cI(!0,0,t);let n=0,r=!1;const a=t.reduce((d,f,p)=>{if("object"==typeof f&&null!=f){if(f.outlets){const b={};return so(f.outlets,(_,C)=>{b[C]="string"==typeof _?_.split("/"):_}),[...d,{outlets:b}]}if(f.segmentPath)return[...d,f.segmentPath]}return"string"!=typeof f?[...d,f]:0===p?(f.split("/").forEach((b,_)=>{0==_&&"."===b||(0==_&&""===b?r=!0:".."===b?n++:""!=b&&d.push(b))}),d):[...d,f]},[]);return new cI(r,n,a)}(r);if(f.toRoot())return A1(n.root,n.root,new bt([],{}),a,d);const p=function jR(t,n,r){if(t.isAbsolute)return new D1(n.root,!0,0);if(-1===r.snapshot._lastPathIndex){const f=r.snapshot._urlSegment;return new D1(f,f===n.root,0)}const a=P_(t.commands[0])?0:1;return function zR(t,n,r){let a=t,d=n,f=r;for(;f>d;){if(f-=d,a=a.parent,!a)throw new Error("Invalid number of '../'");d=a.segments.length}return new D1(a,!1,d-f)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+a,t.numberOfDoubleDots)}(f,n,t),b=p.processChildren?O_(p.segmentGroup,p.index,f.commands):lI(p.segmentGroup,p.index,f.commands);return A1(n.root,p.segmentGroup,b,a,d)}(C,this.currentUrlTree,r,j,null!=T?T:null)}navigateByUrl(r,a={skipLocationChange:!1}){const d=dl(r)?r:this.parseUrl(r),f=this.urlHandlingStrategy.merge(d,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,a)}navigate(r,a={skipLocationChange:!1}){return function $5(t){for(let n=0;n<t.length;n++){const r=t[n];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${n}`)}}(r),this.navigateByUrl(this.createUrlTree(r,a),a)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let a;try{a=this.urlSerializer.parse(r)}catch(d){a=this.malformedUriErrorHandler(d,this.urlSerializer,r)}return a}isActive(r,a){let d;if(d=!0===a?Object.assign({},H5):!1===a?Object.assign({},G5):a,dl(r))return WM(this.currentUrlTree,r,d);const f=this.parseUrl(r);return WM(this.currentUrlTree,f,d)}removeEmptyProps(r){return Object.keys(r).reduce((a,d)=>{const f=r[d];return null!=f&&(a[d]=f),a},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new ap(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}scheduleNavigation(r,a,d,f,p){var b,_;if(this.disposed)return Promise.resolve(!1);let C,T,j;p?(C=p.resolve,T=p.reject,j=p.promise):j=new Promise((X,re)=>{C=X,T=re});const q=++this.navigationId;let Z;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(d=this.location.getState()),Z=d&&d.\u0275routerPageId?d.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!==(b=this.browserPageId)&&void 0!==b?b:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):Z=0,this.setTransition({id:q,targetPageId:Z,source:a,restoredState:d,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:f,resolve:C,reject:T,promise:j,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),j.catch(X=>Promise.reject(X))}setBrowserUrl(r,a){const d=this.urlSerializer.serialize(r),f=Object.assign(Object.assign({},a.extras.state),this.generateNgRouterState(a.id,a.targetPageId));this.location.isCurrentPathEqualTo(d)||a.extras.replaceUrl?this.location.replaceState(d,"",f):this.location.go(d,"",f)}restoreHistory(r,a=!1){var d,f;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)||0===p?this.currentUrlTree===(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)&&0===p&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(a&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,a){const d=new FM(r.id,this.serializeUrl(r.extractedUrl),a);this.triggerEvent(d),r.resolve(!1)}generateNgRouterState(r,a){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:a}:{navigationId:r}}}return t.\u0275fac=function(r){jd()},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})();function SI(t){return"imperative"!==t}class TI{}class NI{preload(n,r){return rt(null)}}let PI=(()=>{class t{constructor(r,a,d,f){this.router=r,this.injector=d,this.preloadingStrategy=f,this.loader=new MI(d,a,_=>r.triggerEvent(new LM(_)),_=>r.triggerEvent(new jM(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(sl(r=>r instanceof ap),iu(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(ir);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,a){const d=[];for(const f of a)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const p=f._loadedConfig;d.push(this.processRoutes(p.module,p.routes))}else f.loadChildren&&!f.canLoad?d.push(this.preloadConfig(r,f)):f.children&&d.push(this.processRoutes(r,f.children));return Dn(d).pipe(Va(),Ae(f=>{}))}preloadConfig(r,a){return this.preloadingStrategy.preload(a,()=>(a._loadedConfig?rt(a._loadedConfig):this.loader.load(r.injector,a)).pipe(An(f=>(a._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return t.\u0275fac=function(r){return new(r||t)(Ne(Kn),Ne(Dx),Ne(Wn),Ne(TI))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})(),R1=(()=>{class t{constructor(r,a,d={}){this.router=r,this.viewportScroller=a,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof m1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof ap&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof zM&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,a){this.router.triggerEvent(new zM(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,a))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(r){jd()},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})();const ul=new nt("ROUTER_CONFIGURATION"),OI=new nt("ROUTER_FORROOT_GUARD"),Z5=[W0,{provide:KM,useClass:YM},{provide:Kn,useFactory:function eB(t,n,r,a,d,f,p={},b,_){const C=new Kn(null,t,n,r,a,d,HM(f));return b&&(C.urlHandlingStrategy=b),_&&(C.routeReuseStrategy=_),function tB(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(p,C),p.enableTracing&&C.events.subscribe(T=>{var j,q;null===(j=console.group)||void 0===j||j.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(q=console.groupEnd)||void 0===q||q.call(console)}),C},deps:[KM,gp,W0,Wn,Dx,N1,ul,[class j5{},new mt],[class B5{},new mt]]},gp,{provide:au,useFactory:function nB(t){return t.routerState.root},deps:[Kn]},PI,NI,class Q5{preload(n,r){return r().pipe(Ta(()=>rt(null)))}},{provide:ul,useValue:{enableTracing:!1}}];function K5(){return new Sx("Router",Kn)}let RI=(()=>{class t{constructor(r,a){}static forRoot(r,a){return{ngModule:t,providers:[Z5,BI(r),{provide:OI,useFactory:X5,deps:[[Kn,new mt,new Ei]]},{provide:ul,useValue:a||{}},{provide:ou,useFactory:J5,deps:[il,[new Di($0),new mt],ul]},{provide:R1,useFactory:Y5,deps:[Kn,nO,ul]},{provide:TI,useExisting:a&&a.preloadingStrategy?a.preloadingStrategy:NI},{provide:Sx,multi:!0,useFactory:K5},[B1,{provide:M0,multi:!0,useFactory:oB,deps:[B1]},{provide:FI,useFactory:iB,deps:[B1]},{provide:Ax,multi:!0,useExisting:FI}]]}}static forChild(r){return{ngModule:t,providers:[BI(r)]}}}return t.\u0275fac=function(r){return new(r||t)(Ne(OI,8),Ne(Kn,8))},t.\u0275mod=lo({type:t}),t.\u0275inj=Jn({}),t})();function Y5(t,n,r){return r.scrollOffset&&n.setOffset(r.scrollOffset),new R1(t,n,r)}function J5(t,n,r={}){return r.useHash?new LN(t,n):new Zx(t,n)}function X5(t){return"guarded"}function BI(t){return[{provide:lC,multi:!0,useValue:t},{provide:N1,multi:!0,useValue:t}]}let B1=(()=>{class t{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new je}appInitializer(){return this.injector.get(RN,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let a=null;const d=new Promise(b=>a=b),f=this.injector.get(Kn),p=this.injector.get(ul);return"disabled"===p.initialNavigation?(f.setUpLocationChangeListener(),a(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?rt(null):(this.initNavigation=!0,a(!0),this.resultOfPreactivationDone),f.initialNavigation()):a(!0),d})}bootstrapListener(r){const a=this.injector.get(ul),d=this.injector.get(PI),f=this.injector.get(R1),p=this.injector.get(Kn),b=this.injector.get(L0);r===b.components[0]&&(("enabledNonBlocking"===a.initialNavigation||void 0===a.initialNavigation)&&p.initialNavigation(),d.setUpPreloading(),f.init(),p.resetRootComponentType(b.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(r){return new(r||t)(Ne(Wn))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})();function oB(t){return t.appInitializer.bind(t)}function iB(t){return t.bootstrapListener.bind(t)}const FI=new nt("Router Initializer"),V__dataRepoLink="https://api.github.com/repos/rh1967/rh1967.github.io/contents/dynamicData/";let wp=(()=>{class t{constructor(){this.authKey=""}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class LI{}class jI{}class dr{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(r=>{const a=r.indexOf(":");if(a>0){const d=r.slice(0,a),f=d.toLowerCase(),p=r.slice(a+1).trim();this.maybeSetNormalizedName(d,f),this.headers.has(f)?this.headers.get(f).push(p):this.headers.set(f,[p])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(r=>{let a=n[r];const d=r.toLowerCase();"string"==typeof a&&(a=[a]),a.length>0&&(this.headers.set(d,a),this.maybeSetNormalizedName(r,d))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const r=this.headers.get(n.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,r){return this.clone({name:n,value:r,op:"a"})}set(n,r){return this.clone({name:n,value:r,op:"s"})}delete(n,r){return this.clone({name:n,value:r,op:"d"})}maybeSetNormalizedName(n,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,n)}init(){this.lazyInit&&(this.lazyInit instanceof dr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(r=>{this.headers.set(r,n.headers.get(r)),this.normalizedNames.set(r,n.normalizedNames.get(r))})}clone(n){const r=new dr;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof dr?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([n]),r}applyUpdate(n){const r=n.name.toLowerCase();switch(n.op){case"a":case"s":let a=n.value;if("string"==typeof a&&(a=[a]),0===a.length)return;this.maybeSetNormalizedName(n.name,r);const d=("a"===n.op?this.headers.get(r):void 0)||[];d.push(...a),this.headers.set(r,d);break;case"d":const f=n.value;if(f){let p=this.headers.get(r);if(!p)return;p=p.filter(b=>-1===f.indexOf(b)),0===p.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,p)}else this.headers.delete(r),this.normalizedNames.delete(r)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>n(this.normalizedNames.get(r),this.headers.get(r)))}}class sB{encodeKey(n){return zI(n)}encodeValue(n){return zI(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const cB=/%(\d[a-f0-9])/gi,lB={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function zI(t){return encodeURIComponent(t).replace(cB,(n,r)=>{var a;return null!==(a=lB[r])&&void 0!==a?a:n})}function VI(t){return`${t}`}class Pa{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new sB,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function aB(t,n){const r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(d=>{const f=d.indexOf("="),[p,b]=-1==f?[n.decodeKey(d),""]:[n.decodeKey(d.slice(0,f)),n.decodeValue(d.slice(f+1))],_=r.get(p)||[];_.push(b),r.set(p,_)}),r}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(r=>{const a=n.fromObject[r];this.map.set(r,Array.isArray(a)?a:[a])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const r=this.map.get(n);return r?r[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,r){return this.clone({param:n,value:r,op:"a"})}appendAll(n){const r=[];return Object.keys(n).forEach(a=>{const d=n[a];Array.isArray(d)?d.forEach(f=>{r.push({param:a,value:f,op:"a"})}):r.push({param:a,value:d,op:"a"})}),this.clone(r)}set(n,r){return this.clone({param:n,value:r,op:"s"})}delete(n,r){return this.clone({param:n,value:r,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const r=this.encoder.encodeKey(n);return this.map.get(n).map(a=>r+"="+this.encoder.encodeValue(a)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const r=new Pa({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(n),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const r=("a"===n.op?this.map.get(n.param):void 0)||[];r.push(VI(n.value)),this.map.set(n.param,r);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let a=this.map.get(n.param)||[];const d=a.indexOf(VI(n.value));-1!==d&&a.splice(d,1),a.length>0?this.map.set(n.param,a):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class dB{constructor(){this.map=new Map}set(n,r){return this.map.set(n,r),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function UI(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function HI(t){return"undefined"!=typeof Blob&&t instanceof Blob}function GI(t){return"undefined"!=typeof FormData&&t instanceof FormData}class kp{constructor(n,r,a,d){let f;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function uB(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||d?(this.body=void 0!==a?a:null,f=d):f=a,f&&(this.reportProgress=!!f.reportProgress,this.withCredentials=!!f.withCredentials,f.responseType&&(this.responseType=f.responseType),f.headers&&(this.headers=f.headers),f.context&&(this.context=f.context),f.params&&(this.params=f.params)),this.headers||(this.headers=new dr),this.context||(this.context=new dB),this.params){const p=this.params.toString();if(0===p.length)this.urlWithParams=r;else{const b=r.indexOf("?");this.urlWithParams=r+(-1===b?"?":b<r.length-1?"&":"")+p}}else this.params=new Pa,this.urlWithParams=r}serializeBody(){return null===this.body?null:UI(this.body)||HI(this.body)||GI(this.body)||function hB(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||GI(this.body)?null:HI(this.body)?this.body.type||null:UI(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var r;const a=n.method||this.method,d=n.url||this.url,f=n.responseType||this.responseType,p=void 0!==n.body?n.body:this.body,b=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,_=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let C=n.headers||this.headers,T=n.params||this.params;const j=null!==(r=n.context)&&void 0!==r?r:this.context;return void 0!==n.setHeaders&&(C=Object.keys(n.setHeaders).reduce((q,Z)=>q.set(Z,n.setHeaders[Z]),C)),n.setParams&&(T=Object.keys(n.setParams).reduce((q,Z)=>q.set(Z,n.setParams[Z]),T)),new kp(a,d,p,{params:T,headers:C,context:j,reportProgress:_,responseType:f,withCredentials:b})}}var Tn=(()=>((Tn=Tn||{})[Tn.Sent=0]="Sent",Tn[Tn.UploadProgress=1]="UploadProgress",Tn[Tn.ResponseHeader=2]="ResponseHeader",Tn[Tn.DownloadProgress=3]="DownloadProgress",Tn[Tn.Response=4]="Response",Tn[Tn.User=5]="User",Tn))();class F1{constructor(n,r=200,a="OK"){this.headers=n.headers||new dr,this.status=void 0!==n.status?n.status:r,this.statusText=n.statusText||a,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class L1 extends F1{constructor(n={}){super(n),this.type=Tn.ResponseHeader}clone(n={}){return new L1({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class U_ extends F1{constructor(n={}){super(n),this.type=Tn.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new U_({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class $I extends F1{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function j1(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let z1=(()=>{class t{constructor(r){this.handler=r}request(r,a,d={}){let f;if(r instanceof kp)f=r;else{let _,C;_=d.headers instanceof dr?d.headers:new dr(d.headers),d.params&&(C=d.params instanceof Pa?d.params:new Pa({fromObject:d.params})),f=new kp(r,a,void 0!==d.body?d.body:null,{headers:_,context:d.context,params:C,reportProgress:d.reportProgress,responseType:d.responseType||"json",withCredentials:d.withCredentials})}const p=rt(f).pipe(iu(_=>this.handler.handle(_)));if(r instanceof kp||"events"===d.observe)return p;const b=p.pipe(sl(_=>_ instanceof U_));switch(d.observe||"body"){case"body":switch(f.responseType){case"arraybuffer":return b.pipe(Ae(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return b.pipe(Ae(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return b.pipe(Ae(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return b.pipe(Ae(_=>_.body))}case"response":return b;default:throw new Error(`Unreachable: unhandled observe type ${d.observe}}`)}}delete(r,a={}){return this.request("DELETE",r,a)}get(r,a={}){return this.request("GET",r,a)}head(r,a={}){return this.request("HEAD",r,a)}jsonp(r,a){return this.request("JSONP",r,{params:(new Pa).append(a,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,a={}){return this.request("OPTIONS",r,a)}patch(r,a,d={}){return this.request("PATCH",r,j1(d,a))}post(r,a,d={}){return this.request("POST",r,j1(d,a))}put(r,a,d={}){return this.request("PUT",r,j1(d,a))}}return t.\u0275fac=function(r){return new(r||t)(Ne(LI))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})();class WI{constructor(n,r){this.next=n,this.interceptor=r}handle(n){return this.interceptor.intercept(n,this.next)}}const qI=new nt("HTTP_INTERCEPTORS");let fB=(()=>{class t{intercept(r,a){return a.handle(r)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})();const gB=/^\)\]\}',?\n/;let QI=(()=>{class t{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Be(a=>{const d=this.xhrFactory.build();if(d.open(r.method,r.urlWithParams),r.withCredentials&&(d.withCredentials=!0),r.headers.forEach((Z,X)=>d.setRequestHeader(Z,X.join(","))),r.headers.has("Accept")||d.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const Z=r.detectContentTypeHeader();null!==Z&&d.setRequestHeader("Content-Type",Z)}if(r.responseType){const Z=r.responseType.toLowerCase();d.responseType="json"!==Z?Z:"text"}const f=r.serializeBody();let p=null;const b=()=>{if(null!==p)return p;const Z=d.statusText||"OK",X=new dr(d.getAllResponseHeaders()),re=function pB(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(d)||r.url;return p=new L1({headers:X,status:d.status,statusText:Z,url:re}),p},_=()=>{let{headers:Z,status:X,statusText:re,url:de}=b(),le=null;204!==X&&(le=void 0===d.response?d.responseText:d.response),0===X&&(X=le?200:0);let ie=X>=200&&X<300;if("json"===r.responseType&&"string"==typeof le){const Oe=le;le=le.replace(gB,"");try{le=""!==le?JSON.parse(le):null}catch(Je){le=Oe,ie&&(ie=!1,le={error:Je,text:le})}}ie?(a.next(new U_({body:le,headers:Z,status:X,statusText:re,url:de||void 0})),a.complete()):a.error(new $I({error:le,headers:Z,status:X,statusText:re,url:de||void 0}))},C=Z=>{const{url:X}=b(),re=new $I({error:Z,status:d.status||0,statusText:d.statusText||"Unknown Error",url:X||void 0});a.error(re)};let T=!1;const j=Z=>{T||(a.next(b()),T=!0);let X={type:Tn.DownloadProgress,loaded:Z.loaded};Z.lengthComputable&&(X.total=Z.total),"text"===r.responseType&&!!d.responseText&&(X.partialText=d.responseText),a.next(X)},q=Z=>{let X={type:Tn.UploadProgress,loaded:Z.loaded};Z.lengthComputable&&(X.total=Z.total),a.next(X)};return d.addEventListener("load",_),d.addEventListener("error",C),d.addEventListener("timeout",C),d.addEventListener("abort",C),r.reportProgress&&(d.addEventListener("progress",j),null!==f&&d.upload&&d.upload.addEventListener("progress",q)),d.send(f),a.next({type:Tn.Sent}),()=>{d.removeEventListener("error",C),d.removeEventListener("abort",C),d.removeEventListener("load",_),d.removeEventListener("timeout",C),r.reportProgress&&(d.removeEventListener("progress",j),null!==f&&d.upload&&d.upload.removeEventListener("progress",q)),d.readyState!==d.DONE&&d.abort()}})}}return t.\u0275fac=function(r){return new(r||t)(Ne(pM))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})();const V1=new nt("XSRF_COOKIE_NAME"),U1=new nt("XSRF_HEADER_NAME");class ZI{}let mB=(()=>{class t{constructor(r,a,d){this.doc=r,this.platform=a,this.cookieName=d,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=rM(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return t.\u0275fac=function(r){return new(r||t)(Ne(wi),Ne(T0),Ne(V1))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})(),H1=(()=>{class t{constructor(r,a){this.tokenService=r,this.headerName=a}intercept(r,a){const d=r.url.toLowerCase();if("GET"===r.method||"HEAD"===r.method||d.startsWith("http://")||d.startsWith("https://"))return a.handle(r);const f=this.tokenService.getToken();return null!==f&&!r.headers.has(this.headerName)&&(r=r.clone({headers:r.headers.set(this.headerName,f)})),a.handle(r)}}return t.\u0275fac=function(r){return new(r||t)(Ne(ZI),Ne(U1))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})(),bB=(()=>{class t{constructor(r,a){this.backend=r,this.injector=a,this.chain=null}handle(r){if(null===this.chain){const a=this.injector.get(qI,[]);this.chain=a.reduceRight((d,f)=>new WI(d,f),this.backend)}return this.chain.handle(r)}}return t.\u0275fac=function(r){return new(r||t)(Ne(jI),Ne(Wn))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac}),t})(),wB=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:H1,useClass:fB}]}}static withOptions(r={}){return{ngModule:t,providers:[r.cookieName?{provide:V1,useValue:r.cookieName}:[],r.headerName?{provide:U1,useValue:r.headerName}:[]]}}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lo({type:t}),t.\u0275inj=Jn({providers:[H1,{provide:qI,useExisting:H1,multi:!0},{provide:ZI,useClass:mB},{provide:V1,useValue:"XSRF-TOKEN"},{provide:U1,useValue:"X-XSRF-TOKEN"}]}),t})(),kB=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lo({type:t}),t.\u0275inj=Jn({providers:[z1,{provide:LI,useClass:bB},QI,{provide:jI,useExisting:QI}],imports:[[wB.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const KI={now:()=>(KI.delegate||Date).now(),delegate:void 0};class _B extends je{constructor(n=1/0,r=1/0,a=KI){super(),this._bufferSize=n,this._windowTime=r,this._timestampProvider=a,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,r)}next(n){const{isStopped:r,_buffer:a,_infiniteTimeWindow:d,_timestampProvider:f,_windowTime:p}=this;r||(a.push(n),!d&&a.push(f.now()+p)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(n),{_infiniteTimeWindow:a,_buffer:d}=this,f=d.slice();for(let p=0;p<f.length&&!n.closed;p+=a?1:2)n.next(f[p]);return this._checkFinalizedStatuses(n),r}_trimBuffer(){const{_bufferSize:n,_timestampProvider:r,_buffer:a,_infiniteTimeWindow:d}=this,f=(d?1:2)*n;if(n<1/0&&f<a.length&&a.splice(0,a.length-f),!d){const p=r.now();let b=0;for(let _=1;_<a.length&&a[_]<=p;_+=2)b=_;b&&a.splice(0,b+1)}}}let G1=(()=>{class t{constructor(){this.isLoading=!1,this.loadingText=""}showLoader(r){this.isLoading=!0,this.loadingText=r}stopLoader(){this.isLoading=!1}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_p=(()=>{class t{constructor(r,a,d){this.http=r,this.loadingService=a,this.githubAuth=d,this.listData=null,this.dataSetSHA="",this.editorData={date:new Date,image:"",text:"",title:"",createDate:0,moreLink:""}}clearData(){this.listData=null,this.dataSetSHA="",this.editorData={date:new Date,image:"",text:"",title:"",createDate:0,moreLink:""},this.githubAuth.authKey=""}updateList(r){let a=!1;for(let d=0;d<this.listData.length;d++)r.createDate==this.listData[d].createDate&&(this.listData[d]=JSON.parse(JSON.stringify(r)),a=!0);a||this.listData.push(JSON.parse(JSON.stringify(r)))}delete(r){let a=!1;for(let d=0;d<this.listData.length;d++)r.createDate==this.listData[d].createDate&&(this.listData.splice(d,1),a=!0);a||console.error("Can't delete element that doesnt exist")}fromBinary(r){return decodeURIComponent(atob(r).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""))}getDataSetGithub(r,a,d){this.loadingService.showLoader("loading github data"),a="Bearer "+a;let f=(new dr).set("Authorization",a),p=new _B(1);return this.http.get(d,{headers:f}).subscribe(b=>{console.log(b);let _=b.filter(C=>C.name===r);this.dataSetSHA=_[0].sha,this.loadingService.showLoader("loading data"),this.http.get(_[0].git_url,{headers:f}).subscribe(C=>{let T=this.fromBinary(C.content),j=JSON.parse(T);this.loadingService.stopLoader(),p.next(j)})},b=>{p.next({})}),p}}return t.\u0275fac=function(r){return new(r||t)(Ne(z1),Ne(G1),Ne(wp))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),YI=(()=>{class t{constructor(r,a){this._renderer=r,this._elementRef=a,this.onChange=d=>{},this.onTouched=()=>{}}setProperty(r,a){this._renderer.setProperty(this._elementRef.nativeElement,r,a)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return t.\u0275fac=function(r){return new(r||t)(ae(nr),ae(_o))},t.\u0275dir=Ue({type:t}),t})(),hl=(()=>{class t extends YI{}return t.\u0275fac=function(){let n;return function(a){return(n||(n=function Vn(t){return mr(()=>{const n=t.prototype.constructor,r=n[Hi]||rh(n),a=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==a;){const f=d[Hi]||rh(d);if(f&&f!==r)return f;d=Object.getPrototypeOf(d)}return f=>new f})}(t)))(a||t)}}(),t.\u0275dir=Ue({type:t,features:[Mt]}),t})();const ur=new nt("NgValueAccessor"),yB={provide:ur,useExisting:vt(()=>vp),multi:!0},DB=new nt("CompositionEventMode");let vp=(()=>{class t extends YI{constructor(r,a,d){super(r,a),this._compositionMode=d,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function AB(){const t=Lr()?Lr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return t.\u0275fac=function(r){return new(r||t)(ae(nr),ae(_o),ae(DB,8))},t.\u0275dir=Ue({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,a){1&r&&$t("input",function(f){return a._handleInput(f.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(f){return a._compositionEnd(f.target.value)})},features:[Wt([yB]),Mt]}),t})();const Co=new nt("NgValidators"),Ra=new nt("NgAsyncValidators");function cS(t){return null!=t}function lS(t){const n=va(t)?Dn(t):t;return Qf(n),n}function dS(t){let n={};return t.forEach(r=>{n=null!=r?Object.assign(Object.assign({},n),r):n}),0===Object.keys(n).length?null:n}function uS(t,n){return n.map(r=>r(t))}function hS(t){return t.map(n=>function xB(t){return!t.validate}(n)?n:r=>n.validate(r))}function $1(t){return null!=t?function fS(t){if(!t)return null;const n=t.filter(cS);return 0==n.length?null:function(r){return dS(uS(r,n))}}(hS(t)):null}function W1(t){return null!=t?function gS(t){if(!t)return null;const n=t.filter(cS);return 0==n.length?null:function(r){return function vB(...t){const n=Lp(t),{args:r,keys:a}=MM(t),d=new Be(f=>{const{length:p}=r;if(!p)return void f.complete();const b=new Array(p);let _=p,C=p;for(let T=0;T<p;T++){let j=!1;ii(r[T]).subscribe(an(f,q=>{j||(j=!0,C--),b[T]=q},()=>_--,void 0,()=>{(!_||!j)&&(C||f.next(a?SM(a,b):b),f.complete())}))}});return n?d.pipe(IM(n)):d}(uS(r,n).map(lS)).pipe(Ae(dS))}}(hS(t)):null}function pS(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function q1(t){return t?Array.isArray(t)?t:[t]:[]}function G_(t,n){return Array.isArray(t)?t.includes(n):t===n}function wS(t,n){const r=q1(n);return q1(t).forEach(d=>{G_(r,d)||r.push(d)}),r}function kS(t,n){return q1(n).filter(r=>!G_(t,r))}class _S{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=$1(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=W1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,r){return!!this.control&&this.control.hasError(n,r)}getError(n,r){return this.control?this.control.getError(n,r):null}}class Ba extends _S{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fo extends _S{get formDirective(){return null}get path(){return null}}let Q1=(()=>{class t extends class vS{constructor(n){this._cd=n}is(n){var r,a,d;return"submitted"===n?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(d=null===(a=this._cd)||void 0===a?void 0:a.control)||void 0===d?void 0:d[n])}}{constructor(r){super(r)}}return t.\u0275fac=function(r){return new(r||t)(ae(Ba,2))},t.\u0275dir=Ue({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,a){2&r&&Hd("ng-untouched",a.is("untouched"))("ng-touched",a.is("touched"))("ng-pristine",a.is("pristine"))("ng-dirty",a.is("dirty"))("ng-valid",a.is("valid"))("ng-invalid",a.is("invalid"))("ng-pending",a.is("pending"))},features:[Mt]}),t})();function Cp(t,n){(function Y1(t,n){const r=function mS(t){return t._rawValidators}(t);null!==n.validator?t.setValidators(pS(r,n.validator)):"function"==typeof r&&t.setValidators([r]);const a=function bS(t){return t._rawAsyncValidators}(t);null!==n.asyncValidator?t.setAsyncValidators(pS(a,n.asyncValidator)):"function"==typeof a&&t.setAsyncValidators([a]);const d=()=>t.updateValueAndValidity();Q_(n._rawValidators,d),Q_(n._rawAsyncValidators,d)})(t,n),n.valueAccessor.writeValue(t.value),function BB(t,n){n.valueAccessor.registerOnChange(r=>{t._pendingValue=r,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&yS(t,n)})}(t,n),function LB(t,n){const r=(a,d)=>{n.valueAccessor.writeValue(a),d&&n.viewToModelUpdate(a)};t.registerOnChange(r),n._registerOnDestroy(()=>{t._unregisterOnChange(r)})}(t,n),function FB(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&yS(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function RB(t,n){if(n.valueAccessor.setDisabledState){const r=a=>{n.valueAccessor.setDisabledState(a)};t.registerOnDisabledChange(r),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(r)})}}(t,n)}function Q_(t,n){t.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(n)})}function yS(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function eD(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}const yp="VALID",K_="INVALID",lu="PENDING",Ap="DISABLED";function nD(t){return(Y_(t)?t.validators:t)||null}function xS(t){return Array.isArray(t)?$1(t):t||null}function oD(t,n){return(Y_(n)?n.asyncValidators:t)||null}function MS(t){return Array.isArray(t)?W1(t):t||null}function Y_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const iD=t=>t instanceof sD;function SS(t){return(t=>t instanceof PS)(t)?t.value:t.getRawValue()}function TS(t,n){const r=iD(t),a=t.controls;if(!(r?Object.keys(a):a).length)throw new pt(1e3,"");if(!a[n])throw new pt(1001,"")}function NS(t,n){iD(t),t._forEachChild((a,d)=>{if(void 0===n[d])throw new pt(1002,"")})}class rD{constructor(n,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=r,this._composedValidatorFn=xS(this._rawValidators),this._composedAsyncValidatorFn=MS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===yp}get invalid(){return this.status===K_}get pending(){return this.status==lu}get disabled(){return this.status===Ap}get enabled(){return this.status!==Ap}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=xS(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=MS(n)}addValidators(n){this.setValidators(wS(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(wS(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(kS(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(kS(n,this._rawAsyncValidators))}hasValidator(n){return G_(this._rawValidators,n)}hasAsyncValidator(n){return G_(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=lu,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=Ap,this.errors=null,this._forEachChild(a=>{a.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(a=>a(!0))}enable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=yp,this._forEachChild(a=>{a.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yp||this.status===lu)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ap:yp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=lu,this._hasOwnPendingAsyncValidator=!0;const r=lS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(a=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(a,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,r={}){this.errors=n,this._updateControlsErrors(!1!==r.emitEvent)}get(n){return function UB(t,n,r){if(null==n||(Array.isArray(n)||(n=n.split(r)),Array.isArray(n)&&0===n.length))return null;let a=t;return n.forEach(d=>{a=iD(a)?a.controls.hasOwnProperty(d)?a.controls[d]:null:(t=>t instanceof GB)(a)&&a.at(d)||null}),a}(this,n,".")}getError(n,r){const a=r?this.get(r):this;return a&&a.errors?a.errors[n]:null}hasError(n,r){return!!this.getError(n,r)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new at,this.statusChanges=new at}_calculateStatus(){return this._allControlsDisabled()?Ap:this.errors?K_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lu)?lu:this._anyControlsHaveStatus(K_)?K_:yp}_anyControlsHaveStatus(n){return this._anyControls(r=>r.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Y_(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class PS extends rD{constructor(n=null,r,a){super(nD(r),oD(a,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Y_(r)&&r.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(n)?n.value:n)}setValue(n,r={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(a=>a(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(n,r={}){this.setValue(n,r)}reset(n=this.defaultValue,r={}){this._applyFormState(n),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){eD(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){eD(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class sD extends rD{constructor(n,r,a){super(nD(r),oD(a,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,r){return this.controls[n]?this.controls[n]:(this.controls[n]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(n,r,a={}){this.registerControl(n,r),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}removeControl(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(n,r,a={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],r&&this.registerControl(n,r),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,r={}){NS(this,n),Object.keys(n).forEach(a=>{TS(this,a),this.controls[a].setValue(n[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(Object.keys(n).forEach(a=>{this.controls[a]&&this.controls[a].patchValue(n[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n={},r={}){this._forEachChild((a,d)=>{a.reset(n[d],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(n,r,a)=>(n[a]=SS(r),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(r,a)=>!!a._syncPendingControls()||r);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(r=>{const a=this.controls[r];a&&n(a,r)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const r of Object.keys(this.controls)){const a=this.controls[r];if(this.contains(r)&&n(a))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,r,a)=>((r.enabled||this.disabled)&&(n[a]=r.value),n))}_reduceChildren(n,r){let a=n;return this._forEachChild((d,f)=>{a=r(a,d,f)}),a}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class GB extends rD{constructor(n,r,a){super(nD(r),oD(a,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,r={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(n,r,a={}){this.controls.splice(n,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:a.emitEvent})}removeAt(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(n,r,a={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),r&&(this.controls.splice(n,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,r={}){NS(this,n),n.forEach((a,d)=>{TS(this,d),this.at(d).setValue(a,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(n.forEach((a,d)=>{this.at(d)&&this.at(d).patchValue(a,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n=[],r={}){this._forEachChild((a,d)=>{a.reset(n[d],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(n=>SS(n))}clear(n={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((r,a)=>!!a._syncPendingControls()||r,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((r,a)=>{n(r,a)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(r=>r.enabled&&n(r))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const qB={provide:Ba,useExisting:vt(()=>J_)},BS=(()=>Promise.resolve(null))();let J_=(()=>{class t extends Ba{constructor(r,a,d,f,p){super(),this._changeDetectorRef=p,this.control=new PS,this._registered=!1,this.update=new at,this._parent=r,this._setValidators(a),this._setAsyncValidators(d),this.valueAccessor=function X1(t,n){if(!n)return null;let r,a,d;return Array.isArray(n),n.forEach(f=>{f.constructor===vp?r=f:function VB(t){return Object.getPrototypeOf(t.constructor)===hl}(f)?a=f:d=f}),d||a||r||null}(0,f)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const a=r.name.previousValue;this.formDirective.removeControl({name:a,path:this._getPath(a)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function J1(t,n){if(!t.hasOwnProperty("model"))return!1;const r=t.model;return!!r.isFirstChange()||!Object.is(n,r.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Cp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){BS.then(()=>{var a;this.control.setValue(r,{emitViewToModelChange:!1}),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_updateDisabled(r){const a=r.isDisabled.currentValue,d=""===a||a&&"false"!==a;BS.then(()=>{var f;d&&!this.control.disabled?this.control.disable():!d&&this.control.disabled&&this.control.enable(),null===(f=this._changeDetectorRef)||void 0===f||f.markForCheck()})}_getPath(r){return this._parent?function W_(t,n){return[...n.path,t]}(r,this._parent):[r]}}return t.\u0275fac=function(r){return new(r||t)(ae(Fo,9),ae(Co,10),ae(Ra,10),ae(ur,10),ae(a_,8))},t.\u0275dir=Ue({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Wt([qB]),Mt,Uo]}),t})(),LS=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lo({type:t}),t.\u0275inj=Jn({}),t})(),kF=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lo({type:t}),t.\u0275inj=Jn({imports:[[LS]]}),t})(),nT=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lo({type:t}),t.\u0275inj=Jn({imports:[kF]}),t})();function _F(t,n){if(1&t&&(Ot(0,"div",1)(1,"div",2),pi(2,"div")(3,"div")(4,"div")(5,"div")(6,"div")(7,"div")(8,"div")(9,"div"),It(),Ot(10,"div",3),_n(11),It()()),2&t){const r=Jf();Si(11),Ca(" ",r.loadingService.loadingText," ")}}let X_=(()=>{class t{constructor(r){this.loadingService=r}ngOnInit(){}}return t.\u0275fac=function(r){return new(r||t)(ae(G1))},t.\u0275cmp=zo({type:t,selectors:[["app-loader"]],decls:1,vars:1,consts:[["class","loading-container",4,"ngIf"],[1,"loading-container"],[1,"lds-roller"],[1,"loading-text"]],template:function(r,a){1&r&&Vc(0,_F,12,1,"div",0),2&r&&Yo("ngIf",a.loadingService.isLoading)},directives:[cM],styles:['.loading-container[_ngcontent-%COMP%]{top:0;left:0;position:absolute;width:100%;height:100%;background-color:#000000d9;display:flex;flex-flow:column;align-items:center;justify-content:center;z-index:20}.loading-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{color:#fff;font-size:1.5em;max-width:200px;text-align:center}.lds-roller[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{animation:lds-roller 1.2s cubic-bezier(.5,0,.5,1) infinite;transform-origin:40px 40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;width:7px;height:7px;border-radius:50%;background:#fff;margin:-4px 0 0 -4px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-36ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1):after{top:63px;left:63px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-72ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2):after{top:68px;left:56px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.108s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3):after{top:71px;left:48px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.144s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4):after{top:72px;left:40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.18s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5):after{top:71px;left:32px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){animation-delay:-.216s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6):after{top:68px;left:24px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){animation-delay:-.252s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7):after{top:63px;left:17px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){animation-delay:-.288s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8):after{top:56px;left:12px}@keyframes lds-roller{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']}),t})(),vF=(()=>{class t{constructor(r,a,d){this.githubAuth=r,this.router=a,this.githubData=d,this.authKey=""}ngOnInit(){}setAuthKey(){this.githubAuth.authKey=this.authKey,this.githubData.getDataSetGithub("aktuellesData.json",this.githubAuth.authKey,V__dataRepoLink).subscribe(r=>{console.log(r),this.githubData.listData=r,this.router.navigate(["select"])})}}return t.\u0275fac=function(r){return new(r||t)(ae(wp),ae(Kn),ae(_p))},t.\u0275cmp=zo({type:t,selectors:[["ng-component"]],decls:7,vars:1,consts:[[1,"input-container"],["type","password",3,"ngModel","ngModelChange"],[3,"click"]],template:function(r,a){1&r&&(Ot(0,"div",0)(1,"h1"),_n(2,"Enter auth key"),It(),Ot(3,"input",1),$t("ngModelChange",function(f){return a.authKey=f}),It(),Ot(4,"button",2),$t("click",function(){return a.setAuthKey()}),_n(5,"Login"),It()(),pi(6,"app-loader")),2&r&&(Si(3),Yo("ngModel",a.authKey))},directives:[vp,Q1,J_,X_],styles:[".input-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-flow:column}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;border:2px solid #383838;border-radius:15px;font-size:1.2em;background-color:#fff}"]}),t})();var CF=V(170),gD=V(252);const Ms=function yF(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)},oT="object"==typeof global&&global&&global.Object===Object&&global;var DF="object"==typeof self&&self&&self.Object===Object&&self;const hr=oT||DF||Function("return this")(),pD=function(){return hr.Date.now()};var MF=/\s/;var TF=/^\s+/;const PF=function NF(t){return t&&t.slice(0,function IF(t){for(var n=t.length;n--&&MF.test(t.charAt(n)););return n}(t)+1).replace(TF,"")},du=hr.Symbol;var iT=Object.prototype,RF=iT.hasOwnProperty,BF=iT.toString,Ep=du?du.toStringTag:void 0;var zF=Object.prototype.toString;var rT=du?du.toStringTag:void 0;const gl=function $F(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":rT&&rT in Object(t)?function FF(t){var n=RF.call(t,Ep),r=t[Ep];try{t[Ep]=void 0;var a=!0}catch(f){}var d=BF.call(t);return a&&(n?t[Ep]=r:delete t[Ep]),d}(t):function VF(t){return zF.call(t)}(t)},Fa=function WF(t){return null!=t&&"object"==typeof t};var KF=/^[-+]0x[0-9a-f]+$/i,YF=/^0b[01]+$/i,JF=/^0o[0-7]+$/i,XF=parseInt;const aT=function eL(t){if("number"==typeof t)return t;if(function QF(t){return"symbol"==typeof t||Fa(t)&&"[object Symbol]"==gl(t)}(t))return NaN;if(Ms(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Ms(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=PF(t);var r=YF.test(t);return r||JF.test(t)?XF(t.slice(2),r?2:8):KF.test(t)?NaN:+t};var nL=Math.max,oL=Math.min;const cL=function aL(t,n,r){var a=!0,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return Ms(r)&&(a="leading"in r?!!r.leading:a,d="trailing"in r?!!r.trailing:d),function iL(t,n,r){var a,d,f,p,b,_,C=0,T=!1,j=!1,q=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function Z(_t){var Ao=a,Is=d;return a=d=void 0,C=_t,p=t.apply(Is,Ao)}function X(_t){return C=_t,b=setTimeout(le,n),T?Z(_t):p}function de(_t){var Ao=_t-_;return void 0===_||Ao>=n||Ao<0||j&&_t-C>=f}function le(){var _t=pD();if(de(_t))return ie(_t);b=setTimeout(le,function re(_t){var wu=n-(_t-_);return j?oL(wu,f-(_t-C)):wu}(_t))}function ie(_t){return b=void 0,q&&a?Z(_t):(a=d=void 0,p)}function gt(){var _t=pD(),Ao=de(_t);if(a=arguments,d=this,_=_t,Ao){if(void 0===b)return X(_);if(j)return clearTimeout(b),b=setTimeout(le,n),Z(_)}return void 0===b&&(b=setTimeout(le,n)),p}return n=aT(n)||0,Ms(r)&&(T=!!r.leading,f=(j="maxWait"in r)?nL(aT(r.maxWait)||0,n):f,q="trailing"in r?!!r.trailing:q),gt.cancel=function Oe(){void 0!==b&&clearTimeout(b),C=0,a=_=d=b=void 0},gt.flush=function Je(){return void 0===b?p:ie(pD())},gt}(t,n,{leading:a,maxWait:n,trailing:d})},cT=function uL(t,n){return t===n||t!=t&&n!=n},ev=function hL(t,n){for(var r=t.length;r--;)if(cT(t[r][0],n))return r;return-1};var gL=Array.prototype.splice;function uu(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var a=t[n];this.set(a[0],a[1])}}uu.prototype.clear=function lL(){this.__data__=[],this.size=0},uu.prototype.delete=function pL(t){var n=this.__data__,r=ev(n,t);return!(r<0||(r==n.length-1?n.pop():gL.call(n,r,1),--this.size,0))},uu.prototype.get=function bL(t){var n=this.__data__,r=ev(n,t);return r<0?void 0:n[r][1]},uu.prototype.has=function kL(t){return ev(this.__data__,t)>-1},uu.prototype.set=function vL(t,n){var r=this.__data__,a=ev(r,t);return a<0?(++this.size,r.push([t,n])):r[a][1]=n,this};const tv=uu,lT=function RL(t){if(!Ms(t))return!1;var n=gl(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n};var t,BL=hr["__core-js_shared__"],dT=(t=/[^.]+$/.exec(BL&&BL.keys&&BL.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";var zL=Function.prototype.toString;const pl=function VL(t){if(null!=t){try{return zL.call(t)}catch(n){}try{return t+""}catch(n){}}return""};var HL=/^\[object .+?Constructor\]$/,QL=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const KL=function ZL(t){return!(!Ms(t)||function FL(t){return!!dT&&dT in t}(t))&&(lT(t)?QL:HL).test(pl(t))},ml=function XL(t,n){var r=function YL(t,n){return null==t?void 0:t[n]}(t,n);return KL(r)?r:void 0},xp=ml(hr,"Map"),Mp=ml(Object,"create");var c4=Object.prototype.hasOwnProperty;var h4=Object.prototype.hasOwnProperty;function hu(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var a=t[n];this.set(a[0],a[1])}}hu.prototype.clear=function n4(){this.__data__=Mp?Mp(null):{},this.size=0},hu.prototype.delete=function i4(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},hu.prototype.get=function l4(t){var n=this.__data__;if(Mp){var r=n[t];return"__lodash_hash_undefined__"===r?void 0:r}return c4.call(n,t)?n[t]:void 0},hu.prototype.has=function f4(t){var n=this.__data__;return Mp?void 0!==n[t]:h4.call(n,t)},hu.prototype.set=function m4(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Mp&&void 0===n?"__lodash_hash_undefined__":n,this};const uT=hu,nv=function C4(t,n){var r=t.__data__;return function _4(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}(n)?r["string"==typeof n?"string":"hash"]:r.map};function fu(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var a=t[n];this.set(a[0],a[1])}}fu.prototype.clear=function w4(){this.size=0,this.__data__={hash:new uT,map:new(xp||tv),string:new uT}},fu.prototype.delete=function y4(t){var n=nv(this,t).delete(t);return this.size-=n?1:0,n},fu.prototype.get=function D4(t){return nv(this,t).get(t)},fu.prototype.has=function x4(t){return nv(this,t).has(t)},fu.prototype.set=function I4(t,n){var r=nv(this,t),a=r.size;return r.set(t,n),this.size+=r.size==a?0:1,this};const T4=fu;function gu(t){var n=this.__data__=new tv(t);this.size=n.size}gu.prototype.clear=function yL(){this.__data__=new tv,this.size=0},gu.prototype.delete=function DL(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r},gu.prototype.get=function xL(t){return this.__data__.get(t)},gu.prototype.has=function IL(t){return this.__data__.has(t)},gu.prototype.set=function P4(t,n){var r=this.__data__;if(r instanceof tv){var a=r.__data__;if(!xp||a.length<199)return a.push([t,n]),this.size=++r.size,this;r=this.__data__=new T4(a)}return r.set(t,n),this.size=r.size,this};const R4=gu;var L4=function(){try{var t=ml(Object,"defineProperty");return t({},"",{}),t}catch(n){}}();const hT=L4,fT=function j4(t,n,r){"__proto__"==n&&hT?hT(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r};var V4=Object.prototype.hasOwnProperty;const gT=function U4(t,n,r){var a=t[n];(!V4.call(t,n)||!cT(a,r)||void 0===r&&!(n in t))&&fT(t,n,r)},ov=function H4(t,n,r,a){var d=!r;r||(r={});for(var f=-1,p=n.length;++f<p;){var b=n[f],_=a?a(r[b],t[b],b,r,t):void 0;void 0===_&&(_=t[b]),d?fT(r,b,_):gT(r,b,_)}return r},pT=function q4(t){return Fa(t)&&"[object Arguments]"==gl(t)};var mT=Object.prototype,Q4=mT.hasOwnProperty,Z4=mT.propertyIsEnumerable,K4=pT(function(){return arguments}())?pT:function(t){return Fa(t)&&Q4.call(t,"callee")&&!Z4.call(t,"callee")};const Y4=K4,bD=Array.isArray;var bT="object"==typeof exports&&exports&&!exports.nodeType&&exports,wT=bT&&"object"==typeof module&&module&&!module.nodeType&&module,kT=wT&&wT.exports===bT?hr.Buffer:void 0;const _T=(kT?kT.isBuffer:void 0)||function X4(){return!1};var r3=/^(?:0|[1-9]\d*)$/;const a3=function s3(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&r3.test(t))&&t>-1&&t%1==0&&t<n},vT=function l3(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var tn={};tn["[object Float32Array]"]=tn["[object Float64Array]"]=tn["[object Int8Array]"]=tn["[object Int16Array]"]=tn["[object Int32Array]"]=tn["[object Uint8Array]"]=tn["[object Uint8ClampedArray]"]=tn["[object Uint16Array]"]=tn["[object Uint32Array]"]=!0,tn["[object Arguments]"]=tn["[object Array]"]=tn["[object ArrayBuffer]"]=tn["[object Boolean]"]=tn["[object DataView]"]=tn["[object Date]"]=tn["[object Error]"]=tn["[object Function]"]=tn["[object Map]"]=tn["[object Number]"]=tn["[object Object]"]=tn["[object RegExp]"]=tn["[object Set]"]=tn["[object String]"]=tn["[object WeakMap]"]=!1;const wD=function B3(t){return function(n){return t(n)}};var CT="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ip=CT&&"object"==typeof module&&module&&!module.nodeType&&module,kD=Ip&&Ip.exports===CT&&oT.process;const pu=function(){try{return Ip&&Ip.require&&Ip.require("util").types||kD&&kD.binding&&kD.binding("util")}catch(n){}}();var yT=pu&&pu.isTypedArray;const z3=yT?wD(yT):function O3(t){return Fa(t)&&vT(t.length)&&!!tn[gl(t)]};var U3=Object.prototype.hasOwnProperty;const AT=function H3(t,n){var r=bD(t),a=!r&&Y4(t),d=!r&&!a&&_T(t),f=!r&&!a&&!d&&z3(t),p=r||a||d||f,b=p?function G4(t,n){for(var r=-1,a=Array(t);++r<t;)a[r]=n(r);return a}(t.length,String):[],_=b.length;for(var C in t)(n||U3.call(t,C))&&(!p||!("length"==C||d&&("offset"==C||"parent"==C)||f&&("buffer"==C||"byteLength"==C||"byteOffset"==C)||a3(C,_)))&&b.push(C);return b};var G3=Object.prototype;const _D=function $3(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||G3)},DT=function W3(t,n){return function(r){return t(n(r))}},Q3=DT(Object.keys,Object);var K3=Object.prototype.hasOwnProperty;const ET=function X3(t){return null!=t&&vT(t.length)&&!lT(t)},vD=function ej(t){return ET(t)?AT(t):function Y3(t){if(!_D(t))return Q3(t);var n=[];for(var r in Object(t))K3.call(t,r)&&"constructor"!=r&&n.push(r);return n}(t)};var sj=Object.prototype.hasOwnProperty;const cj=function aj(t){if(!Ms(t))return function oj(t){var n=[];if(null!=t)for(var r in Object(t))n.push(r);return n}(t);var n=_D(t),r=[];for(var a in t)"constructor"==a&&(n||!sj.call(t,a))||r.push(a);return r},CD=function lj(t){return ET(t)?AT(t,!0):cj(t)};var xT="object"==typeof exports&&exports&&!exports.nodeType&&exports,MT=xT&&"object"==typeof module&&module&&!module.nodeType&&module,IT=MT&&MT.exports===xT?hr.Buffer:void 0,ST=IT?IT.allocUnsafe:void 0;const TT=function kj(){return[]};var vj=Object.prototype.propertyIsEnumerable,NT=Object.getOwnPropertySymbols,Cj=NT?function(t){return null==t?[]:(t=Object(t),function bj(t,n){for(var r=-1,a=null==t?0:t.length,d=0,f=[];++r<a;){var p=t[r];n(p,r,t)&&(f[d++]=p)}return f}(NT(t),function(n){return vj.call(t,n)}))}:TT;const yD=Cj,PT=function Dj(t,n){for(var r=-1,a=n.length,d=t.length;++r<a;)t[d+r]=n[r];return t},AD=DT(Object.getPrototypeOf,Object);var Mj=Object.getOwnPropertySymbols?function(t){for(var n=[];t;)PT(n,yD(t)),t=AD(t);return n}:TT;const OT=Mj,RT=function Tj(t,n,r){var a=n(t);return bD(t)?a:PT(a,r(t))},Pj=function Nj(t){return RT(t,vD,yD)},Rj=function Oj(t){return RT(t,CD,OT)},DD=ml(hr,"DataView"),ED=ml(hr,"Promise"),xD=ml(hr,"Set"),MD=ml(hr,"WeakMap");var BT="[object Map]",FT="[object Promise]",LT="[object Set]",jT="[object WeakMap]",zT="[object DataView]",Vj=pl(DD),Uj=pl(xp),Hj=pl(ED),Gj=pl(xD),$j=pl(MD),bl=gl;(DD&&bl(new DD(new ArrayBuffer(1)))!=zT||xp&&bl(new xp)!=BT||ED&&bl(ED.resolve())!=FT||xD&&bl(new xD)!=LT||MD&&bl(new MD)!=jT)&&(bl=function(t){var n=gl(t),r="[object Object]"==n?t.constructor:void 0,a=r?pl(r):"";if(a)switch(a){case Vj:return zT;case Uj:return BT;case Hj:return FT;case Gj:return LT;case $j:return jT}return n});const ID=bl;var qj=Object.prototype.hasOwnProperty;const VT=hr.Uint8Array,SD=function Yj(t){var n=new t.constructor(t.byteLength);return new VT(n).set(new VT(t)),n};var ez=/\w*$/;var UT=du?du.prototype:void 0,HT=UT?UT.valueOf:void 0;const xz=function Ez(t,n,r){var a=t.constructor;switch(n){case"[object ArrayBuffer]":return SD(t);case"[object Boolean]":case"[object Date]":return new a(+t);case"[object DataView]":return function Jj(t,n){var r=n?SD(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function rz(t,n){var r=n?SD(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(t);case"[object RegExp]":return function tz(t){var n=new t.constructor(t.source,ez.exec(t));return n.lastIndex=t.lastIndex,n}(t);case"[object Symbol]":return function oz(t){return HT?Object(HT.call(t)):{}}(t)}};var GT=Object.create,Mz=function(){function t(){}return function(n){if(!Ms(n))return{};if(GT)return GT(n);t.prototype=n;var r=new t;return t.prototype=void 0,r}}();const Iz=Mz;var $T=pu&&pu.isMap;const Bz=$T?wD($T):function Pz(t){return Fa(t)&&"[object Map]"==ID(t)};var WT=pu&&pu.isSet;const Vz=WT?wD(WT):function Lz(t){return Fa(t)&&"[object Set]"==ID(t)};var qT="[object Arguments]",QT="[object Function]",ZT="[object Object]",Kt={};Kt[qT]=Kt["[object Array]"]=Kt["[object ArrayBuffer]"]=Kt["[object DataView]"]=Kt["[object Boolean]"]=Kt["[object Date]"]=Kt["[object Float32Array]"]=Kt["[object Float64Array]"]=Kt["[object Int8Array]"]=Kt["[object Int16Array]"]=Kt["[object Int32Array]"]=Kt["[object Map]"]=Kt["[object Number]"]=Kt[ZT]=Kt["[object RegExp]"]=Kt["[object Set]"]=Kt["[object String]"]=Kt["[object Symbol]"]=Kt["[object Uint8Array]"]=Kt["[object Uint8ClampedArray]"]=Kt["[object Uint16Array]"]=Kt["[object Uint32Array]"]=!0,Kt["[object Error]"]=Kt[QT]=Kt["[object WeakMap]"]=!1;const gV=function iv(t,n,r,a,d,f){var p,b=1&n,_=2&n,C=4&n;if(r&&(p=d?r(t,a,d,f):r(t)),void 0!==p)return p;if(!Ms(t))return t;var T=bD(t);if(T){if(p=function Qj(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&qj.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!b)return function pj(t,n){var r=-1,a=t.length;for(n||(n=Array(a));++r<a;)n[r]=t[r];return n}(t,p)}else{var j=ID(t),q=j==QT||"[object GeneratorFunction]"==j;if(_T(t))return function fj(t,n){if(n)return t.slice();var r=t.length,a=ST?ST(r):new t.constructor(r);return t.copy(a),a}(t,b);if(j==ZT||j==qT||q&&!d){if(p=_||q?{}:function Sz(t){return"function"!=typeof t.constructor||_D(t)?{}:Iz(AD(t))}(t),!b)return _?function Ij(t,n){return ov(t,OT(t),n)}(t,function dj(t,n){return t&&ov(n,CD(n),t)}(p,t)):function yj(t,n){return ov(t,yD(t),n)}(t,function tj(t,n){return t&&ov(n,vD(n),t)}(p,t))}else{if(!Kt[j])return d?t:{};p=xz(t,j,b)}}f||(f=new R4);var Z=f.get(t);if(Z)return Z;f.set(t,p),Vz(t)?t.forEach(function(de){p.add(iv(de,n,r,de,t,f))}):Bz(t)&&t.forEach(function(de,le){p.set(le,iv(de,n,r,le,t,f))});var re=T?void 0:(C?_?Rj:Pj:_?CD:vD)(t);return function B4(t,n){for(var r=-1,a=null==t?0:t.length;++r<a&&!1!==n(t[r],r,t););}(re||t,function(de,le){re&&(de=t[le=de]),gT(p,le,iv(de,n,r,le,t,f))}),p};var KT=Function.prototype.toString,CV=Object.prototype.hasOwnProperty,yV=KT.call(Object);const xV=function EV(t){return Fa(t)&&1===t.nodeType&&!function AV(t){if(!Fa(t)||"[object Object]"!=gl(t))return!1;var n=AD(t);if(null===n)return!0;var r=CV.call(n,"constructor")&&n.constructor;return"function"==typeof r&&r instanceof r&&KT.call(r)==yV}(t)};function YT(t,n=new Set){const r=[t],a=new Set;let d=0;for(;r.length>d;){const f=r[d++];if(!(a.has(f)||MV(f)||n.has(f)))if(a.add(f),f[Symbol.iterator])try{for(const p of f)r.push(p)}catch(p){}else for(const p in f)"defaultValue"!==p&&r.push(f[p])}return a}function MV(t){const n=Object.prototype.toString.call(t),r=typeof t;return"number"===r||"boolean"===r||"string"===r||"symbol"===r||"function"===r||"[object Date]"===n||"[object RegExp]"===n||"[object Module]"===n||null==t||t instanceof EventTarget||t instanceof Event}class NV extends class TV{constructor(n){if(this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof n.crashNumberLimit?n.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof n.minimumNonErrorTimePeriod?n.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=r=>{const a=r.error||r.reason;a instanceof Error&&this._handleError(a,r)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}destroy(){this._stopErrorHandling(),this._listeners={}}on(n,r){this._listeners[n]||(this._listeners[n]=[]),this._listeners[n].push(r)}off(n,r){this._listeners[n]=this._listeners[n].filter(a=>a!==r)}_fire(n,...r){const a=this._listeners[n]||[];for(const d of a)d.apply(this,[null,...r])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(n,r){if(this._shouldReactToError(n)){this.crashes.push({message:n.message,stack:n.stack,filename:r.filename,lineno:r.lineno,colno:r.colno,date:this._now()});const a=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:n,causesRestart:a}),a?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(n){return n.is&&n.is("CKEditorError")&&null!=n.context&&"ready"===this.state&&this._isErrorComingFromThisItem(n)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}{constructor(n,r={}){super(r),this._editor=null,this._throttledSave=cL(this._save.bind(this),"number"==typeof r.saveInterval?r.saveInterval:5e3),this._creator=(a,d)=>n.create(a,d),this._destructor=a=>a.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(n=>{console.error("An error happened during the editor destroying.",n)}).then(()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const n=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,n,n.context)}}).then(()=>{this._fire("restart")})}create(n=this._elementOrData,r=this._config,a){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=n,this._config=this._cloneEditorConfiguration(r)||{},this._config.context=a,this._creator(n,this._config))).then(d=>{this._editor=d,d.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=d.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const n=this._editor;return this._editor=null,n.model.document.off("change:data",this._throttledSave),this._destructor(n)})}_save(){const n=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=n}catch(r){console.error(r,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(n){this._excludedProps=n}_getData(){const n={};for(const r of this._editor.model.document.getRootNames())n[r]=this._editor.data.get({rootName:r});return n}_isErrorComingFromThisItem(n){return function IV(t,n,r=new Set){if(t===n&&function SV(t){return"object"==typeof t&&null!==t}(t))return!0;const a=YT(t,r),d=YT(n,r);for(const f of a)if(d.has(f))return!0;return!1}(this._editor,n.context,this._excludedProps)}_cloneEditorConfiguration(n){return function bV(t,n){return gV(t,5,n="function"==typeof n?n:void 0)}(n,(r,a)=>{if(xV(r)||"context"===a)return r})}}function PV(t,n){}const yo=new Array(256).fill(0).map((t,n)=>("0"+n.toString(16)).slice(-2)),TD="Lock from Angular integration (@ckeditor/ckeditor5-angular)";let BV=(()=>{class t{constructor(r,a){this.config={},this.data="",this.tagName="div",this.ready=new at,this.change=new at,this.blur=new at,this.focus=new at,this.error=new at,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function RV(){const t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0;return"e"+yo[t>>0&255]+yo[t>>8&255]+yo[t>>16&255]+yo[t>>24&255]+yo[n>>0&255]+yo[n>>8&255]+yo[n>>16&255]+yo[n>>24&255]+yo[r>>0&255]+yo[r>>8&255]+yo[r>>16&255]+yo[r>>24&255]+yo[a>>0&255]+yo[a>>8&255]+yo[a>>16&255]+yo[a>>24&255]}(),this.ngZone=a,this.elementRef=r;const{CKEDITOR_VERSION:d}=window;if(d){const[f]=d.split(".").map(Number);f<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}set disabled(r){this.setDisabledState(r)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let r=this.editorWatchdog;return this.watchdog&&(r=this.watchdog._watchdogs.get(this.id)),r?r.editor:null}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){return Yn(this,void 0,void 0,function*(){this.watchdog?yield this.watchdog.remove(this.id):this.editorWatchdog&&this.editorWatchdog.editor&&(yield this.editorWatchdog.destroy(),this.editorWatchdog=void 0)})}writeValue(r){null===r&&(r=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(r),this.isEditorSettingData=!1):(this.data=r,this.ready.pipe(al()).subscribe(a=>{a.setData(this.data)}))}registerOnChange(r){this.cvaOnChange=r}registerOnTouched(r){this.cvaOnTouched=r}setDisabledState(r){this.editorInstance&&(r?this.editorInstance.enableReadOnlyMode(TD):this.editorInstance.disableReadOnlyMode(TD)),this.initiallyDisabled=r}attachToWatchdog(){const r=(b,_)=>Yn(this,void 0,void 0,function*(){return this.ngZone.runOutsideAngular(()=>Yn(this,void 0,void 0,function*(){this.elementRef.nativeElement.appendChild(b);const C=yield this.editor.create(b,_);return this.initiallyDisabled&&C.enableReadOnlyMode(TD),this.ngZone.run(()=>{this.ready.emit(C)}),this.setUpEditorEvents(C),C}))}),a=b=>Yn(this,void 0,void 0,function*(){yield b.destroy(),this.elementRef.nativeElement.removeChild(this.editorElement)}),d=()=>{this.ngZone.run(()=>{this.error.emit()})},f=document.createElement(this.tagName),p=this.getConfig();if(this.editorElement=f,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:r,destructor:a,sourceElementOrData:f,config:p}),this.watchdog.on("itemError",(b,{itemId:_})=>{_===this.id&&d()});else{const b=new NV(this.editor);b.setCreator(r),b.setDestructor(a),b.on("error",d),this.editorWatchdog=b,this.editorWatchdog.create(f,p)}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const r=Object.assign({},this.config),a=this.config.initialData||this.data;return a&&(r.initialData=a),r}setUpEditorEvents(r){const d=r.editing.view.document;r.model.document.on("change:data",f=>{this.ngZone.run(()=>{if(this.cvaOnChange&&!this.isEditorSettingData){const p=r.getData();this.cvaOnChange(p)}this.change.emit({event:f,editor:r})})}),d.on("focus",f=>{this.ngZone.run(()=>{this.focus.emit({event:f,editor:r})})}),d.on("blur",f=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:f,editor:r})})})}}return t.\u0275fac=function(r){return new(r||t)(ae(_o),ae(Zn))},t.\u0275cmp=zo({type:t,selectors:[["ckeditor"]],inputs:{config:"config",data:"data",tagName:"tagName",disabled:"disabled",editor:"editor",watchdog:"watchdog"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[Wt([{provide:ur,useExisting:vt(()=>t),multi:!0}])],decls:1,vars:0,template:function(r,a){1&r&&Vc(0,PV,0,0,"ng-template")},encapsulation:2}),t})(),FV=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lo({type:t}),t.\u0275inj=Jn({imports:[[nT,hM]]}),t})(),LV=(()=>{class t{constructor(r,a,d){this.githubAuth=r,this.router=a,this.githubData=d,this.Editor=CF,this.editorConfig={removePlugins:["Heading"],toolbar:["bold","italic","bulletedList","numberedList","blockQuote","link"]}}ngOnInit(){this.githubAuth.authKey.length<1&&(this.router.navigate([""]),console.error("invalid auth token"))}onImageChange(r){const a=r.target.files[0],d=new FileReader;d.readAsDataURL(a),d.onload=()=>{"string"==typeof d.result?gD.Z.getFilefromDataUrl(d.result,"upload.jpg").then(f=>{(0,gD.Z)(f,{maxSizeMB:.1}).then(p=>{gD.Z.getDataUrlFromFile(p).then(b=>{this.githubData.editorData.image=b})})}):console.error("there was an error when uploading the image")}}cancel(){this.githubData.editorData=null,this.router.navigate(["select"])}delete(){this.githubData.delete(this.githubData.editorData),this.router.navigate(["select"])}save(){this.githubData.updateList(this.githubData.editorData),this.router.navigate(["select"]),console.log(this.githubData.listData)}}return t.\u0275fac=function(r){return new(r||t)(ae(wp),ae(Kn),ae(_p))},t.\u0275cmp=zo({type:t,selectors:[["ng-component"]],decls:28,vars:6,consts:[[1,"container"],[1,"editor-container"],[1,"input"],["type","text","placeholder"," ",1,"input__field",3,"ngModel","ngModelChange"],[1,"input__label"],["type","date","placeholder"," ",1,"input__field",3,"ngModel","ngModelChange"],[1,"label"],[3,"ngModel","editor","config","ngModelChange"],["accept","image/*","type","file",1,"input__field","form-control",3,"change"],["width","200",3,"src"],[1,"buttons-container"],["id","cancel",1,"red",3,"click"],["id","delete",1,"red",3,"click"],["id","save",1,"green",3,"click"]],template:function(r,a){1&r&&(Ot(0,"div",0)(1,"div",1)(2,"h1"),_n(3,"Editor"),It(),Ot(4,"label",2)(5,"input",3),$t("ngModelChange",function(f){return a.githubData.editorData.title=f}),It(),Ot(6,"span",4),_n(7,"Titel"),It()(),Ot(8,"label",2)(9,"input",5),$t("ngModelChange",function(f){return a.githubData.editorData.date=f}),It(),Ot(10,"span",4),_n(11,"Datum"),It()(),Ot(12,"div",6),_n(13,"Inhalt:"),It(),Ot(14,"ckeditor",7),$t("ngModelChange",function(f){return a.githubData.editorData.text=f}),It(),Ot(15,"label",2)(16,"input",8),$t("change",function(f){return a.onImageChange(f)}),It(),Ot(17,"span",4),_n(18,"Bild"),It()(),pi(19,"img",9),Ot(20,"div",10)(21,"button",11),$t("click",function(){return a.cancel()}),_n(22,"Verwerfen"),It(),Ot(23,"button",12),$t("click",function(){return a.delete()}),_n(24,"L\xf6schen"),It(),Ot(25,"button",13),$t("click",function(){return a.save()}),_n(26,"Speichern"),It()()()(),pi(27,"app-loader")),2&r&&(Si(5),Yo("ngModel",a.githubData.editorData.title),Si(4),Yo("ngModel",a.githubData.editorData.date),Si(5),Yo("ngModel",a.githubData.editorData.text)("editor",a.Editor)("config",a.editorConfig),Si(5),Yo("src",a.githubData.editorData.image,Mi))},directives:[vp,Q1,J_,BV,X_],styles:[".container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;justify-content:center;align-items:flex-start}.container[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]{display:flex;flex-flow:column;width:50%;padding:20px;background-color:#fff;border-radius:20px;margin:40px;--color-light: white;--color-dark: #212121;--color-signal: #fab700;--color-background: var(--color-light);--color-text: var(--color-dark);--color-accent: var(--color-signal);--size-bezel: .5rem;--size-radius: 4px;line-height:1.4;font-family:Inter,sans-serif;font-size:calc(.6rem + .4vw);color:var(--color-text);background:var(--color-background);font-weight:300;padding:0 calc(var(--size-bezel) * 3)}.container[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1.5em;margin:10px 0 0}.container[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3em;text-align:center}.container[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-bottom:50px}.container[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:15px}.container[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button.red[_ngcontent-%COMP%]{background-color:#ff9393}.container[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button.green[_ngcontent-%COMP%]{background-color:#a2ffb2}.l-design-widht[_ngcontent-%COMP%]{max-width:40rem;padding:1rem}.input[_ngcontent-%COMP%]{position:relative;margin:20px 0}.input__label[_ngcontent-%COMP%]{position:absolute;left:0;top:0;padding:calc(var(--size-bezel) * .75) calc(var(--size-bezel) * .5);margin:calc(var(--size-bezel) * .75 + 3px) calc(var(--size-bezel) * .5);background:pink;white-space:nowrap;transform:translate(0);transform-origin:0 0;background:var(--color-background);transition:transform .12s ease-in;font-weight:700;line-height:1.2}.input__field[_ngcontent-%COMP%]{box-sizing:border-box;display:block;width:100%;border:2px solid currentColor;padding:calc(var(--size-bezel) * 1.5) var(--size-bezel);color:currentColor;background:transparent;border-radius:var(--size-radius)}.input__field[_ngcontent-%COMP%]:focus + .input__label[_ngcontent-%COMP%], .input__field[_ngcontent-%COMP%]:not(:placeholder-shown) + .input__label[_ngcontent-%COMP%]{transform:translate(.25rem,-65%) scale(.8);color:var(--color-accent)}"]}),t})();const VV="function"==typeof btoa,mu="function"==typeof Buffer,e2=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),Sp=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),ao=((t=>{let n={};t.forEach((r,a)=>n[r]=a)})(Sp),String.fromCharCode.bind(String)),n2=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),t=>t.replace(/=/g,"").replace(/[+\/]/g,n=>"+"==n?"-":"_")),ND=VV?t=>btoa(t):mu?t=>Buffer.from(t,"binary").toString("base64"):t=>{let n,r,a,d,f="";const p=t.length%3;for(let b=0;b<t.length;){if((r=t.charCodeAt(b++))>255||(a=t.charCodeAt(b++))>255||(d=t.charCodeAt(b++))>255)throw new TypeError("invalid character found");n=r<<16|a<<8|d,f+=Sp[n>>18&63]+Sp[n>>12&63]+Sp[n>>6&63]+Sp[63&n]}return p?f.slice(0,p-3)+"===".substring(p):f},PD=mu?t=>Buffer.from(t).toString("base64"):t=>{let r=[];for(let a=0,d=t.length;a<d;a+=4096)r.push(ao.apply(null,t.subarray(a,a+4096)));return ND(r.join(""))},GV=t=>{if(t.length<2)return(n=t.charCodeAt(0))<128?t:n<2048?ao(192|n>>>6)+ao(128|63&n):ao(224|n>>>12&15)+ao(128|n>>>6&63)+ao(128|63&n);var n=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return ao(240|n>>>18&7)+ao(128|n>>>12&63)+ao(128|n>>>6&63)+ao(128|63&n)},$V=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,s2=mu?t=>Buffer.from(t,"utf8").toString("base64"):e2?t=>PD(e2.encode(t)):t=>ND((t=>t.replace($V,GV))(t)),KV_encode=(t,n=!1)=>n?n2(s2(t)):s2(t);let YV=(()=>{class t{constructor(r,a,d,f){this.http=r,this.githubData=a,this.router=d,this.loadingService=f}commitData(r,a){this.loadingService.showLoader("uploading Files"),r="Bearer "+r;let d=(new dr).set("Authorization",r);this.http.put(V__dataRepoLink+a,{message:"web-editor update",content:KV_encode(JSON.stringify(this.githubData.listData)),sha:this.githubData.dataSetSHA},{headers:d}).subscribe(f=>{console.log(f),this.loadingService.stopLoader(),this.router.navigate(["success"])})}}return t.\u0275fac=function(r){return new(r||t)(Ne(z1),Ne(_p),Ne(Kn),Ne(G1))},t.\u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function JV(t,n){if(1&t){const r=function qf(){return fe()}();Ot(0,"div",4)(1,"div",5),$t("click",function(){const f=function Ce(t){return Ye.lFrame.contextLView=t,t[8]}(r).$implicit;return Jf().loadEntry(f)}),_n(2),It()()}if(2&t){const r=n.$implicit;Si(2),Wc(r.title)}}const XV=[{path:"",component:vF},{path:"select",component:(()=>{class t{constructor(r,a,d,f){this.githubData=r,this.router=a,this.githubCommit=d,this.githubAuth=f}ngOnInit(){null==this.githubData.listData&&this.router.navigate([""])}loadEntry(r){this.githubData.editorData=JSON.parse(JSON.stringify(r)),this.router.navigate(["editor"])}newEntry(){this.githubData.editorData={createDate:(new Date).getTime(),date:new Date,image:"",text:"",title:"",moreLink:""},this.router.navigate(["editor"])}commitChanges(){this.githubCommit.commitData(this.githubAuth.authKey,"aktuellesData.json")}}return t.\u0275fac=function(r){return new(r||t)(ae(_p),ae(Kn),ae(YV),ae(wp))},t.\u0275cmp=zo({type:t,selectors:[["ng-component"]],decls:11,vars:1,consts:[[1,"container"],[1,"select-list"],["class","list-container",4,"ngFor","ngForOf"],[3,"click"],[1,"list-container"],[1,"list-element",3,"click"]],template:function(r,a){1&r&&(Ot(0,"div",0)(1,"h1"),_n(2,"Eintrag ausw\xe4hlen"),It(),Ot(3,"div",1),Vc(4,JV,3,1,"div",2),It(),Ot(5,"button",3),$t("click",function(){return a.newEntry()}),_n(6,"Neuer Eintrag +"),It(),pi(7,"br"),Ot(8,"button",3),$t("click",function(){return a.commitChanges()}),_n(9,"\xc4nderungen Hochladen"),It()(),pi(10,"app-loader")),2&r&&(Si(4),Yo("ngForOf",a.githubData.listData))},directives:[sM,X_],styles:[".container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-flow:column}.container[_ngcontent-%COMP%]   .select-list[_ngcontent-%COMP%]{width:350px;font-size:1em;text-align:center;padding:15px}.container[_ngcontent-%COMP%]   .select-list[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{margin:5px;border:0;background-color:#fff;padding:10px;cursor:pointer}.container[_ngcontent-%COMP%]   .select-list[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]:hover{background-color:#adadad}"]}),t})()},{path:"editor",component:LV},{path:"success",component:(()=>{class t{constructor(r,a,d){this.githubAuth=r,this.githubData=a,this.router=d,this.siteLink="https://rh1967.github.io/#/aktuelles/"}ngOnInit(){this.githubAuth.authKey?this.githubData.clearData():this.router.navigate([""])}}return t.\u0275fac=function(r){return new(r||t)(ae(wp),ae(_p),ae(Kn))},t.\u0275cmp=zo({type:t,selectors:[["ng-component"]],decls:9,vars:1,consts:[[1,"container"],[3,"href"]],template:function(r,a){1&r&&(Ot(0,"div",0)(1,"h1"),_n(2,"Die Webseite wurde erfolgreich geupdated"),It(),Ot(3,"h2"),_n(4," Die \xc4nderungen werden in ungef\xe4hr 10 Minuten auf der "),Ot(5,"a",1),_n(6,"Webseite"),It(),_n(7," sichtbar sein! "),It()(),pi(8,"app-loader")),2&r&&(Si(5),Yo("href",a.siteLink,Mi))},directives:[X_],styles:[".container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;align-items:center;justify-content:flex-start;flex-flow:column;padding-top:30px}"]}),t})()}];let eU=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lo({type:t}),t.\u0275inj=Jn({imports:[[RI.forRoot(XV)],RI]}),t})(),tU=(()=>{class t{constructor(){this.title="editor"}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=zo({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,a){1&r&&pi(0,"router-outlet")},directives:[M1],styles:[""]}),t})(),nU=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lo({type:t,bootstrap:[tU]}),t.\u0275inj=Jn({providers:[],imports:[[IO,eU,nT,kB,FV]]}),t})();(function gN(){Rx=!1})(),xO().bootstrapModule(nU).catch(t=>console.error(t))},926:S=>{function R(x,D,M,P,O,B,I){try{var E=x[B](I),U=E.value}catch(L){return void M(L)}E.done?D(U):Promise.resolve(U).then(P,O)}S.exports=function V(x){return function(){var D=this,M=arguments;return new Promise(function(P,O){var B=x.apply(D,M);function I(U){R(B,P,O,I,E,"next",U)}function E(U){R(B,P,O,I,E,"throw",U)}I(void 0)})}},S.exports.__esModule=!0,S.exports.default=S.exports},252:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";function _mergeNamespaces(S,R){return R.forEach(function(V){Object.keys(V).forEach(function(x){if("default"!==x&&!(x in S)){var D=Object.getOwnPropertyDescriptor(V,x);Object.defineProperty(S,x,D.get?D:{enumerable:!0,get:function(){return V[x]}})}})}),Object.freeze(S)}function ownKeys(S,R){var V=Object.keys(S);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(S);R&&(x=x.filter(function(D){return Object.getOwnPropertyDescriptor(S,D).enumerable})),V.push.apply(V,x)}return V}function _objectSpread2(S){for(var R=1;R<arguments.length;R++){var V=null!=arguments[R]?arguments[R]:{};R%2?ownKeys(Object(V),!0).forEach(function(x){_defineProperty(S,x,V[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(V)):ownKeys(Object(V)).forEach(function(x){Object.defineProperty(S,x,Object.getOwnPropertyDescriptor(V,x))})}return S}function _defineProperty(S,R,V){return R in S?Object.defineProperty(S,R,{value:V,enumerable:!0,configurable:!0,writable:!0}):S[R]=V,S}function _slicedToArray(S,R){return _arrayWithHoles(S)||_iterableToArrayLimit(S,R)||_unsupportedIterableToArray(S,R)||_nonIterableRest()}function _arrayWithHoles(S){if(Array.isArray(S))return S}function _iterableToArrayLimit(S,R){var V=null==S?null:"undefined"!=typeof Symbol&&S[Symbol.iterator]||S["@@iterator"];if(null!=V){var x,D,M=[],P=!0,O=!1;try{for(V=V.call(S);!(P=(x=V.next()).done)&&(M.push(x.value),!R||M.length!==R);P=!0);}catch(B){O=!0,D=B}finally{try{P||null==V.return||V.return()}finally{if(O)throw D}}return M}}function _unsupportedIterableToArray(S,R){if(S){if("string"==typeof S)return _arrayLikeToArray(S,R);var V=Object.prototype.toString.call(S).slice(8,-1);return"Object"===V&&S.constructor&&(V=S.constructor.name),"Map"===V||"Set"===V?Array.from(S):"Arguments"===V||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V)?_arrayLikeToArray(S,R):void 0}}function _arrayLikeToArray(S,R){(null==R||R>S.length)&&(R=S.length);for(var V=0,x=new Array(R);V<R;V++)x[V]=S[V];return x}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function createCommonjsModule(S){var R={exports:{}};return S(R,R.exports),R.exports}__webpack_require__.d(__webpack_exports__,{Z:()=>imageCompression});var UZIP_1=createCommonjsModule(function(S){var R,V,x={};S.exports=x,x.parse=function(D,M){for(var P=x.bin.readUshort,O=x.bin.readUint,B=0,I={},E=new Uint8Array(D),U=E.length-4;101010256!=O(E,U);)U--;B=U,B+=4;var L=P(E,B+=4);P(E,B+=2);var z=O(E,B+=2),A=O(E,B+=4);B+=4,B=A;for(var Q=0;Q<L;Q++){O(E,B),B+=4,B+=4,B+=4,O(E,B+=4),z=O(E,B+=4);var J=O(E,B+=4),ve=P(E,B+=4),we=P(E,B+2),te=P(E,B+4);B+=6;var ye=O(E,B+=8);B+=4,B+=ve+we+te,x._readLocal(E,ye,I,z,J,M)}return I},x._readLocal=function(D,M,P,O,B,I){var E=x.bin.readUshort,U=x.bin.readUint;U(D,M),E(D,M+=4),E(D,M+=2);var L=E(D,M+=2);U(D,M+=2),U(D,M+=4),M+=4;var z=E(D,M+=8),A=E(D,M+=2),Q=x.bin.readUTF8(D,M+=2,z);if(M+=z,M+=A,I)P[Q]={size:B,csize:O};else{var J=new Uint8Array(D.buffer,M);if(0==L)P[Q]=new Uint8Array(J.buffer.slice(M,M+O));else{if(8!=L)throw"unknown compression method: "+L;var ve=new Uint8Array(B);x.inflateRaw(J,ve),P[Q]=ve}}},x.inflateRaw=function(D,M){return x.F.inflate(D,M)},x.inflate=function(D,M){return x.inflateRaw(new Uint8Array(D.buffer,D.byteOffset+2,D.length-6),M)},x.deflate=function(D,M){null==M&&(M={level:6});var P=0,O=new Uint8Array(50+Math.floor(1.1*D.length));O[P]=120,O[P+1]=156,P=x.F.deflateRaw(D,O,P+=2,M.level);var B=x.adler(D,0,D.length);return O[P+0]=B>>>24&255,O[P+1]=B>>>16&255,O[P+2]=B>>>8&255,O[P+3]=B>>>0&255,new Uint8Array(O.buffer,0,P+4)},x.deflateRaw=function(D,M){null==M&&(M={level:6});var P=new Uint8Array(50+Math.floor(1.1*D.length)),O=x.F.deflateRaw(D,P,O,M.level);return new Uint8Array(P.buffer,0,O)},x.encode=function(D,M){null==M&&(M=!1);var P=0,O=x.bin.writeUint,B=x.bin.writeUshort,I={};for(var E in D){var U=!x._noNeed(E)&&!M,L=D[E],z=x.crc.crc(L,0,L.length);I[E]={cpr:U,usize:L.length,crc:z,file:U?x.deflateRaw(L):L}}for(var E in I)P+=I[E].file.length+30+46+2*x.bin.sizeUTF8(E);P+=22;var A=new Uint8Array(P),Q=0,J=[];for(var E in I){var ve=I[E];J.push(Q),Q=x._writeHeader(A,Q,E,ve,0)}var we=0,te=Q;for(var E in I)ve=I[E],J.push(Q),Q=x._writeHeader(A,Q,E,ve,1,J[we++]);var ye=Q-te;return O(A,Q,101010256),Q+=4,B(A,Q+=4,we),B(A,Q+=2,we),O(A,Q+=2,ye),O(A,Q+=4,te),Q+=4,Q+=2,A.buffer},x._noNeed=function(D){var M=D.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(M)},x._writeHeader=function(D,M,P,O,B,I){var E=x.bin.writeUint,U=x.bin.writeUshort,L=O.file;return E(D,M,0==B?67324752:33639248),M+=4,1==B&&(M+=2),U(D,M,20),U(D,M+=2,0),U(D,M+=2,O.cpr?8:0),E(D,M+=2,0),E(D,M+=4,O.crc),E(D,M+=4,L.length),E(D,M+=4,O.usize),U(D,M+=4,x.bin.sizeUTF8(P)),U(D,M+=2,0),M+=2,1==B&&(M+=2,M+=2,E(D,M+=6,I),M+=4),M+=x.bin.writeUTF8(D,M,P),0==B&&(D.set(L,M),M+=L.length),M},x.crc={table:function(){for(var D=new Uint32Array(256),M=0;M<256;M++){for(var P=M,O=0;O<8;O++)1&P?P=3988292384^P>>>1:P>>>=1;D[M]=P}return D}(),update:function(D,M,P,O){for(var B=0;B<O;B++)D=x.crc.table[255&(D^M[P+B])]^D>>>8;return D},crc:function(D,M,P){return 4294967295^x.crc.update(4294967295,D,M,P)}},x.adler=function(D,M,P){for(var O=1,B=0,I=M,E=M+P;I<E;){for(var U=Math.min(I+5552,E);I<U;)B+=O+=D[I++];O%=65521,B%=65521}return B<<16|O},x.bin={readUshort:function(D,M){return D[M]|D[M+1]<<8},writeUshort:function(D,M,P){D[M]=255&P,D[M+1]=P>>8&255},readUint:function(D,M){return 16777216*D[M+3]+(D[M+2]<<16|D[M+1]<<8|D[M])},writeUint:function(D,M,P){D[M]=255&P,D[M+1]=P>>8&255,D[M+2]=P>>16&255,D[M+3]=P>>24&255},readASCII:function(D,M,P){for(var O="",B=0;B<P;B++)O+=String.fromCharCode(D[M+B]);return O},writeASCII:function(D,M,P){for(var O=0;O<P.length;O++)D[M+O]=P.charCodeAt(O)},pad:function(D){return D.length<2?"0"+D:D},readUTF8:function(D,M,P){for(var O,B="",I=0;I<P;I++)B+="%"+x.bin.pad(D[M+I].toString(16));try{O=decodeURIComponent(B)}catch(E){return x.bin.readASCII(D,M,P)}return O},writeUTF8:function(D,M,P){for(var O=P.length,B=0,I=0;I<O;I++){var E=P.charCodeAt(I);if(0==(4294967168&E))D[M+B]=E,B++;else if(0==(4294965248&E))D[M+B]=192|E>>6,D[M+B+1]=128|E>>0&63,B+=2;else if(0==(4294901760&E))D[M+B]=224|E>>12,D[M+B+1]=128|E>>6&63,D[M+B+2]=128|E>>0&63,B+=3;else{if(0!=(4292870144&E))throw"e";D[M+B]=240|E>>18,D[M+B+1]=128|E>>12&63,D[M+B+2]=128|E>>6&63,D[M+B+3]=128|E>>0&63,B+=4}}return B},sizeUTF8:function(D){for(var M=D.length,P=0,O=0;O<M;O++){var B=D.charCodeAt(O);if(0==(4294967168&B))P++;else if(0==(4294965248&B))P+=2;else if(0==(4294901760&B))P+=3;else{if(0!=(4292870144&B))throw"e";P+=4}}return P}},x.F={},x.F.deflateRaw=function(D,M,P,O){var B=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][O],I=x.F.U,E=x.F._goodIndex,U=x.F._putsE,L=0,z=P<<3,A=0,Q=D.length;if(0==O){for(;L<Q;)U(M,z,L+(pe=Math.min(65535,Q-L))==Q?1:0),z=x.F._copyExact(D,L,pe,M,z+8),L+=pe;return z>>>3}var J=I.lits,ve=I.strt,we=I.prev,te=0,ye=0,ke=0,ue=0,ge=0,_e=0;for(Q>2&&(ve[_e=x.F._hash(D,0)]=0),L=0;L<Q;L++){if(ge=_e,L+1<Q-2){_e=x.F._hash(D,L+1);var ne=L+1&32767;we[ne]=ve[_e],ve[_e]=ne}if(A<=L){(te>14e3||ye>26697)&&Q-L>100&&(A<L&&(J[te]=L-A,te+=2,A=L),z=x.F._writeBlock(L==Q-1||A==Q?1:0,J,te,ue,D,ke,L-ke,M,z),te=ye=ue=0,ke=L);var se=0;L<Q-2&&(se=x.F._bestMatch(D,L,we,ge,Math.min(B[2],Q-L),B[3]));var pe=se>>>16,me=65535&se;if(0!=se){me=65535&se;var Se=E(pe=se>>>16,I.of0);I.lhst[257+Se]++;var De=E(me,I.df0);I.dhst[De]++,ue+=I.exb[Se]+I.dxb[De],J[te]=pe<<23|L-A,J[te+1]=me<<16|Se<<8|De,te+=2,A=L+pe}else I.lhst[D[L]]++;ye++}}for(ke==L&&0!=D.length||(A<L&&(J[te]=L-A,te+=2,A=L),z=x.F._writeBlock(1,J,te,ue,D,ke,L-ke,M,z),te=0,ye=0,te=ye=ue=0,ke=L);0!=(7&z);)z++;return z>>>3},x.F._bestMatch=function(D,M,P,O,B,I){var E=32767&M,U=P[E],L=E-U+32768&32767;if(U==E||O!=x.F._hash(D,M-L))return 0;for(var z=0,A=0,Q=Math.min(32767,M);L<=Q&&0!=--I&&U!=E;){if(0==z||D[M+z]==D[M+z-L]){var J=x.F._howLong(D,M,L);if(J>z){if(A=L,(z=J)>=B)break;L+2<J&&(J=L+2);for(var ve=0,we=0;we<J-2;we++){var te=M-L+we+32768&32767,ye=te-P[te]+32768&32767;ye>ve&&(ve=ye,U=te)}}}L+=(E=U)-(U=P[E])+32768&32767}return z<<16|A},x.F._howLong=function(D,M,P){if(D[M]!=D[M-P]||D[M+1]!=D[M+1-P]||D[M+2]!=D[M+2-P])return 0;var O=M,B=Math.min(D.length,M+258);for(M+=3;M<B&&D[M]==D[M-P];)M++;return M-O},x.F._hash=function(D,M){return(D[M]<<8|D[M+1])+(D[M+2]<<4)&65535},x.saved=0,x.F._writeBlock=function(D,M,P,O,B,I,E,U,L){var z,A,Q,J,ve,we,te,ye,ke,ue=x.F.U,ge=x.F._putsF,_e=x.F._putsE;ue.lhst[256]++,A=(z=x.F.getTrees())[0],Q=z[1],J=z[2],ve=z[3],we=z[4],te=z[5],ye=z[6],ke=z[7];var ne=32+(0==(L+3&7)?0:8-(L+3&7))+(E<<3),se=O+x.F.contSize(ue.fltree,ue.lhst)+x.F.contSize(ue.fdtree,ue.dhst),pe=O+x.F.contSize(ue.ltree,ue.lhst)+x.F.contSize(ue.dtree,ue.dhst);pe+=14+3*te+x.F.contSize(ue.itree,ue.ihst)+(2*ue.ihst[16]+3*ue.ihst[17]+7*ue.ihst[18]);for(var me=0;me<286;me++)ue.lhst[me]=0;for(me=0;me<30;me++)ue.dhst[me]=0;for(me=0;me<19;me++)ue.ihst[me]=0;var Se=ne<se&&ne<pe?0:se<pe?1:2;if(ge(U,L,D),ge(U,L+1,Se),L+=3,0==Se){for(;0!=(7&L);)L++;L=x.F._copyExact(B,I,E,U,L)}else{var De,Re;if(1==Se&&(De=ue.fltree,Re=ue.fdtree),2==Se){x.F.makeCodes(ue.ltree,A),x.F.revCodes(ue.ltree,A),x.F.makeCodes(ue.dtree,Q),x.F.revCodes(ue.dtree,Q),x.F.makeCodes(ue.itree,J),x.F.revCodes(ue.itree,J),De=ue.ltree,Re=ue.dtree,_e(U,L,ve-257),_e(U,L+=5,we-1),_e(U,L+=5,te-4),L+=4;for(var Ee=0;Ee<te;Ee++)_e(U,L+3*Ee,ue.itree[1+(ue.ordr[Ee]<<1)]);L=x.F._codeTiny(ye,ue.itree,U,L+=3*te),L=x.F._codeTiny(ke,ue.itree,U,L)}for(var Pe=I,Ve=0;Ve<P;Ve+=2){for(var Be=M[Ve],St=Be>>>23,Yt=Pe+(8388607&Be);Pe<Yt;)L=x.F._writeLit(B[Pe++],De,U,L);if(0!=St){var Fn=M[Ve+1],hn=Fn>>16,je=Fn>>8&255,yn=255&Fn;_e(U,L=x.F._writeLit(257+je,De,U,L),St-ue.of0[je]),ge(U,L=x.F._writeLit(yn,Re,U,L+=ue.exb[je]),hn-ue.df0[yn]),L+=ue.dxb[yn],Pe+=St}}L=x.F._writeLit(256,De,U,L)}return L},x.F._copyExact=function(D,M,P,O,B){var I=B>>>3;return O[I]=P,O[I+1]=P>>>8,O[I+2]=255-O[I],O[I+3]=255-O[I+1],I+=4,O.set(new Uint8Array(D.buffer,M,P),I),B+(P+4<<3)},x.F.getTrees=function(){for(var D=x.F.U,M=x.F._hufTree(D.lhst,D.ltree,15),P=x.F._hufTree(D.dhst,D.dtree,15),O=[],B=x.F._lenCodes(D.ltree,O),I=[],E=x.F._lenCodes(D.dtree,I),U=0;U<O.length;U+=2)D.ihst[O[U]]++;for(U=0;U<I.length;U+=2)D.ihst[I[U]]++;for(var L=x.F._hufTree(D.ihst,D.itree,7),z=19;z>4&&0==D.itree[1+(D.ordr[z-1]<<1)];)z--;return[M,P,L,B,E,z,O,I]},x.F.getSecond=function(D){for(var M=[],P=0;P<D.length;P+=2)M.push(D[P+1]);return M},x.F.nonZero=function(D){for(var M="",P=0;P<D.length;P+=2)0!=D[P+1]&&(M+=(P>>1)+",");return M},x.F.contSize=function(D,M){for(var P=0,O=0;O<M.length;O++)P+=M[O]*D[1+(O<<1)];return P},x.F._codeTiny=function(D,M,P,O){for(var B=0;B<D.length;B+=2){var I=D[B],E=D[B+1];O=x.F._writeLit(I,M,P,O);var U=16==I?2:17==I?3:7;I>15&&(x.F._putsE(P,O,E,U),O+=U)}return O},x.F._lenCodes=function(D,M){for(var P=D.length;2!=P&&0==D[P-1];)P-=2;for(var O=0;O<P;O+=2){var B=D[O+1],I=O+3<P?D[O+3]:-1,E=O+5<P?D[O+5]:-1,U=0==O?-1:D[O-1];if(0==B&&I==B&&E==B){for(var L=O+5;L+2<P&&D[L+2]==B;)L+=2;(z=Math.min(L+1-O>>>1,138))<11?M.push(17,z-3):M.push(18,z-11),O+=2*z-2}else if(B==U&&I==B&&E==B){for(L=O+5;L+2<P&&D[L+2]==B;)L+=2;var z=Math.min(L+1-O>>>1,6);M.push(16,z-3),O+=2*z-2}else M.push(B,0)}return P>>>1},x.F._hufTree=function(D,M,P){var O=[],B=D.length,I=M.length,E=0;for(E=0;E<I;E+=2)M[E]=0,M[E+1]=0;for(E=0;E<B;E++)0!=D[E]&&O.push({lit:E,f:D[E]});var U=O.length,L=O.slice(0);if(0==U)return 0;if(1==U){var z=O[0].lit;return L=0==z?1:0,M[1+(z<<1)]=1,M[1+(L<<1)]=1,1}O.sort(function(ye,ke){return ye.f-ke.f});var A=O[0],Q=O[1],J=0,ve=1,we=2;for(O[0]={lit:-1,f:A.f+Q.f,l:A,r:Q,d:0};ve!=U-1;)A=J!=ve&&(we==U||O[J].f<O[we].f)?O[J++]:O[we++],Q=J!=ve&&(we==U||O[J].f<O[we].f)?O[J++]:O[we++],O[ve++]={lit:-1,f:A.f+Q.f,l:A,r:Q};var te=x.F.setDepth(O[ve-1],0);for(te>P&&(x.F.restrictDepth(L,P,te),te=P),E=0;E<U;E++)M[1+(L[E].lit<<1)]=L[E].d;return te},x.F.setDepth=function(D,M){return-1!=D.lit?(D.d=M,M):Math.max(x.F.setDepth(D.l,M+1),x.F.setDepth(D.r,M+1))},x.F.restrictDepth=function(D,M,P){var O=0,B=1<<P-M,I=0;for(D.sort(function(U,L){return L.d==U.d?U.f-L.f:L.d-U.d}),O=0;O<D.length&&D[O].d>M;O++){var E=D[O].d;D[O].d=M,I+=B-(1<<P-E)}for(I>>>=P-M;I>0;)(E=D[O].d)<M?(D[O].d++,I-=1<<M-E-1):O++;for(;O>=0;O--)D[O].d==M&&I<0&&(D[O].d--,I++);0!=I&&console.log("debt left")},x.F._goodIndex=function(D,M){var P=0;return M[16|P]<=D&&(P|=16),M[8|P]<=D&&(P|=8),M[4|P]<=D&&(P|=4),M[2|P]<=D&&(P|=2),M[1|P]<=D&&(P|=1),P},x.F._writeLit=function(D,M,P,O){return x.F._putsF(P,O,M[D<<1]),O+M[1+(D<<1)]},x.F.inflate=function(D,M){var P=Uint8Array;if(3==D[0]&&0==D[1])return M||new P(0);var O=x.F,B=O._bitsF,I=O._bitsE,E=O._decodeTiny,U=O.makeCodes,L=O.codes2map,z=O._get17,A=O.U,Q=null==M;Q&&(M=new P(D.length>>>2<<3));for(var J,ve,we=0,te=0,ye=0,ke=0,ue=0,ge=0,_e=0,ne=0,se=0;0==we;)if(we=B(D,se,1),te=B(D,se+1,2),se+=3,0!=te){if(Q&&(M=x.F._check(M,ne+(1<<17))),1==te&&(J=A.flmap,ve=A.fdmap,ge=511,_e=31),2==te){ye=I(D,se,5)+257,ke=I(D,se+5,5)+1,ue=I(D,se+10,4)+4,se+=14;for(var pe=0;pe<38;pe+=2)A.itree[pe]=0,A.itree[pe+1]=0;var me=1;for(pe=0;pe<ue;pe++){var Se=I(D,se+3*pe,3);A.itree[1+(A.ordr[pe]<<1)]=Se,Se>me&&(me=Se)}se+=3*ue,U(A.itree,me),L(A.itree,me,A.imap),J=A.lmap,ve=A.dmap,se=E(A.imap,(1<<me)-1,ye+ke,D,se,A.ttree);var De=O._copyOut(A.ttree,0,ye,A.ltree);ge=(1<<De)-1;var Re=O._copyOut(A.ttree,ye,ke,A.dtree);_e=(1<<Re)-1,U(A.ltree,De),L(A.ltree,De,J),U(A.dtree,Re),L(A.dtree,Re,ve)}for(;;){var Ee=J[z(D,se)&ge];se+=15&Ee;var Pe=Ee>>>4;if(Pe>>>8==0)M[ne++]=Pe;else{if(256==Pe)break;var Ve=ne+Pe-254;if(Pe>264){var Be=A.ldef[Pe-257];Ve=ne+(Be>>>3)+I(D,se,7&Be),se+=7&Be}var St=ve[z(D,se)&_e],Fn=A.ddef[St>>>4],hn=(Fn>>>4)+B(D,se+=15&St,15&Fn);for(se+=15&Fn,Q&&(M=x.F._check(M,ne+(1<<17)));ne<Ve;)M[ne]=M[ne++-hn],M[ne]=M[ne++-hn],M[ne]=M[ne++-hn],M[ne]=M[ne++-hn];ne=Ve}}}else{0!=(7&se)&&(se+=8-(7&se));var je=4+(se>>>3),yn=D[je-4]|D[je-3]<<8;Q&&(M=x.F._check(M,ne+yn)),M.set(new P(D.buffer,D.byteOffset+je,yn),ne),se=je+yn<<3,ne+=yn}return M.length==ne?M:M.slice(0,ne)},x.F._check=function(D,M){var P=D.length;if(M<=P)return D;var O=new Uint8Array(Math.max(P<<1,M));return O.set(D,0),O},x.F._decodeTiny=function(D,M,P,O,B,I){for(var E=x.F._bitsE,U=x.F._get17,L=0;L<P;){var z=D[U(O,B)&M];B+=15&z;var A=z>>>4;if(A<=15)I[L]=A,L++;else{var Q=0,J=0;16==A?(J=3+E(O,B,2),B+=2,Q=I[L-1]):17==A?(J=3+E(O,B,3),B+=3):18==A&&(J=11+E(O,B,7),B+=7);for(var ve=L+J;L<ve;)I[L]=Q,L++}}return B},x.F._copyOut=function(D,M,P,O){for(var B=0,I=0,E=O.length>>>1;I<P;){var U=D[I+M];O[I<<1]=0,O[1+(I<<1)]=U,U>B&&(B=U),I++}for(;I<E;)O[I<<1]=0,O[1+(I<<1)]=0,I++;return B},x.F.makeCodes=function(D,M){for(var P,O,B,I,E=x.F.U,U=D.length,L=E.bl_count,z=0;z<=M;z++)L[z]=0;for(z=1;z<U;z+=2)L[D[z]]++;var A=E.next_code;for(P=0,L[0]=0,O=1;O<=M;O++)A[O]=P=P+L[O-1]<<1;for(B=0;B<U;B+=2)0!=(I=D[B+1])&&(D[B]=A[I],A[I]++)},x.F.codes2map=function(D,M,P){for(var O=D.length,B=x.F.U.rev15,I=0;I<O;I+=2)if(0!=D[I+1])for(var U=D[I+1],L=I>>1<<4|U,z=M-U,A=D[I]<<z,Q=A+(1<<z);A!=Q;)P[B[A]>>>15-M]=L,A++},x.F.revCodes=function(D,M){for(var P=x.F.U.rev15,O=15-M,B=0;B<D.length;B+=2)D[B]=P[D[B]<<M-D[B+1]]>>>O},x.F._putsE=function(D,M,P){var O=M>>>3;D[O]|=P<<=7&M,D[O+1]|=P>>>8},x.F._putsF=function(D,M,P){var O=M>>>3;D[O]|=P<<=7&M,D[O+1]|=P>>>8,D[O+2]|=P>>>16},x.F._bitsE=function(D,M,P){return(D[M>>>3]|D[1+(M>>>3)]<<8)>>>(7&M)&(1<<P)-1},x.F._bitsF=function(D,M,P){return(D[M>>>3]|D[1+(M>>>3)]<<8|D[2+(M>>>3)]<<16)>>>(7&M)&(1<<P)-1},x.F._get17=function(D,M){return(D[M>>>3]|D[1+(M>>>3)]<<8|D[2+(M>>>3)]<<16)>>>(7&M)},x.F._get25=function(D,M){return(D[M>>>3]|D[1+(M>>>3)]<<8|D[2+(M>>>3)]<<16|D[3+(M>>>3)]<<24)>>>(7&M)},x.F.U=(R=Uint16Array,V=Uint32Array,{next_code:new R(16),bl_count:new R(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new R(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new V(32),flmap:new R(512),fltree:[],fdmap:new R(32),fdtree:[],lmap:new R(32768),ltree:[],ttree:[],dmap:new R(32768),dtree:[],imap:new R(512),itree:[],rev15:new R(32768),lhst:new V(286),dhst:new V(30),ihst:new V(19),lits:new V(15e3),strt:new R(65536),prev:new R(32768)}),function(){for(var D=x.F.U,M=0;M<32768;M++){var P=M;P=(4278255360&(P=(4042322160&(P=(3435973836&(P=(2863311530&P)>>>1|(1431655765&P)<<1))>>>2|(858993459&P)<<2))>>>4|(252645135&P)<<4))>>>8|(16711935&P)<<8,D.rev15[M]=(P>>>16|P<<16)>>>17}function O(B,I,E){for(;0!=I--;)B.push(0,E)}for(M=0;M<32;M++)D.ldef[M]=D.of0[M]<<3|D.exb[M],D.ddef[M]=D.df0[M]<<4|D.dxb[M];O(D.fltree,144,8),O(D.fltree,112,9),O(D.fltree,24,7),O(D.fltree,8,8),x.F.makeCodes(D.fltree,9),x.F.codes2map(D.fltree,9,D.flmap),x.F.revCodes(D.fltree,9),O(D.fdtree,32,5),x.F.makeCodes(D.fdtree,5),x.F.codes2map(D.fdtree,5,D.fdmap),x.F.revCodes(D.fdtree,5),O(D.itree,19,0),O(D.ltree,286,0),O(D.dtree,30,0),O(D.ttree,320,0)}()}),UZIP=Object.freeze(_mergeNamespaces({__proto__:null,default:UZIP_1},[UZIP_1])),UPNG={},N,W,H;UPNG.toRGBA8=function(S){var R=S.width,V=S.height;if(null==S.tabs.acTL)return[UPNG.toRGBA8.decodeImage(S.data,R,V,S).buffer];var x=[];null==S.frames[0].data&&(S.frames[0].data=S.data);for(var D=R*V*4,M=new Uint8Array(D),P=new Uint8Array(D),O=new Uint8Array(D),B=0;B<S.frames.length;B++){var I=S.frames[B],E=I.rect.x,U=I.rect.y,L=I.rect.width,z=I.rect.height,A=UPNG.toRGBA8.decodeImage(I.data,L,z,S);if(0!=B)for(var Q=0;Q<D;Q++)O[Q]=M[Q];if(0==I.blend?UPNG._copyTile(A,L,z,M,R,V,E,U,0):1==I.blend&&UPNG._copyTile(A,L,z,M,R,V,E,U,1),x.push(M.buffer.slice(0)),0!=I.dispose)if(1==I.dispose)UPNG._copyTile(P,L,z,M,R,V,E,U,0);else if(2==I.dispose)for(Q=0;Q<D;Q++)M[Q]=O[Q]}return x},UPNG.toRGBA8.decodeImage=function(S,R,V,x){var D=R*V,M=UPNG.decode._getBPP(x),P=Math.ceil(R*M/8),O=new Uint8Array(4*D),B=new Uint32Array(O.buffer),I=x.ctype,E=x.depth,U=UPNG._bin.readUshort;if(6==I){var L=D<<2;if(8==E)for(var z=0;z<L;z+=4)O[z]=S[z],O[z+1]=S[z+1],O[z+2]=S[z+2],O[z+3]=S[z+3];if(16==E)for(z=0;z<L;z++)O[z]=S[z<<1]}else if(2==I){var A=x.tabs.tRNS;if(null==A){if(8==E)for(z=0;z<D;z++){var Q=3*z;B[z]=255<<24|S[Q+2]<<16|S[Q+1]<<8|S[Q]}if(16==E)for(z=0;z<D;z++)B[z]=255<<24|S[4+(Q=6*z)]<<16|S[Q+2]<<8|S[Q]}else{var J=A[0],ve=A[1],we=A[2];if(8==E)for(z=0;z<D;z++){var te=z<<2;B[z]=255<<24|S[2+(Q=3*z)]<<16|S[Q+1]<<8|S[Q],S[Q]==J&&S[Q+1]==ve&&S[Q+2]==we&&(O[te+3]=0)}if(16==E)for(z=0;z<D;z++)te=z<<2,B[z]=255<<24|S[4+(Q=6*z)]<<16|S[Q+2]<<8|S[Q],U(S,Q)==J&&U(S,Q+2)==ve&&U(S,Q+4)==we&&(O[te+3]=0)}}else if(3==I){var ye=x.tabs.PLTE,ke=x.tabs.tRNS,ue=ke?ke.length:0;if(1==E)for(var ge=0;ge<V;ge++){var _e=ge*P,ne=ge*R;for(z=0;z<R;z++){var se=3*(pe=S[_e+(z>>3)]>>7-((7&z)<<0)&1);O[te=ne+z<<2]=ye[se],O[te+1]=ye[se+1],O[te+2]=ye[se+2],O[te+3]=pe<ue?ke[pe]:255}}if(2==E)for(ge=0;ge<V;ge++)for(_e=ge*P,ne=ge*R,z=0;z<R;z++)se=3*(pe=S[_e+(z>>2)]>>6-((3&z)<<1)&3),O[te=ne+z<<2]=ye[se],O[te+1]=ye[se+1],O[te+2]=ye[se+2],O[te+3]=pe<ue?ke[pe]:255;if(4==E)for(ge=0;ge<V;ge++)for(_e=ge*P,ne=ge*R,z=0;z<R;z++)se=3*(pe=S[_e+(z>>1)]>>4-((1&z)<<2)&15),O[te=ne+z<<2]=ye[se],O[te+1]=ye[se+1],O[te+2]=ye[se+2],O[te+3]=pe<ue?ke[pe]:255;if(8==E)for(z=0;z<D;z++){var pe;se=3*(pe=S[z]),O[te=z<<2]=ye[se],O[te+1]=ye[se+1],O[te+2]=ye[se+2],O[te+3]=pe<ue?ke[pe]:255}}else if(4==I){if(8==E)for(z=0;z<D;z++){var me=S[Se=z<<1];O[te=z<<2]=me,O[te+1]=me,O[te+2]=me,O[te+3]=S[Se+1]}if(16==E)for(z=0;z<D;z++){var Se;me=S[Se=z<<2],O[te=z<<2]=me,O[te+1]=me,O[te+2]=me,O[te+3]=S[Se+2]}}else if(0==I)for(J=x.tabs.tRNS?x.tabs.tRNS:-1,ge=0;ge<V;ge++){var De=ge*P,Re=ge*R;if(1==E)for(var Ee=0;Ee<R;Ee++){var Pe=(me=255*(S[De+(Ee>>>3)]>>>7-(7&Ee)&1))==255*J?0:255;B[Re+Ee]=Pe<<24|me<<16|me<<8|me}else if(2==E)for(Ee=0;Ee<R;Ee++)Pe=(me=85*(S[De+(Ee>>>2)]>>>6-((3&Ee)<<1)&3))==85*J?0:255,B[Re+Ee]=Pe<<24|me<<16|me<<8|me;else if(4==E)for(Ee=0;Ee<R;Ee++)Pe=(me=17*(S[De+(Ee>>>1)]>>>4-((1&Ee)<<2)&15))==17*J?0:255,B[Re+Ee]=Pe<<24|me<<16|me<<8|me;else if(8==E)for(Ee=0;Ee<R;Ee++)Pe=(me=S[De+Ee])==J?0:255,B[Re+Ee]=Pe<<24|me<<16|me<<8|me;else if(16==E)for(Ee=0;Ee<R;Ee++)me=S[De+(Ee<<1)],Pe=U(S,De+(Ee<<z))==J?0:255,B[Re+Ee]=Pe<<24|me<<16|me<<8|me}return O},UPNG.decode=function(S){for(var R,V=new Uint8Array(S),x=8,D=UPNG._bin,M=D.readUshort,P=D.readUint,O={tabs:{},frames:[]},B=new Uint8Array(V.length),I=0,E=0,U=[137,80,78,71,13,10,26,10],L=0;L<8;L++)if(V[L]!=U[L])throw"The input is not a PNG file!";for(;x<V.length;){var z=D.readUint(V,x),A=D.readASCII(V,x+=4,4);if(x+=4,"IHDR"==A)UPNG.decode._IHDR(V,x,O);else if("CgBI"==A)O.tabs[A]=V.slice(x,x+4);else if("IDAT"==A){for(L=0;L<z;L++)B[I+L]=V[x+L];I+=z}else if("acTL"==A)O.tabs[A]={num_frames:P(V,x),num_plays:P(V,x+4)},R=new Uint8Array(V.length);else if("fcTL"==A){var Q;0!=E&&((Q=O.frames[O.frames.length-1]).data=UPNG.decode._decompress(O,R.slice(0,E),Q.rect.width,Q.rect.height),E=0);var J={x:P(V,x+12),y:P(V,x+16),width:P(V,x+4),height:P(V,x+8)},ve=M(V,x+22);ve=M(V,x+20)/(0==ve?100:ve);var we={rect:J,delay:Math.round(1e3*ve),dispose:V[x+24],blend:V[x+25]};O.frames.push(we)}else if("fdAT"==A){for(L=0;L<z-4;L++)R[E+L]=V[x+L+4];E+=z-4}else if("pHYs"==A)O.tabs[A]=[D.readUint(V,x),D.readUint(V,x+4),V[x+8]];else if("cHRM"==A)for(O.tabs[A]=[],L=0;L<8;L++)O.tabs[A].push(D.readUint(V,x+4*L));else if("tEXt"==A||"zTXt"==A){null==O.tabs[A]&&(O.tabs[A]={});var te=D.nextZero(V,x),ye=D.readASCII(V,x,te-x),ke=x+z-te-1;if("tEXt"==A)_e=D.readASCII(V,te+1,ke);else{var ue=UPNG.decode._inflate(V.slice(te+2,te+2+ke));_e=D.readUTF8(ue,0,ue.length)}O.tabs[A][ye]=_e}else if("iTXt"==A){null==O.tabs[A]&&(O.tabs[A]={}),te=0;var ge=x;te=D.nextZero(V,ge),ye=D.readASCII(V,ge,te-ge);var _e,ne=V[ge=te+1];te=D.nextZero(V,ge+=2),D.readASCII(V,ge,te-ge),te=D.nextZero(V,ge=te+1),D.readUTF8(V,ge,te-ge),ke=z-((ge=te+1)-x),0==ne?_e=D.readUTF8(V,ge,ke):(ue=UPNG.decode._inflate(V.slice(ge,ge+ke)),_e=D.readUTF8(ue,0,ue.length)),O.tabs[A][ye]=_e}else if("PLTE"==A)O.tabs[A]=D.readBytes(V,x,z);else if("hIST"==A){var se=O.tabs.PLTE.length/3;for(O.tabs[A]=[],L=0;L<se;L++)O.tabs[A].push(M(V,x+2*L))}else if("tRNS"==A)3==O.ctype?O.tabs[A]=D.readBytes(V,x,z):0==O.ctype?O.tabs[A]=M(V,x):2==O.ctype&&(O.tabs[A]=[M(V,x),M(V,x+2),M(V,x+4)]);else if("gAMA"==A)O.tabs[A]=D.readUint(V,x)/1e5;else if("sRGB"==A)O.tabs[A]=V[x];else if("bKGD"==A)0==O.ctype||4==O.ctype?O.tabs[A]=[M(V,x)]:2==O.ctype||6==O.ctype?O.tabs[A]=[M(V,x),M(V,x+2),M(V,x+4)]:3==O.ctype&&(O.tabs[A]=V[x]);else if("IEND"==A)break;D.readUint(V,x+=z),x+=4}return 0!=E&&((Q=O.frames[O.frames.length-1]).data=UPNG.decode._decompress(O,R.slice(0,E),Q.rect.width,Q.rect.height),E=0),O.data=UPNG.decode._decompress(O,B,O.width,O.height),delete O.compress,delete O.interlace,delete O.filter,O},UPNG.decode._decompress=function(S,R,V,x){var D=UPNG.decode._getBPP(S),M=Math.ceil(V*D/8),P=new Uint8Array((M+1+S.interlace)*x);return R=S.tabs.CgBI?UPNG.inflateRaw(R,P):UPNG.decode._inflate(R,P),0==S.interlace?R=UPNG.decode._filterZero(R,S,0,V,x):1==S.interlace&&(R=UPNG.decode._readInterlace(R,S)),R},UPNG.decode._inflate=function(S,R){return UPNG.inflateRaw(new Uint8Array(S.buffer,2,S.length-6),R)},UPNG.inflateRaw=(H={},H.H={},H.H.N=function(S,R){var V,x,D=Uint8Array,M=0,P=0,O=0,B=0,I=0,E=0,U=0,L=0,z=0;if(3==S[0]&&0==S[1])return R||new D(0);var A=H.H,Q=A.b,J=A.e,ve=A.R,we=A.n,te=A.A,ye=A.Z,ke=A.m,ue=null==R;for(ue&&(R=new D(S.length>>>2<<5));0==M;)if(M=Q(S,z,1),P=Q(S,z+1,2),z+=3,0!=P){if(ue&&(R=H.H.W(R,L+(1<<17))),1==P&&(V=ke.J,x=ke.h,E=511,U=31),2==P){O=J(S,z,5)+257,B=J(S,z+5,5)+1,I=J(S,z+10,4)+4,z+=14;for(var ge=1,_e=0;_e<38;_e+=2)ke.Q[_e]=0,ke.Q[_e+1]=0;for(_e=0;_e<I;_e++){var ne=J(S,z+3*_e,3);ke.Q[1+(ke.X[_e]<<1)]=ne,ne>ge&&(ge=ne)}z+=3*I,we(ke.Q,ge),te(ke.Q,ge,ke.u),V=ke.w,x=ke.d,z=ve(ke.u,(1<<ge)-1,O+B,S,z,ke.v);var se=A.V(ke.v,0,O,ke.C);E=(1<<se)-1;var pe=A.V(ke.v,O,B,ke.D);U=(1<<pe)-1,we(ke.C,se),te(ke.C,se,V),we(ke.D,pe),te(ke.D,pe,x)}for(;;){var me=V[ye(S,z)&E];z+=15&me;var Se=me>>>4;if(Se>>>8==0)R[L++]=Se;else{if(256==Se)break;var De=L+Se-254;if(Se>264){var Re=ke.q[Se-257];De=L+(Re>>>3)+J(S,z,7&Re),z+=7&Re}var Ee=x[ye(S,z)&U],Ve=ke.c[Ee>>>4],Be=(Ve>>>4)+Q(S,z+=15&Ee,15&Ve);for(z+=15&Ve;L<De;)R[L]=R[L++-Be],R[L]=R[L++-Be],R[L]=R[L++-Be],R[L]=R[L++-Be];L=De}}}else{0!=(7&z)&&(z+=8-(7&z));var St=4+(z>>>3),Yt=S[St-4]|S[St-3]<<8;ue&&(R=H.H.W(R,L+Yt)),R.set(new D(S.buffer,S.byteOffset+St,Yt),L),z=St+Yt<<3,L+=Yt}return R.length==L?R:R.slice(0,L)},H.H.W=function(S,R){var V=S.length;if(R<=V)return S;var x=new Uint8Array(V<<1);return x.set(S,0),x},H.H.R=function(S,R,V,x,D,M){for(var P=H.H.e,O=H.H.Z,B=0;B<V;){var I=S[O(x,D)&R];D+=15&I;var E=I>>>4;if(E<=15)M[B]=E,B++;else{var U=0,L=0;16==E?(L=3+P(x,D,2),D+=2,U=M[B-1]):17==E?(L=3+P(x,D,3),D+=3):18==E&&(L=11+P(x,D,7),D+=7);for(var z=B+L;B<z;)M[B]=U,B++}}return D},H.H.V=function(S,R,V,x){for(var D=0,M=0,P=x.length>>>1;M<V;){var O=S[M+R];x[M<<1]=0,x[1+(M<<1)]=O,O>D&&(D=O),M++}for(;M<P;)x[M<<1]=0,x[1+(M<<1)]=0,M++;return D},H.H.n=function(S,R){for(var V,x,D,M,P=H.H.m,O=S.length,B=P.j,I=0;I<=R;I++)B[I]=0;for(I=1;I<O;I+=2)B[S[I]]++;var E=P.K;for(V=0,B[0]=0,x=1;x<=R;x++)E[x]=V=V+B[x-1]<<1;for(D=0;D<O;D+=2)0!=(M=S[D+1])&&(S[D]=E[M],E[M]++)},H.H.A=function(S,R,V){for(var x=S.length,D=H.H.m.r,M=0;M<x;M+=2)if(0!=S[M+1])for(var O=S[M+1],B=M>>1<<4|O,I=R-O,E=S[M]<<I,U=E+(1<<I);E!=U;)V[D[E]>>>15-R]=B,E++},H.H.l=function(S,R){for(var V=H.H.m.r,x=15-R,D=0;D<S.length;D+=2)S[D]=V[S[D]<<R-S[D+1]]>>>x},H.H.M=function(S,R,V){var x=R>>>3;S[x]|=V<<=7&R,S[x+1]|=V>>>8},H.H.I=function(S,R,V){var x=R>>>3;S[x]|=V<<=7&R,S[x+1]|=V>>>8,S[x+2]|=V>>>16},H.H.e=function(S,R,V){return(S[R>>>3]|S[1+(R>>>3)]<<8)>>>(7&R)&(1<<V)-1},H.H.b=function(S,R,V){return(S[R>>>3]|S[1+(R>>>3)]<<8|S[2+(R>>>3)]<<16)>>>(7&R)&(1<<V)-1},H.H.Z=function(S,R){return(S[R>>>3]|S[1+(R>>>3)]<<8|S[2+(R>>>3)]<<16)>>>(7&R)},H.H.i=function(S,R){return(S[R>>>3]|S[1+(R>>>3)]<<8|S[2+(R>>>3)]<<16|S[3+(R>>>3)]<<24)>>>(7&R)},H.H.m=(N=Uint16Array,W=Uint32Array,{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(32768),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(65536),g:new N(32768)}),function(){for(var S=H.H.m,R=0;R<32768;R++){var V=R;V=(4278255360&(V=(4042322160&(V=(3435973836&(V=(2863311530&V)>>>1|(1431655765&V)<<1))>>>2|(858993459&V)<<2))>>>4|(252645135&V)<<4))>>>8|(16711935&V)<<8,S.r[R]=(V>>>16|V<<16)>>>17}function x(D,M,P){for(;0!=M--;)D.push(0,P)}for(R=0;R<32;R++)S.q[R]=S.S[R]<<3|S.T[R],S.c[R]=S.p[R]<<4|S.z[R];x(S._,144,8),x(S._,112,9),x(S._,24,7),x(S._,8,8),H.H.n(S._,9),H.H.A(S._,9,S.J),H.H.l(S._,9),x(S.$,32,5),H.H.n(S.$,5),H.H.A(S.$,5,S.h),H.H.l(S.$,5),x(S.Q,19,0),x(S.C,286,0),x(S.D,30,0),x(S.v,320,0)}(),H.H.N),UPNG.decode._readInterlace=function(S,R){for(var V=R.width,x=R.height,D=UPNG.decode._getBPP(R),M=D>>3,P=Math.ceil(V*D/8),O=new Uint8Array(x*P),B=0,I=[0,0,4,0,2,0,1],E=[0,4,0,2,0,1,0],U=[8,8,8,4,4,2,2],L=[8,8,4,4,2,2,1],z=0;z<7;){for(var A=U[z],Q=L[z],J=0,ve=0,we=I[z];we<x;)we+=A,ve++;for(var te=E[z];te<V;)te+=Q,J++;var ye=Math.ceil(J*D/8);UPNG.decode._filterZero(S,R,B,J,ve);for(var ke=0,ue=I[z];ue<x;){for(var ge=E[z],_e=B+ke*ye<<3;ge<V;){var ne;if(1==D&&(ne=(ne=S[_e>>3])>>7-(7&_e)&1,O[ue*P+(ge>>3)]|=ne<<7-((7&ge)<<0)),2==D&&(ne=(ne=S[_e>>3])>>6-(7&_e)&3,O[ue*P+(ge>>2)]|=ne<<6-((3&ge)<<1)),4==D&&(ne=(ne=S[_e>>3])>>4-(7&_e)&15,O[ue*P+(ge>>1)]|=ne<<4-((1&ge)<<2)),D>=8)for(var se=ue*P+ge*M,pe=0;pe<M;pe++)O[se+pe]=S[(_e>>3)+pe];_e+=D,ge+=Q}ke++,ue+=A}J*ve!=0&&(B+=ve*(1+ye)),z+=1}return O},UPNG.decode._getBPP=function(S){return[1,null,3,1,2,null,4][S.ctype]*S.depth},UPNG.decode._filterZero=function(S,R,V,x,D){var M=UPNG.decode._getBPP(R),P=Math.ceil(x*M/8),O=UPNG.decode._paeth;M=Math.ceil(M/8);var B=0,I=1,E=S[V],U=0;if(E>1&&(S[V]=[0,0,1][E-2]),3==E)for(U=M;U<P;U++)S[U+1]=S[U+1]+(S[U+1-M]>>>1)&255;for(var L=0;L<D;L++)if(U=0,0==(E=S[(I=(B=V+L*P)+L+1)-1]))for(;U<P;U++)S[B+U]=S[I+U];else if(1==E){for(;U<M;U++)S[B+U]=S[I+U];for(;U<P;U++)S[B+U]=S[I+U]+S[B+U-M]}else if(2==E)for(;U<P;U++)S[B+U]=S[I+U]+S[B+U-P];else if(3==E){for(;U<M;U++)S[B+U]=S[I+U]+(S[B+U-P]>>>1);for(;U<P;U++)S[B+U]=S[I+U]+(S[B+U-P]+S[B+U-M]>>>1)}else{for(;U<M;U++)S[B+U]=S[I+U]+O(0,S[B+U-P],0);for(;U<P;U++)S[B+U]=S[I+U]+O(S[B+U-M],S[B+U-P],S[B+U-M-P])}return S},UPNG.decode._paeth=function(S,R,V){var x=S+R-V,D=x-S,M=x-R,P=x-V;return D*D<=M*M&&D*D<=P*P?S:M*M<=P*P?R:V},UPNG.decode._IHDR=function(S,R,V){var x=UPNG._bin;V.width=x.readUint(S,R),V.height=x.readUint(S,R+=4),V.depth=S[R+=4],R++,V.ctype=S[R],R++,V.compress=S[R],R++,V.filter=S[R],R++,V.interlace=S[R],R++},UPNG._bin={nextZero:function(R,V){for(;0!=R[V];)V++;return V},readUshort:function(R,V){return R[V]<<8|R[V+1]},writeUshort:function(R,V,x){R[V]=x>>8&255,R[V+1]=255&x},readUint:function(R,V){return 16777216*R[V]+(R[V+1]<<16|R[V+2]<<8|R[V+3])},writeUint:function(R,V,x){R[V]=x>>24&255,R[V+1]=x>>16&255,R[V+2]=x>>8&255,R[V+3]=255&x},readASCII:function(R,V,x){for(var D="",M=0;M<x;M++)D+=String.fromCharCode(R[V+M]);return D},writeASCII:function(R,V,x){for(var D=0;D<x.length;D++)R[V+D]=x.charCodeAt(D)},readBytes:function(R,V,x){for(var D=[],M=0;M<x;M++)D.push(R[V+M]);return D},pad:function(R){return R.length<2?"0".concat(R):R},readUTF8:function(R,V,x){for(var D,M="",P=0;P<x;P++)M+="%".concat(UPNG._bin.pad(R[V+P].toString(16)));try{D=decodeURIComponent(M)}catch(O){return UPNG._bin.readASCII(R,V,x)}return D}},UPNG._copyTile=function(S,R,V,x,D,M,P,O,B){for(var I=Math.min(R,D),E=Math.min(V,M),U=0,L=0,z=0;z<E;z++)for(var A=0;A<I;A++)if(P>=0&&O>=0?(U=z*R+A<<2,L=(O+z)*D+P+A<<2):(U=(-O+z)*R-P+A<<2,L=z*D+A<<2),0==B)x[L]=S[U],x[L+1]=S[U+1],x[L+2]=S[U+2],x[L+3]=S[U+3];else if(1==B){var Q=.00392156862745098*S[U+3],J=S[U]*Q,ve=S[U+1]*Q,we=S[U+2]*Q,te=x[L+3]*(1/255),ye=x[L]*te,ke=x[L+1]*te,ue=x[L+2]*te,ge=1-Q,_e=Q+te*ge,ne=0==_e?0:1/_e;x[L+3]=255*_e,x[L+0]=(J+ye*ge)*ne,x[L+1]=(ve+ke*ge)*ne,x[L+2]=(we+ue*ge)*ne}else if(2==B)J=S[U],ve=S[U+1],we=S[U+2],ye=x[L],ke=x[L+1],ue=x[L+2],(Q=S[U+3])==(te=x[L+3])&&J==ye&&ve==ke&&we==ue?(x[L]=0,x[L+1]=0,x[L+2]=0,x[L+3]=0):(x[L]=J,x[L+1]=ve,x[L+2]=we,x[L+3]=Q);else if(3==B){if(J=S[U],ve=S[U+1],we=S[U+2],ye=x[L],ke=x[L+1],ue=x[L+2],(Q=S[U+3])==(te=x[L+3])&&J==ye&&ve==ke&&we==ue)continue;if(Q<220&&te>20)return!1}return!0},UPNG.encode=function(S,R,V,x,D,M,P){null==x&&(x=0),null==P&&(P=!1);var O=UPNG.encode.compress(S,R,V,x,[!1,!1,!1,0,P]);return UPNG.encode.compressPNG(O,-1),UPNG.encode._main(O,R,V,D,M)},UPNG.encodeLL=function(S,R,V,x,D,M,P,O){for(var B={ctype:0+(1==x?0:2)+(0==D?0:4),depth:M,frames:[]},I=(x+D)*M,E=I*R,U=0;U<S.length;U++)B.frames.push({rect:{x:0,y:0,width:R,height:V},img:new Uint8Array(S[U]),blend:0,dispose:1,bpp:Math.ceil(I/8),bpl:Math.ceil(E/8)});return UPNG.encode.compressPNG(B,0,!0),UPNG.encode._main(B,R,V,P,O)},UPNG.encode._main=function(S,R,V,x,D){null==D&&(D={});var M=UPNG.crc.crc,P=UPNG._bin.writeUint,O=UPNG._bin.writeUshort,B=UPNG._bin.writeASCII,I=8,E=S.frames.length>1,U=!1,L=33+(E?20:0);if(null!=D.sRGB&&(L+=13),null!=D.pHYs&&(L+=21),3==S.ctype){for(var z=S.plte.length,A=0;A<z;A++)S.plte[A]>>>24!=255&&(U=!0);L+=8+3*z+4+(U?8+1*z+4:0)}for(var Q=0;Q<S.frames.length;Q++)E&&(L+=38),L+=(_e=S.frames[Q]).cimg.length+12,0!=Q&&(L+=4);L+=12;var J=new Uint8Array(L),ve=[137,80,78,71,13,10,26,10];for(A=0;A<8;A++)J[A]=ve[A];if(P(J,I,13),B(J,I+=4,"IHDR"),P(J,I+=4,R),P(J,I+=4,V),J[I+=4]=S.depth,J[++I]=S.ctype,J[++I]=0,J[++I]=0,J[++I]=0,P(J,++I,M(J,I-17,17)),I+=4,null!=D.sRGB&&(P(J,I,1),B(J,I+=4,"sRGB"),J[I+=4]=D.sRGB,P(J,++I,M(J,I-5,5)),I+=4),null!=D.pHYs&&(P(J,I,9),B(J,I+=4,"pHYs"),P(J,I+=4,D.pHYs[0]),P(J,I+=4,D.pHYs[1]),J[I+=4]=D.pHYs[2],P(J,++I,M(J,I-13,13)),I+=4),E&&(P(J,I,8),B(J,I+=4,"acTL"),P(J,I+=4,S.frames.length),P(J,I+=4,null!=D.loop?D.loop:0),P(J,I+=4,M(J,I-12,12)),I+=4),3==S.ctype){for(P(J,I,3*(z=S.plte.length)),B(J,I+=4,"PLTE"),I+=4,A=0;A<z;A++){var we=3*A,te=S.plte[A],ke=te>>>8&255,ue=te>>>16&255;J[I+we+0]=255&te,J[I+we+1]=ke,J[I+we+2]=ue}if(P(J,I+=3*z,M(J,I-3*z-4,3*z+4)),I+=4,U){for(P(J,I,z),B(J,I+=4,"tRNS"),I+=4,A=0;A<z;A++)J[I+A]=S.plte[A]>>>24&255;P(J,I+=z,M(J,I-z-4,z+4)),I+=4}}var ge=0;for(Q=0;Q<S.frames.length;Q++){var _e=S.frames[Q];E&&(P(J,I,26),B(J,I+=4,"fcTL"),P(J,I+=4,ge++),P(J,I+=4,_e.rect.width),P(J,I+=4,_e.rect.height),P(J,I+=4,_e.rect.x),P(J,I+=4,_e.rect.y),O(J,I+=4,x[Q]),O(J,I+=2,1e3),J[I+=2]=_e.dispose,J[++I]=_e.blend,P(J,++I,M(J,I-30,30)),I+=4);var ne=_e.cimg;P(J,I,(z=ne.length)+(0==Q?0:4));var se=I+=4;B(J,I,0==Q?"IDAT":"fdAT"),I+=4,0!=Q&&(P(J,I,ge++),I+=4),J.set(ne,I),P(J,I+=z,M(J,se,I-se)),I+=4}return P(J,I,0),B(J,I+=4,"IEND"),P(J,I+=4,M(J,I-4,4)),I+=4,J.buffer},UPNG.encode.compressPNG=function(S,R,V){for(var x=0;x<S.frames.length;x++){var D=S.frames[x],M=D.rect.height,P=new Uint8Array(M*D.bpl+M);D.cimg=UPNG.encode._filterZero(D.img,M,D.bpp,D.bpl,P,R,V)}},UPNG.encode.compress=function(S,R,V,x,D){for(var M=D[0],P=D[1],O=D[2],B=D[3],I=D[4],E=6,U=8,L=255,z=0;z<S.length;z++)for(var A=new Uint8Array(S[z]),Q=A.length,J=0;J<Q;J+=4)L&=A[J+3];var ve=255!=L,we=UPNG.encode.framize(S,R,V,M,P,O),te={},ye=[],ke=[];if(0!=x){var ue=[];for(J=0;J<we.length;J++)ue.push(we[J].img.buffer);var ge=UPNG.encode.concatRGBA(ue),_e=UPNG.quantize(ge,x),ne=0,se=new Uint8Array(_e.abuf);for(J=0;J<we.length;J++){var pe=(ni=we[J].img).length;for(ke.push(new Uint8Array(_e.inds.buffer,ne>>2,pe>>2)),z=0;z<pe;z+=4)ni[z]=se[ne+z],ni[z+1]=se[ne+z+1],ni[z+2]=se[ne+z+2],ni[z+3]=se[ne+z+3];ne+=pe}for(J=0;J<_e.plte.length;J++)ye.push(_e.plte[J].est.rgba)}else for(z=0;z<we.length;z++){var me=we[z],Se=new Uint32Array(me.img.buffer),De=me.rect.width,Re=(Q=Se.length,new Uint8Array(Q));for(ke.push(Re),J=0;J<Q;J++){var Ee=Se[J];if(0!=J&&Ee==Se[J-1])Re[J]=Re[J-1];else if(J>De&&Ee==Se[J-De])Re[J]=Re[J-De];else{var Pe=te[Ee];if(null==Pe&&(te[Ee]=Pe=ye.length,ye.push(Ee),ye.length>=300))break;Re[J]=Pe}}}var Ve=ye.length;for(Ve<=256&&0==I&&(U=Ve<=2?1:Ve<=4?2:Ve<=16?4:8,U=Math.max(U,B)),z=0;z<we.length;z++){De=(me=we[z]).rect.width;var Be=me.rect.height,St=me.img;new Uint32Array(St.buffer);var Yt=4*De,Fn=4;if(Ve<=256&&0==I){Yt=Math.ceil(U*De/8);for(var hn=new Uint8Array(Yt*Be),je=ke[z],yn=0;yn<Be;yn++){J=yn*Yt;var Vr=yn*De;if(8==U)for(var ot=0;ot<De;ot++)hn[J+ot]=je[Vr+ot];else if(4==U)for(ot=0;ot<De;ot++)hn[J+(ot>>1)]|=je[Vr+ot]<<4-4*(1&ot);else if(2==U)for(ot=0;ot<De;ot++)hn[J+(ot>>2)]|=je[Vr+ot]<<6-2*(3&ot);else if(1==U)for(ot=0;ot<De;ot++)hn[J+(ot>>3)]|=je[Vr+ot]<<7-1*(7&ot)}St=hn,E=3,Fn=1}else if(0==ve&&1==we.length){hn=new Uint8Array(De*Be*3);var an=De*Be;for(J=0;J<an;J++){var ni,Ae=4*J;hn[ni=3*J]=St[Ae],hn[ni+1]=St[Ae+1],hn[ni+2]=St[Ae+2]}St=hn,E=2,Fn=3,Yt=3*De}me.img=St,me.bpl=Yt,me.bpp=Fn}return{ctype:E,depth:U,plte:ye,frames:we}},UPNG.encode.framize=function(S,R,V,x,D,M){for(var P=[],O=0;O<S.length;O++){var B,I=new Uint8Array(S[O]),E=new Uint32Array(I.buffer),U=0,L=0,z=R,A=V,Q=x?1:0;if(0!=O){for(var J=M||x||1==O||0!=P[O-2].dispose?1:2,ve=0,we=1e9,te=0;te<J;te++){for(var ye=new Uint8Array(S[O-1-te]),ke=new Uint32Array(S[O-1-te]),ue=R,ge=V,_e=-1,ne=-1,se=0;se<V;se++)for(var pe=0;pe<R;pe++)E[Ve=se*R+pe]!=ke[Ve]&&(pe<ue&&(ue=pe),pe>_e&&(_e=pe),se<ge&&(ge=se),se>ne&&(ne=se));-1==_e&&(ue=ge=_e=ne=0),D&&(1==(1&ue)&&ue--,1==(1&ge)&&ge--);var me=(_e-ue+1)*(ne-ge+1);me<we&&(we=me,ve=te,U=ue,L=ge,z=_e-ue+1,A=ne-ge+1)}ye=new Uint8Array(S[O-1-ve]),1==ve&&(P[O-1].dispose=2),B=new Uint8Array(z*A*4),UPNG._copyTile(ye,R,V,B,z,A,-U,-L,0),1==(Q=UPNG._copyTile(I,R,V,B,z,A,-U,-L,3)?1:0)?UPNG.encode._prepareDiff(I,R,V,B,{x:U,y:L,width:z,height:A}):UPNG._copyTile(I,R,V,B,z,A,-U,-L,0)}else B=I.slice(0);P.push({rect:{x:U,y:L,width:z,height:A},img:B,blend:Q,dispose:0})}if(x)for(O=0;O<P.length;O++)if(1!=(Be=P[O]).blend){var Se=Be.rect,De=P[O-1].rect,Re=Math.min(Se.x,De.x),Ee=Math.min(Se.y,De.y),Pe={x:Re,y:Ee,width:Math.max(Se.x+Se.width,De.x+De.width)-Re,height:Math.max(Se.y+Se.height,De.y+De.height)-Ee};P[O-1].dispose=1,O-1!=0&&UPNG.encode._updateFrame(S,R,V,P,O-1,Pe,D),UPNG.encode._updateFrame(S,R,V,P,O,Pe,D)}if(1!=S.length)for(var Ve=0;Ve<P.length;Ve++){var Be;Be=P[Ve]}return P},UPNG.encode._updateFrame=function(S,R,V,x,D,M,P){for(var O=Uint8Array,B=Uint32Array,I=new O(S[D-1]),E=new B(S[D-1]),U=D+1<S.length?new O(S[D+1]):null,L=new O(S[D]),z=new B(L.buffer),A=R,Q=V,J=-1,ve=-1,we=0;we<M.height;we++)for(var te=0;te<M.width;te++){var ye=M.x+te,ke=M.y+we,ue=ke*R+ye,ge=z[ue];0==ge||0==x[D-1].dispose&&E[ue]==ge&&(null==U||0!=U[4*ue+3])||(ye<A&&(A=ye),ye>J&&(J=ye),ke<Q&&(Q=ke),ke>ve&&(ve=ke))}-1==J&&(A=Q=J=ve=0),P&&(1==(1&A)&&A--,1==(1&Q)&&Q--);var _e=x[D];_e.rect=M={x:A,y:Q,width:J-A+1,height:ve-Q+1},_e.blend=1,_e.img=new Uint8Array(M.width*M.height*4),0==x[D-1].dispose?(UPNG._copyTile(I,R,V,_e.img,M.width,M.height,-M.x,-M.y,0),UPNG.encode._prepareDiff(L,R,V,_e.img,M)):UPNG._copyTile(L,R,V,_e.img,M.width,M.height,-M.x,-M.y,0)},UPNG.encode._prepareDiff=function(S,R,V,x,D){UPNG._copyTile(S,R,V,x,D.width,D.height,-D.x,-D.y,2)},UPNG.encode._filterZero=function(S,R,V,x,D,M,P){var O,B=[],I=[0,1,2,3,4];-1!=M?I=[M]:(R*x>5e5||1==V)&&(I=[0]),P&&(O={level:0});for(var E,U=UZIP,L=0;L<I.length;L++){for(var z=0;z<R;z++)UPNG.encode._filterLine(D,S,z,x,V,I[L]);B.push(U.deflate(D,O))}var A=1e9;for(L=0;L<B.length;L++)B[L].length<A&&(E=L,A=B[L].length);return B[E]},UPNG.encode._filterLine=function(S,R,V,x,D,M){var P=V*x,O=P+V,B=UPNG.decode._paeth;if(S[O]=M,O++,0==M)if(x<500)for(var I=0;I<x;I++)S[O+I]=R[P+I];else S.set(new Uint8Array(R.buffer,P,x),O);else if(1==M){for(I=0;I<D;I++)S[O+I]=R[P+I];for(I=D;I<x;I++)S[O+I]=R[P+I]-R[P+I-D]+256&255}else if(0==V){for(I=0;I<D;I++)S[O+I]=R[P+I];if(2==M)for(I=D;I<x;I++)S[O+I]=R[P+I];if(3==M)for(I=D;I<x;I++)S[O+I]=R[P+I]-(R[P+I-D]>>1)+256&255;if(4==M)for(I=D;I<x;I++)S[O+I]=R[P+I]-B(R[P+I-D],0,0)+256&255}else{if(2==M)for(I=0;I<x;I++)S[O+I]=R[P+I]+256-R[P+I-x]&255;if(3==M){for(I=0;I<D;I++)S[O+I]=R[P+I]+256-(R[P+I-x]>>1)&255;for(I=D;I<x;I++)S[O+I]=R[P+I]+256-(R[P+I-x]+R[P+I-D]>>1)&255}if(4==M){for(I=0;I<D;I++)S[O+I]=R[P+I]+256-B(0,R[P+I-x],0)&255;for(I=D;I<x;I++)S[O+I]=R[P+I]+256-B(R[P+I-D],R[P+I-x],R[P+I-D-x])&255}}},UPNG.crc={table:function(){for(var S=new Uint32Array(256),R=0;R<256;R++){for(var V=R,x=0;x<8;x++)1&V?V=3988292384^V>>>1:V>>>=1;S[R]=V}return S}(),update:function(R,V,x,D){for(var M=0;M<D;M++)R=UPNG.crc.table[255&(R^V[x+M])]^R>>>8;return R},crc:function(R,V,x){return 4294967295^UPNG.crc.update(4294967295,R,V,x)}},UPNG.quantize=function(S,R){var V,x=new Uint8Array(S),D=x.slice(0),M=new Uint32Array(D.buffer),P=UPNG.quantize.getKDtree(D,R),O=P[0],B=P[1],I=UPNG.quantize.planeDst,E=x,U=M,L=E.length,z=new Uint8Array(x.length>>2);if(x.length<2e7)for(var A=0;A<L;A+=4){var Q=.00392156862745098*E[A],J=E[A+1]*(1/255),ve=E[A+2]*(1/255),we=E[A+3]*(1/255);V=UPNG.quantize.getNearest(O,Q,J,ve,we),z[A>>2]=V.ind,U[A>>2]=V.est.rgba}else for(A=0;A<L;A+=4){for(Q=E[A]*(1/255),J=E[A+1]*(1/255),ve=E[A+2]*(1/255),we=E[A+3]*(1/255),V=O;V.left;)V=I(V.est,Q,J,ve,we)<=0?V.left:V.right;z[A>>2]=V.ind,U[A>>2]=V.est.rgba}return{abuf:D.buffer,inds:z,plte:B}},UPNG.quantize.getKDtree=function(S,R,V){null==V&&(V=1e-4);var x=new Uint32Array(S.buffer),D={i0:0,i1:S.length,bst:null,est:null,tdst:0,left:null,right:null};D.bst=UPNG.quantize.stats(S,D.i0,D.i1),D.est=UPNG.quantize.estats(D.bst);for(var M=[D];M.length<R;){for(var P=0,O=0,B=0;B<M.length;B++)M[B].est.L>P&&(P=M[B].est.L,O=B);if(P<V)break;var I=M[O],E=UPNG.quantize.splitPixels(S,x,I.i0,I.i1,I.est.e,I.est.eMq255);if(I.i0>=E||I.i1<=E)I.est.L=0;else{var U={i0:I.i0,i1:E,bst:null,est:null,tdst:0,left:null,right:null};U.bst=UPNG.quantize.stats(S,U.i0,U.i1),U.est=UPNG.quantize.estats(U.bst);var L={i0:E,i1:I.i1,bst:null,est:null,tdst:0,left:null,right:null};for(L.bst={R:[],m:[],N:I.bst.N-U.bst.N},B=0;B<16;B++)L.bst.R[B]=I.bst.R[B]-U.bst.R[B];for(B=0;B<4;B++)L.bst.m[B]=I.bst.m[B]-U.bst.m[B];L.est=UPNG.quantize.estats(L.bst),I.left=U,I.right=L,M[O]=U,M.push(L)}}for(M.sort(function(z,A){return A.bst.N-z.bst.N}),B=0;B<M.length;B++)M[B].ind=B;return[D,M]},UPNG.quantize.getNearest=function(S,R,V,x,D){if(null==S.left)return S.tdst=UPNG.quantize.dist(S.est.q,R,V,x,D),S;var M=UPNG.quantize.planeDst(S.est,R,V,x,D),P=S.left,O=S.right;M>0&&(P=S.right,O=S.left);var B=UPNG.quantize.getNearest(P,R,V,x,D);if(B.tdst<=M*M)return B;var I=UPNG.quantize.getNearest(O,R,V,x,D);return I.tdst<B.tdst?I:B},UPNG.quantize.planeDst=function(S,R,V,x,D){var M=S.e;return M[0]*R+M[1]*V+M[2]*x+M[3]*D-S.eMq},UPNG.quantize.dist=function(S,R,V,x,D){var M=R-S[0],P=V-S[1],O=x-S[2],B=D-S[3];return M*M+P*P+O*O+B*B},UPNG.quantize.splitPixels=function(S,R,V,x,D,M){var P=UPNG.quantize.vecDot;for(x-=4;V<x;){for(;P(S,V,D)<=M;)V+=4;for(;P(S,x,D)>M;)x-=4;if(V>=x)break;var O=R[V>>2];R[V>>2]=R[x>>2],R[x>>2]=O,V+=4,x-=4}for(;P(S,V,D)>M;)V-=4;return V+4},UPNG.quantize.vecDot=function(S,R,V){return S[R]*V[0]+S[R+1]*V[1]+S[R+2]*V[2]+S[R+3]*V[3]},UPNG.quantize.stats=function(S,R,V){for(var x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D=[0,0,0,0],M=V-R>>2,P=R;P<V;P+=4){var O=.00392156862745098*S[P],B=S[P+1]*(1/255),I=S[P+2]*(1/255),E=S[P+3]*(1/255);D[0]+=O,D[1]+=B,D[2]+=I,D[3]+=E,x[0]+=O*O,x[1]+=O*B,x[2]+=O*I,x[3]+=O*E,x[5]+=B*B,x[6]+=B*I,x[7]+=B*E,x[10]+=I*I,x[11]+=I*E,x[15]+=E*E}return x[4]=x[1],x[8]=x[2],x[9]=x[6],x[12]=x[3],x[13]=x[7],x[14]=x[11],{R:x,m:D,N:M}},UPNG.quantize.estats=function(S){var R=S.R,V=S.m,x=S.N,D=V[0],M=V[1],P=V[2],O=V[3],B=0==x?0:1/x,I=[R[0]-D*D*B,R[1]-D*M*B,R[2]-D*P*B,R[3]-D*O*B,R[4]-M*D*B,R[5]-M*M*B,R[6]-M*P*B,R[7]-M*O*B,R[8]-P*D*B,R[9]-P*M*B,R[10]-P*P*B,R[11]-P*O*B,R[12]-O*D*B,R[13]-O*M*B,R[14]-O*P*B,R[15]-O*O*B],E=I,U=UPNG.M4,L=[Math.random(),Math.random(),Math.random(),Math.random()],z=0,A=0;if(0!=x)for(var Q=0;Q<16&&(L=U.multVec(E,L),A=Math.sqrt(U.dot(L,L)),L=U.sml(1/A,L),!(0!=Q&&Math.abs(A-z)<1e-9));Q++)z=A;var J=[D*B,M*B,P*B,O*B];return{Cov:I,q:J,e:L,L:z,eMq255:U.dot(U.sml(255,J),L),eMq:U.dot(L,J),rgba:(Math.round(255*J[3])<<24|Math.round(255*J[2])<<16|Math.round(255*J[1])<<8|Math.round(255*J[0])<<0)>>>0}},UPNG.M4={multVec:function(R,V){return[R[0]*V[0]+R[1]*V[1]+R[2]*V[2]+R[3]*V[3],R[4]*V[0]+R[5]*V[1]+R[6]*V[2]+R[7]*V[3],R[8]*V[0]+R[9]*V[1]+R[10]*V[2]+R[11]*V[3],R[12]*V[0]+R[13]*V[1]+R[14]*V[2]+R[15]*V[3]]},dot:function(R,V){return R[0]*V[0]+R[1]*V[1]+R[2]*V[2]+R[3]*V[3]},sml:function(R,V){return[R*V[0],R*V[1],R*V[2],R*V[3]]}},UPNG.encode.concatRGBA=function(S){for(var R=0,V=0;V<S.length;V++)R+=S[V].byteLength;var x=new Uint8Array(R),D=0;for(V=0;V<S.length;V++){for(var M=new Uint8Array(S[V]),P=M.length,O=0;O<P;O+=4){var B=M[O],I=M[O+1],E=M[O+2],U=M[O+3];0==U&&(B=I=E=0),x[D+O]=B,x[D+O+1]=I,x[D+O+2]=E,x[D+O+3]=U}D+=P}return x.buffer};var BROWSER_NAME={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",MOBILE_SAFARI:"MOBILE_SAFARI",ETC:"ETC"},_BROWSER_NAME$CHROME$,MAX_CANVAS_SIZE=(_BROWSER_NAME$CHROME$={},_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.CHROME,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.FIREFOX,11180),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.DESKTOP_SAFARI,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.IE,8192),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.MOBILE_SAFARI,4096),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.ETC,8192),_BROWSER_NAME$CHROME$),isBrowser="undefined"!=typeof window,moduleMapper=isBrowser&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),CustomFile=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"File")||void 0!==window.File&&File),CustomFileReader=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"FileReader")||void 0!==window.FileReader&&FileReader);function getFilefromDataUrl(S,R){var V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return new Promise(function(x){for(var D=S.split(","),M=D[0].match(/:(.*?);/)[1],P=globalThis.atob(D[1]),O=P.length,B=new Uint8Array(O);O--;)B[O]=P.charCodeAt(O);var I=new Blob([B],{type:M});I.name=R,I.lastModified=V,x(I)})}function getDataUrlFromFile(S){return new Promise(function(R,V){var x=new CustomFileReader;x.onload=function(){return R(x.result)},x.onerror=function(D){return V(D)},x.readAsDataURL(S)})}function loadImage(S){return new Promise(function(R,V){var x=new Image;x.onload=function(){return R(x)},x.onerror=function(D){return V(D)},x.src=S})}function getBrowserName(){if(void 0!==getBrowserName.cachedResult)return getBrowserName.cachedResult;var S=BROWSER_NAME.ETC,R=navigator.userAgent;return/Chrom(e|ium)/i.test(R)?S=BROWSER_NAME.CHROME:/iP(ad|od|hone)/i.test(R)&&/WebKit/i.test(R)&&!/(CriOS|FxiOS|OPiOS|mercury)/i.test(R)?S=BROWSER_NAME.MOBILE_SAFARI:/Safari/i.test(R)?S=BROWSER_NAME.DESKTOP_SAFARI:/Firefox/i.test(R)?S=BROWSER_NAME.FIREFOX:(/MSIE/i.test(R)||!!document.documentMode)&&(S=BROWSER_NAME.IE),getBrowserName.cachedResult=S,getBrowserName.cachedResult}function approximateBelowMaximumCanvasSizeOfBrowser(S,R){for(var V=getBrowserName(),x=MAX_CANVAS_SIZE[V],D=S,M=R,P=D*M,O=D>M?M/D:D/M;P>x*x;){var B=(x+D)/2,I=(x+M)/2;B<I?(M=I,D=I*O):(M=B*O,D=B),P=D*M}return{width:D,height:M}}function getNewCanvasAndCtx(S,R){var V,x;try{if(null===(x=(V=new OffscreenCanvas(S,R)).getContext("2d")))throw new Error("getContext of OffscreenCanvas returns null")}catch(D){x=(V=document.createElement("canvas")).getContext("2d")}return V.width=S,V.height=R,[V,x]}function drawImageInCanvas(S){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,V=approximateBelowMaximumCanvasSizeOfBrowser(S.width,S.height),x=V.width,D=V.height,M=getNewCanvasAndCtx(x,D),P=_slicedToArray(M,2),O=P[0],B=P[1];return R&&/jpe?g/.test(R)&&(B.fillStyle="white",B.fillRect(0,0,O.width,O.height)),B.drawImage(S,0,0,O.width,O.height),O}function isIOS(){return void 0!==isIOS.cachedResult||(isIOS.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),isIOS.cachedResult}function drawFileInCanvas(S){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(V,x){var D,M,P=function(){try{return M=drawImageInCanvas(D,R.fileType||S.type),V([D,M])}catch(I){return x(I)}},O=function(I){try{var E=function(L){try{throw L}catch(z){return x(z)}};try{return getDataUrlFromFile(S).then(function(U){try{return loadImage(U).then(function(L){try{return D=L,function(){try{return P()}catch(A){return x(A)}}()}catch(z){return E(z)}},E)}catch(L){return E(L)}},E)}catch(U){E(U)}}catch(U){return x(U)}};try{if(isIOS()||[BROWSER_NAME.DESKTOP_SAFARI,BROWSER_NAME.MOBILE_SAFARI].includes(getBrowserName()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(S).then(function(B){try{return D=B,P()}catch(I){return O()}},O)}catch(B){O()}})}function canvasToFile(S,R,V,x){var D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return new Promise(function(M,P){var O,B,I;if("image/png"===R)return B=S.getContext("2d").getImageData(0,0,S.width,S.height).data,I=UPNG.encode([B],S.width,S.height,256*D),(O=new Blob([I],{type:R})).name=V,O.lastModified=x,E.call(this);{let U=function(){return E.call(this)};return"function"==typeof OffscreenCanvas&&S instanceof OffscreenCanvas?S.convertToBlob({type:R,quality:D}).then(function(L){try{return(O=L).name=V,O.lastModified=x,U.call(this)}catch(z){return P(z)}}.bind(this),P):getFilefromDataUrl(S.toDataURL(R,D),V,x).then(function(L){try{return O=L,U.call(this)}catch(z){return P(z)}}.bind(this),P)}function E(){return M(O)}})}function cleanupCanvasMemory(S){S.width=0,S.height=0}function isAutoOrientationInBrowser(){return new Promise(function(S,R){var V,x,D,M;return void 0!==isAutoOrientationInBrowser.cachedResult?S(isAutoOrientationInBrowser.cachedResult):getFilefromDataUrl("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(P){try{return drawFileInCanvas(V=P).then(function(O){try{return canvasToFile(x=O[1],V.type,V.name,V.lastModified).then(function(B){try{return D=B,cleanupCanvasMemory(x),drawFileInCanvas(D).then(function(I){try{return isAutoOrientationInBrowser.cachedResult=1===(M=I[0]).width&&2===M.height,S(isAutoOrientationInBrowser.cachedResult)}catch(E){return R(E)}},R)}catch(I){return R(I)}},R)}catch(B){return R(B)}},R)}catch(O){return R(O)}},R)})}function getExifOrientation(S){return new Promise(function(R,V){var x=new CustomFileReader;x.onload=function(D){var M=new DataView(D.target.result);if(65496!=M.getUint16(0,!1))return R(-2);for(var P=M.byteLength,O=2;O<P;){if(M.getUint16(O+2,!1)<=8)return R(-1);var B=M.getUint16(O,!1);if(O+=2,65505==B){if(1165519206!=M.getUint32(O+=2,!1))return R(-1);var I=18761==M.getUint16(O+=6,!1);O+=M.getUint32(O+4,I);var E=M.getUint16(O,I);O+=2;for(var U=0;U<E;U++)if(274==M.getUint16(O+12*U,I))return R(M.getUint16(O+12*U+8,I))}else{if(65280!=(65280&B))break;O+=M.getUint16(O,!1)}}return R(-1)},x.onerror=function(D){return V(D)},x.readAsArrayBuffer(S)})}function handleMaxWidthOrHeight(S,R){var V,x=S.width,D=S.height,M=R.maxWidthOrHeight,P=S;if(isFinite(M)&&(x>M||D>M)){var O=_slicedToArray(getNewCanvasAndCtx(x,D),2);P=O[0],V=O[1],x>D?(P.width=M,P.height=D/x*M):(P.width=x/D*M,P.height=M),V.drawImage(S,0,0,P.width,P.height),cleanupCanvasMemory(S)}return P}function followExifOrientation(S,R){var V=S.width,x=S.height,D=_slicedToArray(getNewCanvasAndCtx(V,x),2),M=D[0],P=D[1];switch(R>4&&R<9?(M.width=x,M.height=V):(M.width=V,M.height=x),R){case 2:P.transform(-1,0,0,1,V,0);break;case 3:P.transform(-1,0,0,-1,V,x);break;case 4:P.transform(1,0,0,-1,0,x);break;case 5:P.transform(0,1,1,0,0,0);break;case 6:P.transform(0,1,-1,0,x,0);break;case 7:P.transform(0,-1,-1,0,x,V);break;case 8:P.transform(0,-1,1,0,0,V)}return P.drawImage(S,0,0,V,x),cleanupCanvasMemory(S),M}function compress(S,R){var V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise(function(x,D){var M,P,O,B,I,E,U,L,z,A,Q,J,ve,we,te,ye,ke,ue,ge;function _e(){var se=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;if(R.signal&&R.signal.aborted)throw R.signal.reason;M+=se,R.onProgress(Math.min(M,100))}function ne(se){if(R.signal&&R.signal.aborted)throw R.signal.reason;M=Math.min(Math.max(se,M),100),R.onProgress(M)}return M=V,P=R.maxIteration||10,O=1024*R.maxSizeMB*1024,_e(),drawFileInCanvas(S,R).then(function(se){try{var pe=_slicedToArray(se,2);return B=pe[1],_e(),I=handleMaxWidthOrHeight(B,R),_e(),new Promise(function(me,Se){var De;if(!(De=R.exifOrientation))return getExifOrientation(S).then(function(Ee){try{return De=Ee,Re.call(this)}catch(Pe){return Se(Pe)}}.bind(this),Se);function Re(){return me(De)}return Re.call(this)}).then(function(me){try{return E=me,_e(),isAutoOrientationInBrowser().then(function(Se){try{return U=Se?I:followExifOrientation(I,E),_e(),canvasToFile(U,z=R.fileType||S.type,S.name,S.lastModified,L=R.initialQuality||1).then(function(De){try{{let Ee=function(){if(P--&&(te>O||te>ve)){var Ve,Be,St=_slicedToArray(getNewCanvasAndCtx(Ve=ge?.95*ue.width:ue.width,Be=ge?.95*ue.height:ue.height),2);return ke=St[0],St[1].drawImage(ue,0,0,Ve,Be),canvasToFile(ke,z,S.name,S.lastModified,L*=.95).then(function(Yt){try{return ye=Yt,cleanupCanvasMemory(ue),ue=ke,te=ye.size,ne(Math.min(99,Math.floor((we-te)/(we-O)*100))),Ee}catch(Fn){return D(Fn)}},D)}return[1]},Pe=function(){return cleanupCanvasMemory(ue),cleanupCanvasMemory(ke),cleanupCanvasMemory(I),cleanupCanvasMemory(U),cleanupCanvasMemory(B),ne(100),x(ye)};return A=De,_e(),J=A.size>S.size,(Q=A.size>O)||J?(ve=S.size,te=we=A.size,ue=U,ge=!R.alwaysKeepResolution&&Q,(Re=function(Ve){for(;Ve;){if(Ve.then)return void Ve.then(Re,D);try{if(Ve.pop){if(Ve.length)return Ve.pop()?Pe.call(this):Ve;Ve=Ee}else Ve=Ve.call(this)}catch(Be){return D(Be)}}}.bind(this))(Ee)):(ne(100),x(A));var Re}}catch(Ee){return D(Ee)}}.bind(this),D)}catch(De){return D(De)}}.bind(this),D)}catch(Se){return D(Se)}}.bind(this),D)}catch(me){return D(me)}}.bind(this),D)})}var cnt=0,imageCompressionLibUrl,worker;function createWorker(S){var R=[];return R.push("function"==typeof S?"(".concat(S,")()"):S),new Worker(URL.createObjectURL(new Blob(R)))}function createSourceObject(S){return URL.createObjectURL(new Blob([S],{type:"application/javascript"}))}function stringify(S){return JSON.stringify(S,function(R,V){return"function"==typeof V?"BIC_FN:::(function () { return ".concat(V.toString()," })()"):V})}function parse(o){if("string"==typeof o)return o;var result={};return Object.entries(o).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];if("string"==typeof value&&value.startsWith("BIC_FN:::"))try{result[key]=eval(value.replace(/^BIC_FN:::/,""))}catch(S){throw S}else result[key]=parse(value)}),result}function generateLib(){return createSourceObject("\n    // reconstruct library\n    function imageCompression (){return (".concat(imageCompression,").apply(null, arguments)}\n\n    imageCompression.getDataUrlFromFile = ").concat(imageCompression.getDataUrlFromFile,"\n    imageCompression.getFilefromDataUrl = ").concat(imageCompression.getFilefromDataUrl,"\n    imageCompression.loadImage = ").concat(imageCompression.loadImage,"\n    imageCompression.drawImageInCanvas = ").concat(imageCompression.drawImageInCanvas,"\n    imageCompression.drawFileInCanvas = ").concat(imageCompression.drawFileInCanvas,"\n    imageCompression.canvasToFile = ").concat(imageCompression.canvasToFile,"\n    imageCompression.getExifOrientation = ").concat(imageCompression.getExifOrientation,"\n    imageCompression.handleMaxWidthOrHeight = ").concat(imageCompression.handleMaxWidthOrHeight,"\n    imageCompression.followExifOrientation = ").concat(imageCompression.followExifOrientation,"\n    imageCompression.cleanupCanvasMemory = ").concat(imageCompression.cleanupCanvasMemory,"\n    imageCompression.isAutoOrientationInBrowser = ").concat(imageCompression.isAutoOrientationInBrowser,"\n    imageCompression.approximateBelowMaximumCanvasSizeOfBrowser = ").concat(imageCompression.approximateBelowMaximumCanvasSizeOfBrowser,"\n    imageCompression.getBrowserName = ").concat(imageCompression.getBrowserName,"\n\n    // functions / objects\n    getDataUrlFromFile = imageCompression.getDataUrlFromFile\n    getFilefromDataUrl = imageCompression.getFilefromDataUrl\n    loadImage = imageCompression.loadImage\n    drawImageInCanvas = imageCompression.drawImageInCanvas\n    drawFileInCanvas = imageCompression.drawFileInCanvas\n    canvasToFile = imageCompression.canvasToFile\n    getExifOrientation = imageCompression.getExifOrientation\n    handleMaxWidthOrHeight = imageCompression.handleMaxWidthOrHeight\n    followExifOrientation = imageCompression.followExifOrientation\n    cleanupCanvasMemory = imageCompression.cleanupCanvasMemory\n    isAutoOrientationInBrowser = imageCompression.isAutoOrientationInBrowser\n    approximateBelowMaximumCanvasSizeOfBrowser = imageCompression.approximateBelowMaximumCanvasSizeOfBrowser\n    getBrowserName = imageCompression.getBrowserName\n    isIOS = ").concat(isIOS,"\n    \n    getNewCanvasAndCtx = ").concat(getNewCanvasAndCtx,"\n    CustomFileReader = FileReader\n    CustomFile = File\n    MAX_CANVAS_SIZE = ").concat(JSON.stringify(MAX_CANVAS_SIZE),"\n    BROWSER_NAME = ").concat(JSON.stringify(BROWSER_NAME),"\n    function compress (){return (").concat(compress,").apply(null, arguments)}\n\n    // core-js\n    function _slicedToArray(arr, n) { return arr }\n    function _typeof(a) { return typeof a }\n    function _objectSpread2(target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {};\n  \n        Object.assign(target, source)\n      }\n  \n      return target;\n    }\n\n    // Libraries\n    const parse = ").concat(parse,"\n    const UPNG = {}\n    UPNG.toRGBA8 = ").concat(UPNG.toRGBA8,"\n    UPNG.toRGBA8.decodeImage = ").concat(UPNG.toRGBA8.decodeImage,"\n    UPNG.decode = ").concat(UPNG.decode,"\n    UPNG.decode._decompress = ").concat(UPNG.decode._decompress,"\n    UPNG.decode._inflate = ").concat(UPNG.decode._inflate,"\n    UPNG.decode._readInterlace = ").concat(UPNG.decode._readInterlace,"\n    UPNG.decode._getBPP = ").concat(UPNG.decode._getBPP," \n    UPNG.decode._filterZero = ").concat(UPNG.decode._filterZero,"\n    UPNG.decode._paeth = ").concat(UPNG.decode._paeth,"\n    UPNG.decode._IHDR = ").concat(UPNG.decode._IHDR,"\n    UPNG._bin = parse(").concat(stringify(UPNG._bin),")\n    UPNG._copyTile = ").concat(UPNG._copyTile,"\n    UPNG.encode = ").concat(UPNG.encode,"\n    UPNG.encodeLL = ").concat(UPNG.encodeLL," \n    UPNG.encode._main = ").concat(UPNG.encode._main,"\n    UPNG.encode.compressPNG = ").concat(UPNG.encode.compressPNG," \n    UPNG.encode.compress = ").concat(UPNG.encode.compress,"\n    UPNG.encode.framize = ").concat(UPNG.encode.framize," \n    UPNG.encode._updateFrame = ").concat(UPNG.encode._updateFrame," \n    UPNG.encode._prepareDiff = ").concat(UPNG.encode._prepareDiff," \n    UPNG.encode._filterZero = ").concat(UPNG.encode._filterZero," \n    UPNG.encode._filterLine = ").concat(UPNG.encode._filterLine,"\n    UPNG.encode.concatRGBA = ").concat(UPNG.encode.concatRGBA,"\n    UPNG.crc = parse(").concat(stringify(UPNG.crc),")\n    UPNG.crc.table = ( function() {\n    var tab = new Uint32Array(256);\n    for (var n=0; n<256; n++) {\n      var c = n;\n      for (var k=0; k<8; k++) {\n        if (c & 1)  c = 0xedb88320 ^ (c >>> 1);\n        else        c = c >>> 1;\n      }\n      tab[n] = c;  }\n    return tab;  })()\n    UPNG.quantize = ").concat(UPNG.quantize," \n    UPNG.quantize.getKDtree = ").concat(UPNG.quantize.getKDtree," \n    UPNG.quantize.getNearest = ").concat(UPNG.quantize.getNearest," \n    UPNG.quantize.planeDst = ").concat(UPNG.quantize.planeDst," \n    UPNG.quantize.dist = ").concat(UPNG.quantize.dist,"     \n    UPNG.quantize.splitPixels = ").concat(UPNG.quantize.splitPixels," \n    UPNG.quantize.vecDot = ").concat(UPNG.quantize.vecDot," \n    UPNG.quantize.stats = ").concat(UPNG.quantize.stats," \n    UPNG.quantize.estats = ").concat(UPNG.quantize.estats,"\n    UPNG.M4 = parse(").concat(stringify(UPNG.M4),")\n    UPNG.encode.concatRGBA = ").concat(UPNG.encode.concatRGBA,'\n    UPNG.inflateRaw=function(){\n    var H={};H.H={};H.H.N=function(N,W){var R=Uint8Array,i=0,m=0,J=0,h=0,Q=0,X=0,u=0,w=0,d=0,v,C;\n      if(N[0]==3&&N[1]==0)return W?W:new R(0);var V=H.H,n=V.b,A=V.e,l=V.R,M=V.n,I=V.A,e=V.Z,b=V.m,Z=W==null;\n      if(Z)W=new R(N.length>>>2<<5);while(i==0){i=n(N,d,1);m=n(N,d+1,2);d+=3;if(m==0){if((d&7)!=0)d+=8-(d&7);\n        var D=(d>>>3)+4,q=N[D-4]|N[D-3]<<8;if(Z)W=H.H.W(W,w+q);W.set(new R(N.buffer,N.byteOffset+D,q),w);d=D+q<<3;\n        w+=q;continue}if(Z)W=H.H.W(W,w+(1<<17));if(m==1){v=b.J;C=b.h;X=(1<<9)-1;u=(1<<5)-1}if(m==2){J=A(N,d,5)+257;\n        h=A(N,d+5,5)+1;Q=A(N,d+10,4)+4;d+=14;var E=d,j=1;for(var c=0;c<38;c+=2){b.Q[c]=0;b.Q[c+1]=0}for(var c=0;\n                                                                                                        c<Q;c++){var K=A(N,d+c*3,3);b.Q[(b.X[c]<<1)+1]=K;if(K>j)j=K}d+=3*Q;M(b.Q,j);I(b.Q,j,b.u);v=b.w;C=b.d;\n        d=l(b.u,(1<<j)-1,J+h,N,d,b.v);var r=V.V(b.v,0,J,b.C);X=(1<<r)-1;var S=V.V(b.v,J,h,b.D);u=(1<<S)-1;M(b.C,r);\n        I(b.C,r,v);M(b.D,S);I(b.D,S,C)}while(!0){var T=v[e(N,d)&X];d+=T&15;var p=T>>>4;if(p>>>8==0){W[w++]=p}else if(p==256){break}else{var z=w+p-254;\n        if(p>264){var _=b.q[p-257];z=w+(_>>>3)+A(N,d,_&7);d+=_&7}var $=C[e(N,d)&u];d+=$&15;var s=$>>>4,Y=b.c[s],a=(Y>>>4)+n(N,d,Y&15);\n        d+=Y&15;while(w<z){W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a]}w=z}}}return W.length==w?W:W.slice(0,w)};\n      H.H.W=function(N,W){var R=N.length;if(W<=R)return N;var V=new Uint8Array(R<<1);V.set(N,0);return V};\n      H.H.R=function(N,W,R,V,n,A){var l=H.H.e,M=H.H.Z,I=0;while(I<R){var e=N[M(V,n)&W];n+=e&15;var b=e>>>4;\n        if(b<=15){A[I]=b;I++}else{var Z=0,m=0;if(b==16){m=3+l(V,n,2);n+=2;Z=A[I-1]}else if(b==17){m=3+l(V,n,3);\n          n+=3}else if(b==18){m=11+l(V,n,7);n+=7}var J=I+m;while(I<J){A[I]=Z;I++}}}return n};H.H.V=function(N,W,R,V){var n=0,A=0,l=V.length>>>1;\n        while(A<R){var M=N[A+W];V[A<<1]=0;V[(A<<1)+1]=M;if(M>n)n=M;A++}while(A<l){V[A<<1]=0;V[(A<<1)+1]=0;A++}return n};\n      H.H.n=function(N,W){var R=H.H.m,V=N.length,n,A,l,M,I,e=R.j;for(var M=0;M<=W;M++)e[M]=0;for(M=1;M<V;M+=2)e[N[M]]++;\n        var b=R.K;n=0;e[0]=0;for(A=1;A<=W;A++){n=n+e[A-1]<<1;b[A]=n}for(l=0;l<V;l+=2){I=N[l+1];if(I!=0){N[l]=b[I];\n          b[I]++}}};H.H.A=function(N,W,R){var V=N.length,n=H.H.m,A=n.r;for(var l=0;l<V;l+=2)if(N[l+1]!=0){var M=l>>1,I=N[l+1],e=M<<4|I,b=W-I,Z=N[l]<<b,m=Z+(1<<b);\n        while(Z!=m){var J=A[Z]>>>15-W;R[J]=e;Z++}}};H.H.l=function(N,W){var R=H.H.m.r,V=15-W;for(var n=0;n<N.length;\n                                                                                                 n+=2){var A=N[n]<<W-N[n+1];N[n]=R[A]>>>V}};H.H.M=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8};\n      H.H.I=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8;N[V+2]|=R>>>16};H.H.e=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8)>>>(W&7)&(1<<R)-1};\n      H.H.b=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)&(1<<R)-1};H.H.Z=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)};\n      H.H.i=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16|N[(W>>>3)+3]<<24)>>>(W&7)};H.H.m=function(){var N=Uint16Array,W=Uint32Array;\n        return{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(1<<15),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(1<<16),g:new N(1<<15)}}();\n      (function(){var N=H.H.m,W=1<<15;for(var R=0;R<W;R++){var V=R;V=(V&2863311530)>>>1|(V&1431655765)<<1;\n        V=(V&3435973836)>>>2|(V&858993459)<<2;V=(V&4042322160)>>>4|(V&252645135)<<4;V=(V&4278255360)>>>8|(V&16711935)<<8;\n        N.r[R]=(V>>>16|V<<16)>>>17}function n(A,l,M){while(l--!=0)A.push(0,M)}for(var R=0;R<32;R++){N.q[R]=N.S[R]<<3|N.T[R];\n        N.c[R]=N.p[R]<<4|N.z[R]}n(N._,144,8);n(N._,255-143,9);n(N._,279-255,7);n(N._,287-279,8);H.H.n(N._,9);\n        H.H.A(N._,9,N.J);H.H.l(N._,9);n(N.$,32,5);H.H.n(N.$,5);H.H.A(N.$,5,N.h);H.H.l(N.$,5);n(N.Q,19,0);n(N.C,286,0);\n        n(N.D,30,0);n(N.v,320,0)}());return H.H.N}()\n    \n    const UZIP = {}\n    UZIP["parse"] = ').concat(UZIP_1.parse,"\n    UZIP._readLocal = ").concat(UZIP_1._readLocal,"\n    UZIP.inflateRaw = ").concat(UZIP_1.inflateRaw,"\n    UZIP.inflate = ").concat(UZIP_1.inflate,"\n    UZIP.deflate = ").concat(UZIP_1.deflate,"\n    UZIP.deflateRaw = ").concat(UZIP_1.deflateRaw,"\n    UZIP.encode = ").concat(UZIP_1.encode,"\n    UZIP._noNeed = ").concat(UZIP_1._noNeed,"\n    UZIP._writeHeader = ").concat(UZIP_1._writeHeader,"\n    UZIP.crc = parse(").concat(stringify(UZIP_1.crc),")\n    UZIP.crc.table = ( function() {\n      var tab = new Uint32Array(256);\n      for (var n=0; n<256; n++) {\n        var c = n;\n        for (var k=0; k<8; k++) {\n          if (c & 1)  c = 0xedb88320 ^ (c >>> 1);\n          else        c = c >>> 1;\n        }\n        tab[n] = c;  }\n      return tab;  })()\n    \n    UZIP.adler = ").concat(UZIP_1.adler,"\n    UZIP.bin = parse(").concat(stringify(UZIP_1.bin),")\n    UZIP.F = {}\n    UZIP.F.deflateRaw = ").concat(UZIP_1.F.deflateRaw,"\n    UZIP.F._bestMatch = ").concat(UZIP_1.F._bestMatch,"\n    UZIP.F._howLong = ").concat(UZIP_1.F._howLong,"\n    UZIP.F._hash = ").concat(UZIP_1.F._hash,"\n    UZIP.saved = ").concat(UZIP_1.saved,"\n    UZIP.F._writeBlock = ").concat(UZIP_1.F._writeBlock,"\n    UZIP.F._copyExact = ").concat(UZIP_1.F._copyExact,"\n    UZIP.F.getTrees = ").concat(UZIP_1.F.getTrees,"\n    UZIP.F.getSecond = ").concat(UZIP_1.F.getSecond,"\n    UZIP.F.nonZero = ").concat(UZIP_1.F.nonZero,"\n    UZIP.F.contSize = ").concat(UZIP_1.F.contSize,"\n    UZIP.F._codeTiny = ").concat(UZIP_1.F._codeTiny," \n    UZIP.F._lenCodes = ").concat(UZIP_1.F._lenCodes," \n    UZIP.F._hufTree = ").concat(UZIP_1.F._hufTree," \n    UZIP.F.setDepth = ").concat(UZIP_1.F.setDepth," \n    UZIP.F.restrictDepth = ").concat(UZIP_1.F.restrictDepth,"\n    UZIP.F._goodIndex = ").concat(UZIP_1.F._goodIndex," \n    UZIP.F._writeLit = ").concat(UZIP_1.F._writeLit," \n    UZIP.F.inflate = ").concat(UZIP_1.F.inflate," \n    UZIP.F._check = ").concat(UZIP_1.F._check," \n    UZIP.F._decodeTiny = ").concat(UZIP_1.F._decodeTiny," \n    UZIP.F._copyOut = ").concat(UZIP_1.F._copyOut," \n    UZIP.F.makeCodes = ").concat(UZIP_1.F.makeCodes," \n    UZIP.F.codes2map = ").concat(UZIP_1.F.codes2map," \n    UZIP.F.revCodes = ").concat(UZIP_1.F.revCodes," \n\n    // used only in deflate\n    UZIP.F._putsE = ").concat(UZIP_1.F._putsE,"\n    UZIP.F._putsF = ").concat(UZIP_1.F._putsF,"\n  \n    UZIP.F._bitsE = ").concat(UZIP_1.F._bitsE,"\n    UZIP.F._bitsF = ").concat(UZIP_1.F._bitsF,"\n\n    UZIP.F._get17 = ").concat(UZIP_1.F._get17,"\n    UZIP.F._get25 = ").concat(UZIP_1.F._get25,"\n    UZIP.F.U = function(){\n      var u16=Uint16Array, u32=Uint32Array;\n      return {\n        next_code : new u16(16),\n        bl_count  : new u16(16),\n        ordr : [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ],\n        of0  : [3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],\n        exb  : [0,0,0,0,0,0,0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4,  4,  5,  5,  5,  5,  0,  0,  0,  0],\n        ldef : new u16(32),\n        df0  : [1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577, 65535, 65535],\n        dxb  : [0,0,0,0,1,1,2, 2, 3, 3, 4, 4, 5, 5,  6,  6,  7,  7,  8,  8,   9,   9,  10,  10,  11,  11,  12,   12,   13,   13,     0,     0],\n        ddef : new u32(32),\n        flmap: new u16(  512),  fltree: [],\n        fdmap: new u16(   32),  fdtree: [],\n        lmap : new u16(32768),  ltree : [],  ttree:[],\n        dmap : new u16(32768),  dtree : [],\n        imap : new u16(  512),  itree : [],\n        //rev9 : new u16(  512)\n        rev15: new u16(1<<15),\n        lhst : new u32(286), dhst : new u32( 30), ihst : new u32(19),\n        lits : new u32(15000),\n        strt : new u16(1<<16),\n        prev : new u16(1<<15)\n      };\n    } ();\n\n    (function(){\n      var U = UZIP.F.U;\n      var len = 1<<15;\n      for(var i=0; i<len; i++) {\n        var x = i;\n        x = (((x & 0xaaaaaaaa) >>> 1) | ((x & 0x55555555) << 1));\n        x = (((x & 0xcccccccc) >>> 2) | ((x & 0x33333333) << 2));\n        x = (((x & 0xf0f0f0f0) >>> 4) | ((x & 0x0f0f0f0f) << 4));\n        x = (((x & 0xff00ff00) >>> 8) | ((x & 0x00ff00ff) << 8));\n        U.rev15[i] = (((x >>> 16) | (x << 16)))>>>17;\n      }\n  \n      function pushV(tgt, n, sv) {  while(n--!=0) tgt.push(0,sv);  }\n  \n      for(var i=0; i<32; i++) {  U.ldef[i]=(U.of0[i]<<3)|U.exb[i];  U.ddef[i]=(U.df0[i]<<4)|U.dxb[i];  }\n  \n      pushV(U.fltree, 144, 8);  pushV(U.fltree, 255-143, 9);  pushV(U.fltree, 279-255, 7);  pushV(U.fltree,287-279,8);\n      /*\n        var i = 0;\n        for(; i<=143; i++) U.fltree.push(0,8);\n        for(; i<=255; i++) U.fltree.push(0,9);\n        for(; i<=279; i++) U.fltree.push(0,7);\n        for(; i<=287; i++) U.fltree.push(0,8);\n        */\n      UZIP.F.makeCodes(U.fltree, 9);\n      UZIP.F.codes2map(U.fltree, 9, U.flmap);\n      UZIP.F.revCodes (U.fltree, 9)\n  \n      pushV(U.fdtree,32,5);\n      //for(i=0;i<32; i++) U.fdtree.push(0,5);\n      UZIP.F.makeCodes(U.fdtree, 5);\n      UZIP.F.codes2map(U.fdtree, 5, U.fdmap);\n      UZIP.F.revCodes (U.fdtree, 5)\n  \n      pushV(U.itree,19,0);  pushV(U.ltree,286,0);  pushV(U.dtree,30,0);  pushV(U.ttree,320,0);\n      /*\n        for(var i=0; i< 19; i++) U.itree.push(0,0);\n        for(var i=0; i<286; i++) U.ltree.push(0,0);\n        for(var i=0; i< 30; i++) U.dtree.push(0,0);\n        for(var i=0; i<320; i++) U.ttree.push(0,0);\n        */\n    })()\n    "))}function generateWorkerScript(){return createWorker("\n    let scriptImported = false\n    self.addEventListener('message', async (e) => {\n      const { file, id, imageCompressionLibUrl, options } = e.data\n      options.onProgress = (progress) => self.postMessage({ progress, id })\n      try {\n        if (!scriptImported) {\n          // console.log('[worker] importScripts', imageCompressionLibUrl)\n          self.importScripts(imageCompressionLibUrl)\n          scriptImported = true\n        }\n        // console.log('[worker] self', self)\n        const compressedFile = await imageCompression(file, options)\n        self.postMessage({ file: compressedFile, id })\n      } catch (e) {\n        // console.error('[worker] error', e)\n        self.postMessage({ error: e.message + '\\n' + e.stack, id })\n      }\n    })\n  ")}function compressOnWebWorker(S,R){return new Promise(function(V,x){var D=cnt+=1;imageCompressionLibUrl||(imageCompressionLibUrl=generateLib()),worker||(worker=generateWorkerScript()),worker.addEventListener("message",function M(P){if(P.data.id===D){if(R.signal&&R.signal.aborted)return;if(void 0!==P.data.progress)return void R.onProgress(P.data.progress);worker.removeEventListener("message",M),P.data.error&&x(new Error(P.data.error)),V(P.data.file)}}),worker.addEventListener("error",x),R.signal&&R.signal.addEventListener("abort",function(){worker.terminate(),x(R.signal.reason)}),worker.postMessage({file:S,id:D,imageCompressionLibUrl,options:_objectSpread2(_objectSpread2({},R),{},{onProgress:void 0,signal:void 0})})})}function imageCompression(S,R){return new Promise(function(V,x){var D,M,P,O,B,I;if(D=_objectSpread2({},R),P=0,O=D.onProgress,D.maxSizeMB=D.maxSizeMB||Number.POSITIVE_INFINITY,B="boolean"!=typeof D.useWebWorker||D.useWebWorker,delete D.useWebWorker,D.onProgress=function(z){P=z,"function"==typeof O&&O(P)},!(S instanceof Blob||S instanceof CustomFile))return x(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(S.type))return x(new Error("The file given is not an image"));if(I="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!B||"function"!=typeof Worker||I)return compress(S,D).then(function(z){try{return M=z,L.call(this)}catch(A){return x(A)}}.bind(this),x);var E=function(){try{return L.call(this)}catch(z){return x(z)}}.bind(this),U=function(A){try{return compress(S,D).then(function(Q){try{return M=Q,E()}catch(J){return x(J)}},x)}catch(Q){return x(Q)}};try{return compressOnWebWorker(S,D).then(function(z){try{return M=z,E()}catch(A){return U()}},U)}catch(z){U()}function L(){try{M.name=S.name,M.lastModified=S.lastModified}catch(z){}return V(M)}})}imageCompression.getDataUrlFromFile=getDataUrlFromFile,imageCompression.getFilefromDataUrl=getFilefromDataUrl,imageCompression.loadImage=loadImage,imageCompression.drawImageInCanvas=drawImageInCanvas,imageCompression.drawFileInCanvas=drawFileInCanvas,imageCompression.canvasToFile=canvasToFile,imageCompression.getExifOrientation=getExifOrientation,imageCompression.handleMaxWidthOrHeight=handleMaxWidthOrHeight,imageCompression.followExifOrientation=followExifOrientation,imageCompression.cleanupCanvasMemory=cleanupCanvasMemory,imageCompression.isAutoOrientationInBrowser=isAutoOrientationInBrowser,imageCompression.approximateBelowMaximumCanvasSizeOfBrowser=approximateBelowMaximumCanvasSizeOfBrowser,imageCompression.getBrowserName=getBrowserName,imageCompression.version="2.0.0"}},S=>{S(S.s=749)}]);